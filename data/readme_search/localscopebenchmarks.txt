localscopebenchmarks tired adding benchmark btime try localbtime instead introduction benchmarktools amazingly useful package benchmarking julia code notable gotcha expression benchmarked run global scope variables references necessity enthusiasts recall performance tip avoid const type change time relied compiler result naively using results benchmarks appear slower due cost accessing globals example common mistake looks sin allocation bytes nanoseconds bit slow unexpected heap memory solution easy explained manual interpolate value force looked variable allocations faster interpolating representative fast behave input inside function found interpolation trick consistently annoying caused impressive amount confusion kudos niclasmattsson discourse finding enter tries exactly save remember add observe measurement hooray installation pkg press repl usage provides localbenchmark localbelapsed analogous belapsed support inputs return types equivalents thin wrapper existing macros local versions treating hood setup evals keyword arguments normal values includes spent calling rand sum kib interpolates computed