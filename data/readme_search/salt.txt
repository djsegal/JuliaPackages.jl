salt solver development equations steady initio lasing theory solving directly sparse nonlinear system described esterhazy liu liertzer cerjan makris stone melenk johnson rotter scalable numerical approach laser phys rev august originally written standalone program currently process connecting scripting front julia language prerequisites code requires petsc slepc installed version mumps easily satisfy ubuntu simply sudo apt install dev add following bashrc export dir usr lib petscdir linux gnu real slepcdir note using directories maintainer package chose instead compiler due limitation breaks compatibility complex header file please build source macos homebrew formula doesn option homepage configure command download fblaslapack parmetis metis scalapack openmpi follow instructions script prints finally set environmental variables respective top level files deps line output begins mpicc mpicxx built incorrectly rebuild example simple ring uniform dielectric gain convenience prepared found examples directory threshold passive pole frequency run section creeper variable pass thresh dmax newtonf tol reuse printnewton linear eigensolver poles near outputs matlab mode reason format defaults completely compatible read include usual provided characters comments replaced takes increments pump strength value intermediate strengths incrementing modes solve discuss examine main executable bash contains parameters geometrical specifications geo npmlx npmly npmlz lowerpml epsfile eps txt epsifile epsi fproffile gamma manual epspml epstilde components electric field polarized vectorial fields total pixels including perfectly matched layer pml describe geometries npml placed boundaries zero loss modelled imaginary soon parameter determines upper lower boundary determine width arbitrary length units single pixel chooses speed light results additionally values chosen matter look input existing text function grid repeated times unity specifies simulate radiation cavities outgoing conditions model realistically nonzero omitted result taking purely profile ones unlike optional remaining block atomic relaxation polarization rate respectively manualepspml advanced features manually providing computed outputting debugging purposes invoked calling wreal wimag norm passiveout nev type sinvert guess bottom roughly eigenpairs looking told save approximately mirror relevant half computational cell direction setting impose odd possibilities dirichlet trying default bloch wave vectors directions lasers periodic media photonic crystals vector equivalent provides overall scaling eigenvector usually adjusted stability issue modifications filename prefix third filenames extension exist prior initial automatically situation multiple suffix caveat else error occur increment equation final desired positive indicates negative rest settings running commands listed thres exactly closer psi information elements expression comes additional amplitude self explanatory exception ifix position normalize fix phase ignored element indeed explicitly routine tolerance step increase starts modify moved approxiately hence choose twice