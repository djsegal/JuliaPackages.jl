varbayes package implements expectation maximization variational bayes inference graphical models designed ability arbitrary user specified distributions minimal mathematical busywork moment mixture finite dirichlet process supported background implementations methods usually rigid limited customizability desires model slightly implemented requires writing scratch deriving equations associated time consuming makes experimentation difficult ensuring resulting correct debugging due stochastic nature packages exist mcmc sampling openbugs jags slow issues convergence various proposals implement symbolic transformation specifications executable code compiler approach insofar fragile subset compiled aim entirely instead program writes write set tools easier combining sophisticated importantly abstract details mathematics express experiment ideas verification fast production purposes required please note currently serves mainly development testbed complete version future change project matures including picture architecture entire library interface builds developed procedure building consists defining component distribution mvnormal mixing categorical wrapped prior normalinversewishart functions defined custom types calculating log pdf provided rest applying iterative updates optimal parameters faciliate commonly src directory examples