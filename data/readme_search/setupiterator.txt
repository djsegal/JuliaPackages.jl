setupiterator sometimes data structure iterate complicated express base iterators gone trouble appropriate iterator example consider struct vectorofvectors vector iteratoreltype iteratorsize haslength length vov isempty sum supose treat semantically flat concatenate contents writing method type actually somewhat difficult juggle constituent vectors check sub current iteration corresponds wouldn akin wish flatten enter using setup julia normally write stuff lowered code equivalent itr remaining references inside loop implement destructive reclaim memory runs inspiration comes mike innes issue credit jameson nash