smartphores provides standard semaphores machinery sole distinction provide ids available slots helpful allocated chunks memory shared call acquire returns integer value indicates chunk assigned released using release calls smartphore size int creates acquires permit permitid releases mild hack julia semaphore found lock mit license applies simple example demonstrate function howthisworks blocks zeros threads local println thread threadid block mine giving