foreigncallbacks callbacks executing foreign julia thread allowed interact runtime canonical exception base asynccondition async send event trigger mapped triggers handle coalesced invocation implements lock free queue pass data callback passed satisfy ismutabletype datatype pointerfree example import struct message int ptr cvoid barrier foreigncallback msg info received notify return preserve begin token foreigntoken cfunction sync threads spawn null ccall wait