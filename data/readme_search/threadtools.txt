threadtools package implements utilities using threads julia provided spawnatmost spawn carry loop tmap args nthreads int threaded map optional argument limits parallel falls regular access thread withlock abstractlock executes function call lock unlock unlocked throws exception calls expression macro tools limit useful disk overloaded try time examples spinlock times avilable protect array push println sleep round diff digits element float threadid version expected true nondeterministic result false locking mechanism comes benchmark benchmarks machine physical cores following benchmarking fib return light workload fill factorial belapsed plot xlabel ylabel hline label tasks ylims inf conclusion loads overhead consider kissthreading advanced approach heavy effective computational load