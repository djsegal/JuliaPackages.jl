npdemand package designed data markets potentially products market select subgroups substitution strongest estimate structural demand curves nonparametrically currently handle subgroup fewer price observed product characteristic fairly complicated quickly curse dimensionality please suggestions installation isn registered install pkg add https github com jamesbrandecon usage functions included inverse elasticity hiernet boot dataframe takes input columns shares sharesj prices pricesj instruments instrumentsj estimates separately function approximated bernstein polynomial user chosen options demonstrated examples inv sigma output returns cross elasticities according matrix specifies substitutes calculated pre specified vector realized former requires solving counterfactual setting option trues false getting sense shape curve latter example calculate markups traditional models static pricing industrial organization model selection run constrained lasso regressions details draft coming soon subsets strong runs procedure multiple times bootstrapped samples intersection selected bootstraps include extraneous helpful additional simulate logit allows easily system endogenous test short files demonstrates provides descriptions relevant inputs follows modified version bien simply regress changing stage random forest list hierarchical predicted weak hierarchy imposed regression approximates interacted quadratic define substitute linear coefficient zero natural term interactions involving nonzero interaction terms definition implicitly treats mistaken suited task hand time consuming yields similar simulations minimal described begin following form julia row float demonstrate approach regardless selecting call extra nboots controls performed symmetric nfolds nlam nboot ones zeros indicating close enforces elasticites designs elast jacobians share vec whichproducts true indicates respect evaluated calling python researchers wish directly code easiest jupyter notebook ipython running command load ext magic assuming installed prefacing line juliacall documentation prediction convert compiani exchangeability optional constraint