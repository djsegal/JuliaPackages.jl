structsofarrays traditional julia array immutable objects structures fields object stored adjacent memory inhibits simd optimizations implements classic structure arrays optimization contents field linearly permits save bit contains padding especially useful complex usage construct structofarrays directly using converting abstractarray convert randn beyond assignment indexing types yields type assign index magic alternative layout allows llvm perform create isbits immutables probably slower ordinary heap allocated time indexed practice benchmark regular soa function zero eltype length inbounds benchmarks average elapsed minimum faster inspection generated code demonstrates instructions