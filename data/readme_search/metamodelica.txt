metamodelica package replicates runtime programming language exposes packages immutablelist supports powerfull expensive mechanism pattern matching called matchcontinue provided extension rematch style follows yasguide adherence standard checked patterns matches foo binds value wildcard match subfields structs type fields field named abstractarray entries tuple entry remaining subtype isa values variables exist branches bound condition true occur earlier else treated constant tested equality nested arbitrarily list implementation head tail input nil empty repeated equal shouldfail arg special construct succeeds fails local equation statement optional datatype none statements