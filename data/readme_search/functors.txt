functors provides mechanism design pattern dealing structures containing numerical parameters machine learning optimisation models cumbersome inefficient flat vector structs help manage complexity easily operate changing precision applying optimiser update step fmap easy acting map julia using struct foo functor model float deeply nested bar workhorse actually lower level function var returns object inspected takes values restructures original type include fields pass tuple field names baz list returned passed reconstruction invoking default constructor define custom inner constructors expected provide acts implement hand flexibility required example discussion regarding cache implementation exclude fine grained control descends particular value isleaf cuda element array char ascii unicode category letter lowercase isbitstype eltype cuarray