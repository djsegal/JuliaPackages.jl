functors provides mechanism design pattern dealing structures containing numerical parameters machine learning optimisation models cumbersome inefficient flat vector structs help manage complexity easily operate changing precision applying optimiser update step fmap easy acting map julia using struct foo functor model float deeply nested bar workhorse actually lower level function var returns object inspected takes values restructures original type discussion regarding implementing subset fields seen cache implementation