lengthchannels package defines type lengthchannel abstractchannel simply adds information length channel iterated constructor behaves takes additional integer specifying confused buffer size continues specified elements automatically closed keyword autoclose examples using test len bufsize int collect isopen argument false default determines closes useful iterate times performing epochs training populated true pattern buffered iterator machine learning typical dataset models following example reads audio data disk light pre processing putting flux random files readdir path datafiles buffersize vector float spawn file shuffle read process able time produce values recreating loop omitted iteration batch suitable cnn obtained batchsize array undef height width nchannels batches dim index copy integers gpu thread main hence required allow reading preprocessing separate performant provide wrapper returns applied element wrapping assumed eltype typeof words method returning resulting applying wrapped efficient primitive benchmarking performance improvement strategy safe larger note entire fit onto run memory backpropagation fastest try function fullsizeof tell bytes