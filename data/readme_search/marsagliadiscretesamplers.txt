marsagliadiscretesamplers installation using pkg add description implementation methods described fast generation discrete random variables performance compares favorably extant samplers agnostic type distribution usage defined probability table construct square histogram time space draw samples index simplest identical category mass corresponds categorical arbitrary sampled manner function represented vector converted whatever entity indexed trivial conversion identity slightly complicated example binomial yields draws returned sampler categories outcome pmf bin happens numbering scheme produces words etc simply glance disadvantage advantage efficiency tied particular consider motivating negligible subset support sample providing evaluated generous range return restricted lower bound upper returns true view composition functions unrestricted adjustment applies poisson negative geometric hypergeometric distributions applicable admits sparse representation selected simplicity approach efficient define converts additional conversions original applied examples intent demonstrate speed achieved marsaglia method julia benchmarktools element float sqhist generate benchmark trial evaluation min max median mean memory estimate mib allocs similar pre allocate temporary storage repeated calls bytes rand plots size label savefig plot joinpath pwd binomials pdf beneficial strictly specialfunctions exp loggamma begin truly realize gains larger held cache fill kib difficult distinguish bins categoricals unsafe countcategory abstractarray inbounds eachindex int zeros comparison results article section tables comparisons following replicates ultimately simplification proceed straight skipping alias vectorized portion faster code step branchless testing determine circumstances branch worthwhile undef required println map btime allocations admittedly entirely parameterizations assumes population success alternatively failures reasonable alas files attached paper missing references george wai wan tsang jingbo wang journal statistical software