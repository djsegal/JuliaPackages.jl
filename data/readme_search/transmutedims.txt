transmutedims package provides generalisations julia permutedims function permuteddimsarray wrapper allow permutations replace dropdims reshape generalisation introduce trivial dimensions positioning implicit beyond ndims ones ntuple size using transmute valid permutation positions don matter normalised zeros indicate output input omitted provided sum dims try catch err argumenterror allowed third repeat dimension diagonally linearalgebra diagonal true lazy tries minimise wrappers ideally none wrapping reshaping isa transmuteddimsarray float array int unitrange rand matrix calling constructor directly simply applies method val compile time benchmarktools btime allocation bytes allocations finally eager variant return densearray similarly wrap transpose etc prefers copying data strided speed faster base kib stridedview type insertion removal addition functions preserve lower treat tuples vectors abstractvector written tensorcast immediate issue gpuarray fail trigger gpu broadcasting replaces cast express cleanly