salt solver develop salt equat steadi initio lase theori solv direct spars nonlinear system equat describ esterhazi liu liertzer cerjan makri stone melenk johnson rotter scalabl numer approach steadi initio laser theori phys rev august origin written standalon program current process connect script front julia languag prerequisit code requir petsc slepc instal version mump solver easili satisfi ubuntu simpli sudo apt instal petsc dev sudo apt instal slepc dev add follow bashrc export petsc dir usr lib petscdir petsc linux gnu real export slepc dir usr lib slepcdir slepc linux gnu real note use ubuntu instal directori maintain packag chose instead petsc compil languag due limit break compat complex header file pleas build petsc sourc describ maco homebrew petsc formula doesn mump solver option build petsc sourc describ homepag build mump follow configur command configur download fblaslapack download parmeti download meti download mump download scalapack download openmpi follow instruct configur script print instal build slepc sourc final set petsc dir slepc dir environment variabl respect top level build directori build salt solver sourc file salt dep line output begin mpicc mpicxx petsc built incorrect rebuild petsc sourc languag instead exampl exampl simpl ring laser uniform dielectr gain conveni file prepar found exampl directori lase threshold passiv pole frequenc simpli run ring passiv run ring file section creeper variabl set creeper pass ring thresh ring dmax output dep newtonf tol reus printnewton final run ring creeper command passiv linear eigensolv passiv pole near frequenc output matlab mode file reason matlab format petsc default file complet compat julia read use includ command usual provid charact comment matlab replac charact comment julia command creeper take mode file increment pump strength valu solv salt equat intermedi pump strength increment pump strength passiv threshold mode threshold output mode file threshold pump strength creeper command solv lase threshold mode discuss examin main execut bash script run ring contain paramet lase mode ring laser file geometr specif geo npmlx npmli npmlz lowerpml epsfil ep ring txt epsifil epsi ring txt fproffil ring txt gamma manual epspml output epstild compon electr field polar mode vectori field total pixel includ perfect match layer pml pixel describ geometri set geometri set npml field pixel pml place boundari set zero ring loss model imaginari dielectr soon describ lowerpml paramet determin pml upper lower boundari set upper boundari set paramet determin width arbitrari length unit singl pixel note code choos speed light paramet direct determin frequenc unit result addit note set valu chosen matter look input file epsfil set exist text file valu real dielectr function grid simpli repeat time ep ring txt ring uniform dielectr valu uniti file epsifil specifi imaginari dielectr text file epsi ring txt repeat time simul uniform radiat loss caviti outgo boundari condit model radiat loss realist instead npml nonzero epsifil option simpli omit result code take dielectr pure real file option fproffil file gain profil one file unlik epsifil option remain paramet block gamma atom gain frequenc relax polar rate salt theori respect final manualepspml output epstild advanc featur manual provid pml function instead comput npml paramet output total dielectr function debug purpos block paramet invok call passiv passiv wreal wimag norm passiveout pass ring nev type sinvert line guess pole passiv command pole nev paramet bottom rough eigenpair look pole near told eigensolv save approxim eigenpair set paramet mirror boundari condit relev lowerpml paramet set zero simul half comput cell direct set impos odd mirror boundari condit lower direct possibl includ dirichlet zero field set lowerpml paramet tri simul cell boundari default dirichlet line contain bloch wave vector direct exampl simul laser period media photon crystal set wave vector equival period boundari condit direct paramet norm simpli provid overal scale electr field eigenvector usual paramet adjust numer stabil issu modif final line contain passiveout paramet specifi filenam prefix output mode file passiv command exampl set valu option pass ring output file passiv pass ring pass ring third block paramet call creeper creeper pass ring thresh ring dmax output dep newtonf tol reus printnewton paramet filenam extens input mode output mode input file exist prior call creeper initi pump strength automat read input mode file situat multipl lase mode lase mode suffix third lase mode caveat input mode pump strength els error occur line paramet includ pump strength increment solv salt equat dmax final desir pump strength posit indic threshold negat rest paramet advanc set run command run ring passiv run ring creeper list file thres ring file mode exact threshold closer look file variabl file psi contain inform mode psi variabl element express come field complex real imaginari compon come addit variabl real frequenc imaginari negat mode threshold mode amplitud posit threshold remain variabl file self explanatori except ifix simpli posit normal fix phase mode usual ignor threshold file element psi inde zero set explicit creeper routin threshold found toler final step threshold mode increas pump strength start lase modifi creeper block bash script creeper thresh ring lase ring dmax output dep newtonf tol reus printnewton note move thresh ring valu exist file input file threshold approxi henc choos dmax twice run ring creeper lase mode pump strength output file lase ring file