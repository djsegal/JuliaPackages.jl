octreebh octreebh implementation octree solving body using barneshut approximation namely tree nodes carry information summed compared efficient package provides main functionalities finding particles radius neighbor search calculating gravitational acceleration body system neighbor search gather scatter approach particularly useful smoothedparticle hydrodynamics gravitational acceleration adopts monopole approximation distant particles clustered treated mass located center mass boundary conditions periodic mixed periodic spatial dimension arbitrary positive integer quick start finding particles searching radius hsml centered using octreebh using staticarrays spatial dimension float npart particles hsml searching radius boxsizes svectorones periodic topnodelength svectorones size top tree node center topnodelength center top tree ndoe hsml onesnpart hsml particle smoothing length mass onesnpart particle mass randomly distributing particles svector rand npart store particle data struct data data hsml mass npart build tree tree buildtree center topnodelength svector rand search center indices gather neighbors idxngbsg getgatherngbtree hsml tree boxsizes indices scatter neighbors idxngbss getscatterngbtree tree boxsizes constant hsml ngbs identical lengthidxngbsg lengthidxngbss example example code visualizationjl visualizes quadtree structure particle configuration d illustrates difference gather neighbors lower left scatter neighbors upper identical particular smoothing length search radius constant example code nbodyjl solves gravitational body system using leapfrog integration scheme scaling octreebhjl follows log scaling opposed naive method scales author chiayu hu max planck institute extraterrestrial physics cyhuastrogmailcom