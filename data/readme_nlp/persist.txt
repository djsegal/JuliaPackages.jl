persist persistent jobs julia package persist allows running jobs independent julia shell jobs run background local machine via slurm interrupted julia shell exits convenient safe start running calculations write julia script idea programming julia typically proceeds stages writes exploratory code shell via jupyter code sophisticated converts code julia package developed editor outside julia shell julia shell test package code complexity increases run times takes initially minutes hours run time makes inconvenient running command executing julia shell blocked command started background accidentally overwrite delete data accessing julia shell exists network connection lost background process aborted package persist circumvents allows wrapping julia command shell script run background independent julia shell example using persist start calculation background job persist hello processmanager sleep simulate running task println hello world produce output return return value else check background job status job job result fetch job getstdout job getstderr job wait job cleanup job slurm submit job using persist persist calcpi slurmmanager sleep pi jobs written file read job readmgr calcpi jobinfo job println pi fetch job cleanup job simple julia expression serialized written file shell script generated executed background via slurm script reads expression executes serializes result file various commands examine status job fetch deserializes result job finished similar spawn except expression evaluated independently julia shell caveats regarding defining functions using modules apply reference create job mgr persist name manager expression mgr persist function name manager nameabstractstring job name managerjobmanager processmanager slurmmanager expression function expression function evaluate mgrjobmanager job manager object read job descriptor file mgr readmgr name nameabstractstring job name mgrjobmanager job manager object determine job status st status mgr mgrjobmanager job manager object stjobstatus job status jobempty jobqueued jobrunnig jobdone jobfailed describe job status st jobinfo mgr mgrjobmanager job manager object stabstractstring humanreadable job status description output ps squeue cancel abort job cancel mgr mgrjobmanager job manager object determine job st isready mgr mgrjobmanager job manager object stbool job wait job complete wait mgr mgrjobmanager job manager object waiting isreadymgr true obtain job result result fetch mgr mgrjobmanager job manager object result job result return value wait job complete return job result obtain job output getstdout mgr err getstderr mgr mgrjobmanager job manager object abstractstring job output job wrote stdout errabstractstring job output job wrote stderr partial job output available job running clean job cleanup mgr mgrjobmanager job manager object deletes information job result output