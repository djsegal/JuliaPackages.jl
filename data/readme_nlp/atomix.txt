atomix atomixjl implements atomic atomicswap atomicreplace superset macros base addition atomic operations fields implemented base support atomic operations array elements julia using atomix atomic atomicswap atomicreplace julia ones int julia atomic fetchincrement julia atomic julia atomicreplace begin compareswap success true julia inbounds atomic monotonic begin specify skip bound check julia atomicswap julia