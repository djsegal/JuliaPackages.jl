simpsonsjl julia module check data simpson statistical paradox usage using simpsons hassimpsonsparadoxdf cause effect factor continuousthreshold cmax verbose true returns true data dataframe df aggregated factor exhibits simpson paradox note cause effect columns converted int columns numeric type continuous data factor column continuousthreshold discrete levels cmax clusters avoid clusters prints regression slope directions overall data verbose true simpsonsanalysisdf causecolumn effectcolumn verbose true showplots true analyze dataframe df assuming cause causecolumn effect effectcolumn dataframe output data including simpson paradox type degree slope reversals subgroups found plots shown showplots true default makeparadoxnsubgroups return dataframe containing rows random data columns cause effect cofactor displays simpson paradox plotclustersdf cause effect plot subplots clustering dataframe df using cause effect plotted color coded clusterings kmeans clustering analysis fields dataframe cluster plotkmeansbyfactordf causecolumn effectcolumn factorcolumn plot clustering dataframe using cause plotted effect factorcolumn kmeans clustering clusters plot findclusteringelbowdataarrayabstractmatrixreal cmin cmax fclust kmeans kwargs elbow totalcost versus cluster curve cmin elbow cmax note pathological actual minimum totalcosts occurs cluster count curve elbow function return cmin actual cluster count totalcost minimum whichever larger returns tuple cluster count clusteringresult elbow optimum examples using simpsons create dataframe cause effect cofactor columns dfp makeparadox test simpson paradox regression direction reverses data split factor hassimpsonsparadoxdfp true data analyze plots data clustering plots run repl prevent premature display closure simpsonsanalysisdfp installation install package using package manager press enter pkg mode v pkg add simpson