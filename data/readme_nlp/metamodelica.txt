metamodelicajl package replicates runtime programming language metamodelica exposes packages runtime immutablelistjl metamodelica supports powerfull expensive mechanism pattern matching called matchcontinue provided extension rematchjl style package follows yasguide adherence standard checked ci pattern matching patterns matches foo matches binds value foo foo wildcard match subfields foo binds value foo foo matches structs type foo fields matching foo matches structs type foo field named matching matches abstractarray entries matching matches tuple entries matching matches abstractarray entries matches entry matches entry matches remaining entries matches tuple entries matches entry matches entry matches remaining entries matches subtype isa matches values match variables exist branches bound matches values match condition matches condition true condition variables occur earlier pattern eg else treated constant tested equality patterns nested arbitrarily pattern matching list implementation provided immutablelistjl matches head tail input list matches wildcard head tail input list nil list matches empty list repeated variables match equal eg matches shouldfail shouldfailarg special construct metamodelica succeeds arg fails arg local matchequationstatement optional optional datatype none match stat