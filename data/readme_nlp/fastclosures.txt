fastclosures workaround julialangjulia julia somewhat spirit fastanonymousjl provides closure macro wraps closure block reading variable bindings private closure using closure code surrouding faster note block trick implemented package helps julia julia compatibility provided backward compatibility convenience interface closure closureexpression wrap closure definition closureexpression block encourage julia compiler generate improved type information example callfunc function foo unlikely event fast capture inside closure confuses julia compiler causes box variable leading x performance hit remove closure callfunc closure println hello example helps using fastclosures codewarntype function f true cb identity cb codewarntype clean function f true cb closure identity cb codewarntype f codewarntype f