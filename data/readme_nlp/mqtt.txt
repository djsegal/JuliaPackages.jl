mqtt mqtt client librari code build librari enabl applic connect mqtt broker publish messag subscrib topic receiv publish messag librari support asynchron oper file persist content instal test usag get start basic exampl client struct constructor messag struct constructor connect argument call exampl synchron connect asynchron connect publish argument call exampl synchron publish asynchron publish subscrib argument call exampl synchron subscrib asynchron subscrib unsubscrib argument call exampl synchron unsubscrib asynchron unsubscrib disconnect argument call exampl synchron disconnect intern work instal pkg clone test pkg test mqtt usag import librari use keyword sampl avail exampl directori use mqtt get start librari follow step defin msg callback function creat instanc client struct pass msg function call connect method client instanc exchang data broker publish subscrib unsubscrib disconnect broker strict don resum session consid form crash basic exampl refer correspond method document option use mqtt broker defin callback receiv messag function msg topic payload info receiv messag topic topic payload string payload instanti client client client msg connect client broker set retain true receiv messag broker subscrib topic publish client jlexampl hello world retain true subscrib topic sent retain messag subscrib client jlexampl qos unsubscrib topic unsubscrib client jlexampl disconnect broker strict broker disconnect socket close consid form resum session disconnect client client struct client struct store mqtt connect callback apart messag set constructor set manual instanti client struct field client relev librari user ping timeout uint time client wait pingresp send pingreq disconnect default messag function function call receiv publish messag broker disconnect function connect function subscrib function unsubscrib function constructor constructor messag callback argument client msg function specifi custom ping timeout client msg function ping timeout uint messag struct messag struct data structur generic mqtt messag intern expos user easier read argument pass connect method messag struct exampl constructor reduc constructor meant messag duplic retain messag constructor dup retain flag fals default function messag qos qos topic string payload messag constructor field function messag dup bool qos qos retain bool topic string payload constructor intern uint equival qos enum easier process function messag dup bool qos uint retain bool topic string payload connect mqtt doc connect client instanc specifi broker synchron asynchron version avail version argument argument requir argument client client client connect broker host abstractstr hostnam address broker option argument port integ port default aliv int client hasn sent receiv messag time limit ping broker verifi connect activ valu mean ping sent default client string client uniqu broker broker allow empti client stateless connect mean clean session true default random char string user user user password pair authent broker password empti user isn password probabl encrypt default empti pair messag client messag publish specifi topic client disconnect broker type argument messag consult document info default empti clean session bool specifi connect resum impli client instanc previous connect broker default true call exampl dup retain flag fals safest minim messag constructor refer messag document connect aliv client testclient user user name messag qos testclient payload payload data synchron connect method wait client connect broker todo add return document function connect client client host abstractstr port integ aliv int client string randstr user user user messag messag fals fals array uint clean session bool true asynchron connect method doesn wait return futur object wait object fetch method futur complet client connect todo add futur data document function connect async client client host abstractstr port integ aliv int client string randstr user user user messag messag fals fals array uint clean session bool true publish mqtt doc publish messag broker connect client instanc provid paramet synchron asynchron version avail version argument argument requir argument client client client send messag topic string topic publish normal rule publish topic appli allow wildcard payload paramet potenti type empti option argument dup bool tell broker messag duplic normal circumst librari handl default fals qos qos mqtt qualiti servic messag qos constant qos qos qos default qos retain bool messag retain broker mean broker send client subscrib topic default fals call exampl valid payload exampl publish hello world publish hello world test valid option argument publish hello world test qos qos retain true synchron publish method wait publish messag process complet success qos wait pubcomp receiv todo add return document function publish client client topic string payload dup bool fals qos uint retain bool fals asynchron publish method doesn wait return futur object choos wait object futur complet publish messag process complet success qos wait pubcomp receiv todo chang futur data document function publish async client client topic string payload dup bool fals qos uint retain bool fals subscrib mqtt doc subscrib client instanc provid paramet specifi topic synchron asynchron version avail version argument argument requir argument client client connect client subscrib todo phrase topic tupl string qos variabl amount tupl string qos constant call exampl exampl subscrib topic test qos test qos subscrib test qos test qos synchron subscrib method wait subscrib messag success sent acknowledg todo add return document function subscrib client topic tupl string qos asynchron subscrib method doesn wait return futur object choos wait object futur complet subscrib messag success sent acknowledg todo chang futur data document function subscrib async client topic tupl string qos unsubscrib mqtt doc method unsubscrib client instanc specifi topic synchron asynchron version avail version argument argument requir argument client client connect client unsubscrib topic topic string tupl topic unsubscrib exampl call unsubscrib test test test synchron unsubscrib method wait unsubscrib method sent acknowledg todo add return document function unsubscrib client client topic string asynchron unsubscrib method doesn wait return futur object wait object fetch method futur complet unsubscrib messag sent acknowledg todo add futur data document function unsubscrib async client client topic string disconnect mqtt doc disconnect client instanc grace shut background task store session synchron version avail argument requir argument client client client disconnect exampl call disconnect synchron disconnect function disconnect client client intern work isn read section librari addit insight client instanc channel call write packet track outbound messag sent julia channel basic block queue exact behavior store messag await acknowledg client dict map messag id futur instanc futur complet messag complet acknowledg inform futur relev specif messag connect method call client relev field initi julia connect method call connect socket background task start perpetu check messag send receiv aliv zero task start handl send aliv verifi pingresp arriv time todo explain read write loop bit