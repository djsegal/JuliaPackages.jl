resulttypes resulttypes provides result type hold value error allows return value error typestable manner throwing exception usage basic construct result holds value julia result typeof resulttypes resultinterrorexception result holds error julia errorresult int oh noes typeof resulttypes resultinterrorexception error type julia result divideerror typeof resulttypes resultintdivideerror julia errorresult int divideerror typeof resulttypes resultintdivideerror exploiting function return types advantage automatic conversions function returns julia feature function integerdivision int int resultint divideerror return divideerror else return div allows write code body function returns value error manually constructing result types julia integerdivision result julia integerdivision errorresult int divideerror evidence benefits theoretical using function codewarntype verify compiler desire julia codewarntype integerdivision body resultintdivideerror bool goto resultintdivideerror quotenode divideerror resultintdivideerror convert return base checkedsdivint int div int int type resultintdivideerror resultintdivideerror return experimental suppose versions function returns value throws exception returns result type call function return value default value error example div integerdivision function microbenchmark simple provide realistic noinline ensure functions inlined benchmarks comparable wrapping function div noinline function func local try div catch return integerdivision noinline function func integerdivision resulttypes iserror return else return unwrap benchmark results average machine using benchmarktoolsjl julia using benchmarktools statistics julia t benchmark func benchmarktools trial memory estimate bytes allocs estimate minimum time s gc median time s gc mean time s gc maximum time s gc samples evals sample julia t benchmark func benchmarktools trial memory estimate bytes allocs estimate minimum time ns gc median time ns gc mean time ns gc maximum time ns gc samples evals sample julia judge mean t mean t benchmarktools trialjudgement time improvement tolerance memory invariant tolerance huge speed improvement allocating extra heap memory look cost error occurs julia t benchmark func benchmarktools trial memory estimate bytes allocs estimate minimum time ns gc median time ns gc mean time ns gc maximum time ns gc samples evals sample julia t benchmark func benchmarktools trial memory estimate bytes allocs estimate minimum time ns gc median time ns gc mean time ns gc maximum time ns gc samples evals sample julia judge mean t mean t benchmarktools trialjudgement time improvement tolerance memory invariant tolerance faster avoid try result error condition trigg