magemincjl julia interface magemin package performs thermodynamic equilibrium calculations magemin page details package using julia interface install julia recommend downloading official binary julia webpage install mageminc package julia pkg add mageminc check system running build test suite pkg test mageminc pushing backspace return package manager main julia terminal download compiled version library wrapper functions system calculations example example predefined bulk rock composition julia gv zb db splxdata initmagemin julia test julia sysin mol default mol wt provided conversion internally magemin mol basis julia gv usepredefinedbulkrock gv test julia julia julia gv verbose switch verbose julia pointwiseminimization gv zb db splxdata sysin pressure kbar temperature celcius stable phase fraction mol atom basis opx ol cpx spn stable phase fraction wt fraction opx ol cpx spn gibbs free energy iterations ms oxygen fugacity e example specify bulk rock composition convert correct format using convertbulkmagemin function julia using mageminc julia gv zb db splxdata initmagemin julia bulkinox sio alo cao mgo feo feo ko nao tio cro ho julia bulkin julia sysin wt julia bulkrock convertbulkmagemin bulkinbulkinoxsysin julia gv definebulkrock gv bulkrock julia julia gv verbose switch verbose julia pointwiseminimization gv zb db splxdata sysin pressure kbar temperature celcius stable phase fraction mol atom basis plt liq cpx opx stable phase fraction wt fraction plt liq cpx opx gibbs free energy iterations ms oxygen fugacity calculation finished structure holds information stable assemblage including seismic velocities melt content melt chemistry densities etc overview julia printinfo density seismic velocity access julia rho julia vp calculations release memory julia finalizemagemin gvdb installing hpc systems essentially performance computer systems currently available mpi versions specifically compiled system result typically recompile code using mpi libraries magemin involves compiling nlopt using correct blaslapack libraries sometimes cumbersome luckily solution thanks eschnett colleagues developed mpitrampoline intermediate layer hpcsystemspecific mpi libraries precompiled magemin binaries essentially consists steps compile package mpiwrapper download version magemin compiled versus mpitrampoline stepstep instructions linux essentially hpc systems download mpiwrapper git clone cd mpiwrapper install mpiexec load modules depending system cmake build dmpiexecexecutablempiexec dcmakebuildtyperelwithdebinfo dcmakeinstallprefix home mpiwrapper cmake build build cmake install build stage mpitrampoline installed homempiwrapper set correct wrapper export mpitrampolinelibhomempiwrapperlib depending system called lib instead lib check start julia install mpi mpipreferences packages julia julia pkg add mpi mpipreferences set preference mpitrampoline julia using mpipreferences mpipreferences usejllbinary mpitrampolinejll info mpipreferences unchanged binary mpitrampolinejll load mpi verify correct julia using mpi julia mpi getlibraryversion mpiwrapper using mpiabi wrapping mpi v package mpi borispluton distribution ident repo rev v restart julia load mageminjll check mpitrampoline version julia using mageminjll julia mageminjll hostplatform linux x cxxstringabi cxx juliaversion libc glibc libgfortranversion mpi mpitrampoline set