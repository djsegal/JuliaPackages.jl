differentiablestatespacemodels warning package proof concept code remain proper julia manifest guarantee ongoing support maintenance prepared modify source help maintain using code projects complete example code bayesian estimation rbc estimation notebook development benchmarking contributing code running benchmarks model class model follows schmittgrohe uribe timing convention system takes nonlinear expectational difference equation including conditions decisions system evolution equations mathbbmathcalleft control variables vector deep parameters expectations forwardlooking variables underlying random process epsilon addition consider observation equation noisy cdot beginbmatrix bmatrixtop nu nu normally distributed mathbbnu mathbbnu omega omegatop assume stochastic steady yss xss perturbation solution define deviation stochastic steady hat equiv xss hat equiv yss hat equiv zss solution perturbation stochastic steady yields eta gamma epsilon eta describes shocks affect law motion mathbbepsilon frequently organized mathbbepsilon required addition instead interpreted eta epsilon mathbbepsilon gamma gammatop policy equation finally substitution observation equation beginbmatrix bmatrix nu solutions perturbation approximates model equations available explicitly taylor expansion steady example st model solution hat hat epsilon hat gx hat hat hat nu equiv beginbmatrix gx bmatrix equiv eta gamma mathbb nu top normality nu epsilon required linear space model priors shocks gaussian marginal likelihood evaluated classic methods kalman filter output perturbation manually conjunction differenceequationsjl solutions defined similarly estimation notebook details gradients standard solution methods primary contribution package model elements differentiable hence gradeients composed applications optimization gradientbased estimation methods differenceequationsjl provides differentiable simulations likelihoods space models perturbation solver mapping solutions mathbf gradients partialp mathbf partialp etc gradients available reversemode autodifferentiation wobbles wiggles underlying mathbf chainrulesjl details ad examples model primitives models defined using dynarestyle dsl using symbolicsjl list primitives list variables controls deep parameters set equations function timing allowed loading shocks eta fixed matrix constants shock covariance cholesky factor gamma function parameters observation equation fixed matrix cholesky factor observation errors omega function parameters diagonal matrix supported steady equations closed form function initial conditions nonlinear solution solve steady functions defining models install package add differentiablestatespacemodels code create rbc model inf variables variables integer controls parameters exp exp system model equations analytic solutions steady pass initial values run solver initial values steadystatesiv steadystates matrix shock notation makes matrix vector julia nx n matrix notation makes matrix vector julia observation matrix variables example select observable select observable diagonal cholesky covariance matrix observation noise standard deviations diagonal observation noise currently supported generates files includes required model created loads overwritemodelcache true modelrbc makeandincludeperturbationmodel rbcnotebookexample steadystates overwritemodelcache generation model included julia files code includejoinpathpkgdirdifferentiablestatespacemodels functioncachemymodeljl moved convenient inclusion makeandincludeperturbationmodel creates model automatically direct inclusion julia file create model perturbationmodelmainmymodel solving perturbations assuming model created loaded pf fixed parameters pd pseudotrue values sol generateperturbation modelrbc pd pf solution rbc sol generateperturbation modelrbc pd pf val solution rbc sol retcode sol retcode verifysteadystate pd pf final call checks analytically provided steady solution correct perturbation solution canonical form described top section queried resulting solution examples solution sol sol steady yss xss values sol sol sol gx policy sol sol evolution equation sol sol evolution equation variance sol xergodicvar covariance matrix ergodic distribution mean zero xss functions perturbation solutions derivatives core feature library enable gradients perturbation solutions respect parameters pd vector construct function resulting law motion gradient results respect value function irf pd pf steps sol generateperturbation pd pf perturbation default pass val additional argument nd sol start applying impulse model shock steps note mutating expressions ad code sol elaborate simuluations differenceequationsjl practice sol iterate forward using observation equation return sol choose observable using model observation equation modelrbc ensure notebook executed pf differentiated pd parameters steps steps ahead forecast shock size irf pd pf steps function calculating perturbation derivatives perturbation solvers perturbation solver fills cache values calculating derivatives example using zygote function params pf pd params params differentiated parameters sol generateperturbation pd pf default return sum sol adhoc example reducing lawmotion matrix call perturbationmodel main mymodel pf paramval vector required display paramval pf function calculating perturbation query solution assert paramval pf gradient zygoteetc display gradient params params pf paramval result check gradient params params pf paramval real benefit function differentiated gradients respect deep parameters pd shock using zygote autodifferentiation library loaded pd parameters shock size irfgrad gradient pd irf pd pf steps pd closes pf steps create function differentiates respect arguments simulating data differenceequations simulating differenceequationsjl manual iteration space model perturbation solution verbose difficult achieve efficiency gradients benefit package creates space models form consistent differenceequationsjl easily simulated visualized estimated calculate perturbation solution simulate various x drawn ergodic solution pf fixed parameters pd pseudotrue values modelrbc ensure notebook executed sol generateperturbation pd pf solution rbc simulate observations random initial condition draw ergodic distribution initial condition xiv mvnormal sol xergodicvar linearstatespaceproblem sol xiv plot solve linearstatespaceproblem type automatically constructed underlying perturbation override options pass noise simulate particular experiment noise matrix zeros shocks noise differenceequations sciml compatibility xiv pass single value distribution linearstatespaceproblem sol xiv noise plot solve demonstrate composition gradients differenceequations differentiablestatespacemodels adapt function simulates impulse fixed noise looks final observable function lastobservable pd noise xiv pf sol generateperturbation pd pf linearstatespaceproblem sol xiv noise observablesnoise removing observation noise return solve return nd argument observable noise matrix zeros shocks noise differenceequations sciml compatibility xiv pass single value distribution pf fixed parameters pd pseudotrue values modelrbc ensure notebook executed lastobservable pd noise xiv pf calculate gradients respect underlying pd parameters respect noise demonstrate key benefit methods joint likelihood latent variables easily marginalized gaussian nonlinear note dimensionality gradient gradient pd noise xiv lastobservable pd noise xiv pf pd noise xiv finally simple utility functions investigate irf pf fixed parameters pd pseudotrue values modelrbc sol generateperturbation modelrbc pd pf sim irf sol plot sim sneak peak sciml compatible functionality finally variety features sciml supported example parallel simulations ensembles associated summary statistics simulate multiple trajectories observations trajectories xiv mvnormal sol xergodicvar linearstatespaceproblem sol xiv solve multiple trajectories plot ensemble ensembleresults solve ensembleproblem directiteration ensemblethreads trajectories summ ensemblesummary ensembleresults sciml documentation calculates median quantles automatically summ med median values simulated ensembles plot summ fillalpha plots default median quantiles variables modifying transparency example calculate sequence observables underlying space model easily simulate observables simulate observations pf fixed parameters pd pseudotrue values sol generateperturbation modelrbc pd pf solution rbc xiv mvnormal sol xergodicvar draw initial conditions ergodic distribution linearstatespaceproblem sol xiv sim solve directiteration sim store underlying noise simulation collapse simulated observables matrix required current differenceequationsjl likelihood direct support datastructure zrbc hcat sim