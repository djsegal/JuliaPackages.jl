unziploops function returns tuple object package provides optimized function broadcastunzip similar broadcast aka outputs data layout example broadcasting useful julia broadcasting definitely meet type matrixtupleintfloat unzip tuplematrixint matrixfloat trivially split apart function return map map requires broadcasting introduces unnecessary overhead allocates extra memory store intermediate result entire function requires loops hurts cache locality locality matters lowlevel performance optimization rand collect rand btime ms allocations mib btime ms allocations mib observe ms overhead optimized version specific preallocate output result single loop simple create similar function promotetype float eltype eltype bc broadcast z similar bc z similar bc inbounds simd eachindex bc bc z z return z z usually call soa struct array layout comparing aos array struct layout contiguous array involved soa layout introduces contiguous arrays notice overhead compared plain kernel btime ms allocations mib overhead relatively eliminate extra loops allocations julia compiler optimze difference broadcastunzip obviously rewriting trivial getindex solution verbose manual loop introduces hurts readability requires users understand lowlevel mechanisim broadcasting easy broadcastunzip introduced combination broadcast unzip importantly simple fast broadcastunzip true btime broadcastunzip ms allocations mib btime broadcast ms allocations mib overhead minimized additionally broadcastunzip accepts inputs broadcast outputs tuple scalar object rand rand rand broadcastunzip assert getindex btime broadcast s allocations kib btime broadcastunzip s allocations kib performance caveat type stability function map broadcast input function typeinferrable performantly rand rand funstable people mistakes fstable float float float float unstable btime broadcast funstable s allocations kib btime broadcastunzip funstable s allocations kib stable btime broadcast fstable s allocation kib btime broadcastunzip fstable s allocations kib scalar output function supported currently function outputs scalar delibrately disallowed result makes sense array degenerates broadcast args tuplearray degenerated generic broadcastunzip args form supported error message julia broadcastunzip error function return tuple instead returns int stacktrace comparison solutions package exists mappedarrays structarrays solutions provided ann post package little bit superior alternatives speaking performance benchmark results mydot benchmark