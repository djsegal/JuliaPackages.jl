commonsubexpress julia packag provid cse macro perform common subexpress elimin mean piec code foo function foo evalu time cse macro produc code move express loop foo foo foo evalu foo arbitrarili complex nest express handl result effici code cse inv inv inv inv plus inv plus plus inv wrap entir function definit code block cse function foo caveat packag result correct pleas care report issu function call block wrap cse macro pure function effect cse macro enforc verifi function effect common subexpress elimin chang behavior program effect happen expect brief asid function puriti pure function effect function effect mean call somehow chang program beyond valu return trivial function effect counter function global counter counter increas counter counter time call addit function mutat input argument pure chang input argument constitut effect visual cse transform visual use treeview packag simpl exampl packag current construct data flow graph dataflow instead perform relat simpl step initi set disqualifi symbol initi list setup command walk express tree repeat perform step assign oper encount add target assign disqualifi symbol function call encount function argument constant symbol symbol disqualifi replac function call current express newli generat symbol append setup command express perform function call assign symbol return transform express setup command prepend simpl procedur ensur cach function input chang code block assum function call pure requir