bindepsjl easily build binary dependencies julia packages faq lot confusion surrounding package systems role package started looking actual package answer common questions bindeps bindeps package provides collection tools build binary dependencies julia packages package build binary dependencies julia package absolutely system designed maximum amount freedom package author able address situation encounter real world achieved simply evaluating file called depsbuildjl exists package whenever installed updated following simplest useful buildjl script imagine run bindeps missing functionality package manager bindeps written julia extensible ease rest julia particular defining behavior adding package manager consists little adding type implementing couple methods section interfaces winrpm package example implementation runtime features bindeps provides build time capabilities recommend easiest probably declare buildprocess declared dependencies custom build process called whenever unsatisfied library dependency bindeps runtime features mind extending bindeps writing build process bindeps fairly standard set directories default using directory structure advised currently specified directory structure deps buildjl build file downloads store binarysource downloads builds dep tree build dep dep tree build dep src dep source code dep dep source code dep usr prefix install binaries lib dynamic libraries windows bin excecutables include headers level interface declaring dependencies feel level interface provided bindeps look realworld examples build script gsl pakage illustrates simple library hand build script cairo package features bindeps currently provides offers complete overview apart exactly cairo depends lot libraries managed build script library dependencies introduced librarydependency function required argument name library following entirely valid call foo librarydependency libfoo quickly run issue library named systems happens receive error provider binaries failed satisfy dependency libfoo bindeps provides handy aliases keyword argument suppose library sometimes times libfoodylib libbardll windows authors library decided punish windows users easily declare library dependency foo librarydependency libfoo aliases libfoo libfoo libfoo libbar couple keyword arguments currently implemented os osname limits dependency operating systems achieved using osspecific macro setting applies dependency avoids wrap dependency macros note os parameter match value baseosname target platform special exception unix matches unix platforms linux mac os freebsd example consider line cairo build script gettext librarydependency gettext aliases libgettext libgettextlib os unix depends dep dep currently unused future track dependency graph binary dependencies allow parallel builds cairo librarydependency cairo aliases libcairo libcairo depends gobject fontconfig libpng runtimebool consider runtime dependency false absence trigger error runtime loaded found buildtime installed useful buildtime dependencies binary dependencies validatefunction pass function validate library usable correct version pass function takes namehandle argument returns true library usable false name argument absolute path library name global system library handle handle passed dlsym check library symbols return value function validation return false library installed provider provider instructed force rebuild function validatecairoversion namehandle libdl dlsyme handle cairoversion cnull return false ccall int return cairo librarydependency cairo aliases libcairo libcairo validate validatecairoversion keyword arguments added level interface declaring build mechanisms alright declared dependencies tell bindeps build easiest system package manager suppose defined following dependencies foo librarydependency libfoo baz librarydependency libbaz suppose libraries available libfoodev libbazdev apt libraries installed baz baz yum package baz pacman package declare follows provides aptget dict libfoodev foo libbazdev baz provides yum baz baz foo baz provides pacman baz foo baz remember provides function thinking aptget provides dependencies foo baz basic signature provides function provides provider data dependency options data providerspecific string package manager dependency return value librarydependency multiple definitions combined function call provides provider dict data dep data dep options equivalent internally dispatched provides provider data dep options provides provider data dep options provide satisfied multiple dependencies simultaneously dependency array dependencies yum pacman builtin options os osname linux windows darwin provider satisfy library dependency specified os argument takes syntax os keyword argument librarydependency installedlibpath path provider installs library dependency someplace standard search paths location specified sha sha provides sha checksum validate downloaded source binary file level interface built providers seen aptget yum providers string naming package data argument build providers sources takes uri object data argument declared sources downloaded provided uri dependency special success automatically mark build succeeded bindeps terminology helper default provider expects unpacked directory name archive downloaded unpackeddir option specify name unpacked directory provides sources uri libvirt unpackeddir libvirt binaries uri object data argument indicates binaries downloaded provided uri assumed binaries unpack libraries usrlib string data argument provides custom search path binaries typical allow user provide custom path using environmental variable buildprocess common super class various build processes exact behavior depends data argument currently supported build processes autotools simplebuild autotools subclass buildprocess downloads sources declared sources provider attempts install using autotools plethora options change behavior command appropriate section manual read code details available options autotools options simplebuild subclass buildprocess takes object lowlevel interface passed run simply executes command level interface loading dependencies load dependencies runtime dependence bindeps code following near start package primary file forget change error message reflect name package const depsfile joinpath dirname file deps depsjl isfile depsfile include depsfile else error hdf properly installed please run pkgbuild hdf restart julia libraries available variables named names dependency declared dependency librarydependency libfoo libfoo variable contain reference library passed ccall similar functions low level interface low level interface provides utilities write cross platform build scripts looks cairo build script buildsteps begin getsources libpng createdirectory pngbuilddir buildsteps begin changedirectory pngbuilddir filerule joinpath prefix lib libpngdll buildsteps begin cmake dcmakeinstallprefixprefix msys makefiles pngsrcdir cp libpngdll prefixlib cp libpng prefixlib cp libpngpc prefixlibpkgconfig cp pnglibconf prefixinclude cp pngsrcdirpng prefixinclude cp pngsrcdirpngconf prefixinclude steps executed synchronously result buildsteps macro passed run execute directly recommended debugging purposes instead please level interface tie build process dependencies builtin build steps filedownloaderremotefilelocalfile download file remotefile create localfile fileunpackerlocalfilefolder unpack file localfile folder folder autotoolsdependencyopts invoke autotools build step recommended level interface instead createdirectorydir create directory dir changedirectorydir cd directory dir try remain build block command buildsteps block remain active entire block maketargetsdirargsenv invoke arguments directory environment directoryruledirstep dir exist invoke step validate directory created filerulefilesstep directory rule validates existence files files array getsourcesdep declared sources dependency dep default download location diagnostics simple libraries required package detect missing dependencies bindepsdebugpackagename julia using bindeps julia bindeps debug cairo info reading build script package declares dependencies library cairo satisfied bindeps systempaths bindeps systempaths library png applicable system library pixman applicable system library ffi applicable system library gettext satisfied system paths usr lib preloadablelibintl system paths usr lib libgettextpo providers bindeps aptget package gettext provide bindeps yum package gettext libs provide autotools build