lunettesjl lunettesjl package getting setting fields nested data structures safe mutationfree installation julia repl run import pkg pkg add lunettes simple usage package exports type lens functions getr setr lenses manipulate query immutable data structures convenient notation suppose defined following struct struct mystruct firstfield secondfield instantiate lenses firstfieldlens lensmystructfirstfield secondfieldlens lensmystructsecondfield extend function getr types following function getr lensmystructfirstfield firstfield function getr lensmystructsecondfield secondfield similarly setr function setr lensmystructfirstfield mystruct secondfield function setr lensmystructsecondfield mystruct firstfield lenses following mystruct mystruct hello getr firstfieldlens mystruct hello true setr secondfieldlens mystruct mystruct hello true gained lot lot typing power lenses compose manipulating deeply nested data structures lens macro composition lunettes defines macro lens macro automatically extending getr setr obvious consider complicated nested data structure lens struct curtain color string string lens struct window framecolor string leftcurtain curtain rightcurtain curtain suppose manipulate data structure queries values define lens composition simpler lenses leftcurtainstate lens windowleftcurtain lens curtain leftcurtaincolor lens windowleftcurtain lens curtaincolor able leftcurtainstate access getr change setr windows initialise window mywindow window white curtain purple curtain orange shut suppose reach window learn left curtain write mywindow leftwindow write getr leftcurtainstate mywindow suppose update window left curtain shut write mynewwindow window white curtain purple shut curtain orange shut instead setr leftcurtainstate mywindow shut getr setr automatically curried write mythirdwindow mywindow setr leftcurtainstate shut setr leftcurtaincolor goldish brown producing third window based mywindow left curtain shut color lens macro defining method getr setr functions struct instance defining curtain struct function getrlens defined lens types lenscurtain lenscurtaincolor defintions simple function getr lenscurtain function setr lenscurtain curtain color defining getters setters basic lenses composing lenses automatically obtain correct definition getr setr lenswindowleftcurtain lenscurtain