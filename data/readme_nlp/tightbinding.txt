tightbindingjl construct tightbinding model calculate energies julia software released mit license license checked julia construct hamiltonian functional momentum plot band structure crystal structure plot band structure finitewidth system surface boundary feb surface hamiltonian momentum space hamiltonian nov dos data energy mesh jun construct supercell model experimental jun write wannier format sample jupyter notebook install push enter package mode add tightbinding samples graphene graphene using tightbinding primitive vectors a sqrt a set lattice la setlattice aa add atoms addatoms la addatoms la added atoms atom atom hoppings showneighbors la output hoppings construct graphene choose hoppings atom atom construct hoppings addhoppings la addhoppings la addhoppings la using plots lattice structure plotlatticed la using plots density nk numer ob meshes nk meshes dimension plotdos la nk nov dos data energy mesh nk numer ob meshes nk meshes dimension hist getdos la nk println hist weights dos data println hist edges energy mesh using plots plot hist edges hist edges step hi hist weights band structure klines setklines kmin kmax sqrt addkpoints klineskminkmax kmin sqrt kmax sqrt addkpoints klineskminkmax kmin sqrt kmax addkpoints klineskminkmax calcbandplot klinesla graphene nanoribbon using plots constructed atoms hoppings add line plot klines setklines kmin kmax addkpoints klineskminkmax pi pi consider periodic boundary condition primitive vector direction periodic boundary condition calcbandplotfinite klinesladirectionperiodic true introduce surface perpendicular premitive vector direction boundary condition calcbandplotfinite klinesladirectionperiodic false febased superconductor construct band model febased superconductor rachu et al phys rev la setlattice square lattice addatoms la dxz orbital addatoms la dyz orbital hoppings t t t t t dxz addhoppings la t addhoppings la t addhoppings la t addhoppings la t dyz addhoppings la t addhoppings la t addhoppings la t addhoppings la t dxz dyz addhoppings la t addhoppings la t addhoppings lat addhoppings lat chemical potentials set la set chemical potential band structure klines setklines kmin kmax addkpoints klineskminkmax pi kmin kmax addkpoints klineskminkmax pi pipi kmin kmax addkpoints klineskminkmax pipi using plots pls calcbandplot klinesla band structure obtain hamiltonian ham hamiltoniank la obtain function hamkxky kx ky hamk ham kxky ham functional kxky println hamk febased superconductor orbital model finally orbital model proposed kuroki et al kuroki et al phys rev lett sample code la setlattice addatoms la addatoms la addatoms la addatoms la addatoms la tmat tmat tmat imap zeros int count count imap count ds tmaty tmat tmatyimap tmatimap tmatyimap tmatimap tmatyimap tmatimap tmatyimap tmatimap tmatyimap tmatimap tmatyimap tmatimap tmatyimap tmatimap tmatyimap tmatimap tmatyimap tmatimap tmatyimap tmatimap hoppingmatrix zeros float hops hopelements ii ihop hopelementsii jhop hopelementsii ihop jhop hoppingmatrix tmatimapii y jhop ihop jhop hoppingmatrix tmatyimapii ihop jhop hoppingmatrix imap tmatimapii y jhop ihop jhop hoppingmatrix imap tmatyimapii jhop ihop d jhop ihop hoppingmatrix dsimap tmatimapii dy jhop jhop ihop hoppingmatrix dsimap tmatyimapii d d jhop ihop hoppingmatrix dsimap imap tmatimapii d d dy jhop jhop ihop hoppingmatrix dsimap imap tmatyimapii ih hops jh hops hoppingmatrix addhoppings lahoppingmatrixihjh onsite setonsite laonsite set la set chemical potential plot band structure nk klines setklines kmin kmax addkpoints klineskminkmax pi nk nk kmin kmax addkpoints klineskminkmax pi pipi nk nk kmin kmax addkpoints klineskminkmax pipi nk nk using plots pls calcbandplot klinesla savefig febandpng band structure figure consistent fig paper hopping table nomura phys soc jpn fermi surface pls plotfermisurfaced la feb surface hamiltonian momentum space hamiltonian hamiltonian defined momentum space construct surface hamiltonian example consider model d topological insulator using tightbinding ax ay mx my mx m mx m mx cos my cos hk ax sin x ay sin y z norb size matrix tightbindingjl pauli matrices xyz defined hamiltonian surfacehamiltonian hknorbnumhop kpara kx bc obc makes function hamiltonian choose boundary condition obc periodic boundary condition pbc numhop determines maximum hoppings numhopth nearest neighbor hopping included detemines size real space lattice using plots using linearalgebra nkx kxs range stop length nkx mate zeros floatnkx nkx kx kxs math hamiltonian kx printlnmath eigen matrix math println mate real plot kxsmatelabels savefig tespng surface jun constructing supercell model construct supercell model x graphene graphene using tightbinding primitive vectors a sqrt a set lattice la setlattice aa add atoms addatoms la addatoms la construct hoppings addhoppings la addhoppings la addhoppings la makesupercell command lax makesupercell la supercell model using plots lattice structure plotlatticed lax density density nk numer ob meshes nk meshes dimension plotdos lax nk jun writing wannier format write wannier file format wannier useful wannierhr format la setlattice addatoms la showneighbors la addhoppings la addhoppings la ham hamiltoniank la kmin kmax nk veckenergies calcband kminkmaxnklaham println energies line println energies las makesupercell la hams hamiltoniank las vecksenergiess calcband kminkmaxnklashams println energies line println energiess writehr lafilename dsamplehrdat writehr lasfilename dsamplesphrdat writehr function writes lattice type struct wannierhrdat format jun reading wannier format read wannierhr format example write wannier format band febased superconductor shown la lattice type build supercell example las makesupercell la write las wannierhr format writehr lasfilename pnictidebandxhrdat wannier format information lattice vectors positions atoms define reading file lattice type example lattice vectors add lanew setlattice atoms positions println las positions add information lanew atoms addatoms lanewatoms set chemical potential set lanew set chemical potential chemical potential zero read wannir format file lanew readwannier lanew pnictidebandxhrdat reading plot fermi surface etc plotfermisurfaced lanew