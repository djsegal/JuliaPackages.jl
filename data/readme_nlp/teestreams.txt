teestreams simplify writing multiple streams usage construct tee stream wrapping multiple writable io objects tee teestream io io write tee flush tee calls flush wrapped io close tee calls close wrapped io construct tee stream wrapping multiple writable io objects call function tee automatically calls close io streams teestream io io tee write tee example compress multiple encodings using teestreams codeczlib codeczstd function compress file file src teestream gzipcompressorstream file gz zstdcompressorstream file zst tee write tee src compress projecttoml example write data checksum function disk using teestreams sha simplebufferstream function downloadverify url expectedshasum filename split url buf bufferstream sync begin async begin teestream buf filename tee write tee curl fssl url async begin shasum byteshex sha sha buf shasum expectedshasum error wrong url expectedshasum fcddfedcdbecabafdeabf downloadverify url expectedshasum