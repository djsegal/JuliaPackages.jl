cclosure cclosure wrapper cfunction supports closures platforms local variables instead relying llvm trampolines cclosure creates classical closure pair function pointer context pointer context explicitly passed function pointer external libray callback qsort systems julia supports version qsort supports classical closure signature windows defined typedef int callback void context const void left const void void qsorts void base sizet num sizet width callback compare void context qsort platforms windows signatures translated julia using cclosure function qsortc func ctx ccall qsorts ptrcvoid length csizet sizeof eltype csizet func ptrcvoid ctx ptrcvoid cvoid compare cint write comparator accepts arbitrary julia functions function qsortlogcclosure eltype log tuple func ctx cclosure cint ref ref push log compare qsortc func ctx log qsortlogcclosure note ref cfunction cclosure tells julia load pointer type cclosure comparison cclosure usually written monolithic piece function comparelog log push log compare function qsortlogmonolithic vectorint log tupleintint func cfunction comparelog cint refvectortupleintint refint refint ctx ref log qsortc func ctx log qsortlogmonolithic typeunstable function compareunstable unsafepointertoobjref function qsortlogunstable eltype log tuple ctx function unsafeload ptr unsafeload ptr push log compare func cfunction compareunstable cint ptrcvoid ptrcvoid ptrcvoid qsortc func ref ctx log qsortlogunstable global function visible cfunction qsort platforms linux c julia built c reference typedef int callback const void left const void void context void qsortr void base sizet num sizet width callback compare void context bsd typedef int callback void context const void left const void void qsortr void base sizet num sizet width void context callback compare typedef feel exposing typedef julia write add parameter callback generic callback cclosure cint ref ref func ctx callback storing closures func ctx cclosure func alive current julia session ctx holds reference kept alive callback called ccall gcroot ctx store callback structs pair point