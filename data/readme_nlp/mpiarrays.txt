mpiarray packag provid distribut array base mpi side communic primit current proof concept function describ readm implement follow simpl exampl multipli matrix vector use mpi mpiarray mpi init rank mpi comm rank mpi comm world size matrix creat uniniti matrix vector mpiarray float mpiarray float set random valu forlocalpart rand forlocalpart rand process finish initi coeffici sync print process use slow element element communic print screen rank println matvec result clean free free mpi final construct constructor creat uniniti array basic form array size argument mpiarray int distribut array dimens process mpi comm world communic specifi partit direct creat matrix partit direct mpiarray int mpi comm world constructor automat distribut total element direct uniform manual specifi element partit direct mpiarray int mpi comm world creat distribut array row processor final distribut array construct predefin local mpiarray int produc distribut array partit contain manipul array interfac implement includ normal index oper note lock unlock mpi window call expens advantag oper defin main conveni access util function support oper base linearalgebra mul matrix vector product base filter base filter util oper tupl contain local own index rang obtain use localindic rank option argument rang rank current rank call free array destroy under mpi window manual guarante garbag collect happen time process danger collect call destroy window final process wait call sync mpiarray argument current call mpi barrier array communic access local data local data access use forlocalpart function execut function argument local data array argument compat block syntax fill local random forlocalpart rand sum local localsum forlocalpart result zero eltyp result return result redistribut data data redistribut process follow initi tile distribut process mpiarray int comm uniform redistribut column processor rest redistribut restor equal distribut column redistribut exampl redist block block type help access processor data individu element access expens block creat use index oper use rang argument ablock block contain data refer global index rang track process involv actual read data alloc array storag amat getblock ablock alloc matrix fill separ step amat alloc ablock getblock amat ablock modifi entri array associ block data sent process amat alloc ablock rand amat putblock amat ablock global index block block refer regular julia array index local block index array link block use global indic under mpiarray creat globalblock globalblock amat ablock ghost node ghostedblock allow period read processor data arbitrari locat array push method add indic sort ensur fetch data use sync happen minim mpi call getglob function array valu local data ghost use global array indic ghost ghostedblock push ghost push ghost sort ghost fetch processor data sync ghost ghost ghost entri use global indic local data ghost getglob ghost benchmark simpl test time matrix vector product record rang process blas thread compar base array distributedarray perform compar effect distribut row column code test test matmul result squar matrix size use machin intel cpus core machin use tcp gbit ethernet machin use openbla num thread mpi process machin yield follow time time use mpi process machin openbla num thread singl thread compar librari element use unmodifi gemv exampl matrix size paramet openbla julia observ use singl process darray mpiarray perform level base array indic overhead parallel structur ultim wrap process array neglig reassur use parallel structur won slow serial code thread scale break multipl machin play process sever breakdown perform process attempt communic machin process tcp pool communic machin darray toler mpi use hybrid parallel thread communic machin mpi julia nativ parallel machin faster mpi scale ideal machin darray result errat distribut matrix column dens matrix matrix vector product base array product openbla num thread complet mpi version core machin complet suggest improv thread implement hand mpi process faster mpi process machin indic memori bottleneck julia implement simpl compar favor matur librari appar scale start process element take process investig caus perform tweak element set