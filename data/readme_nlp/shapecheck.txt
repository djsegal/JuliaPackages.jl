shapecheckjl provides nice syntax runtime shape checking function outputs inputs type methods size shapes checked package dispatched inspired consider shapechecked implementation removelast function using shapecheck const av abstractvector shapechecked function removelast av av square brackets type signature function essentially assertions shapes dimensions inputs outputs abstractvector size output function sizeresult hidden logic error function caught julia using offsetarrays julia offsetvector removelast error dimensionmismatch dimension result match stacktrace removelast offsetvectorsymbol vectorsymbol main shapecheck src shapecheck jl top level scope repl shapecheck function silently returned instead written shapechecked function removelast av av begin able handle abstractvector correctly shapecheckjl performs checks runtime truly zero cost unless shapes constant propagated syntax examples suppose care nd dimension array name dim ll thrown care inner dim ignore const aa abstractarray shapechecked function verticalslice aa aa dimensions listed ignored default demand multiple dimensions arguments match shapechecked function myvcat aa aa aa vcat demand function argument shapechecked function foo vector vector min min