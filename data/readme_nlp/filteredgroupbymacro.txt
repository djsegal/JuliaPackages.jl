filteredgroupbymacro filtered splitapplycombine datatable filteredgroupbymacrojl offers macro concise syntax filtered splitapplycombine operations expressed concisely similar nature indexing package datatable ecosystem slightly specify filter groupingkeys newcolumnkeywordargs example diamonds dataset using rdatasets using filteredgroupbymacro using statsbase diamonds dataset ggplot diamonds filter price carat cut finally compute columns keyword names diamonds price carat cut meanpricepercarat mean price mean carat mostfreqcolor sort collect countmap color compare default dataframes syntax diamondsdiamonds price diamonds carat cut meanpricepercarat price carat mean price mean carat mostfreqcolor color sort collect countmap assignment syntax join groupby result filtered table using filteredgroupbymacro using dataframes df dataframe repeat repeat result df column suma contains suma row based df suma sum