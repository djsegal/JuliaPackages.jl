threadedsparsecsr provides multithreaded version sparse csr matrix vector multiplication julia instalation install package using pkg pkgaddthreadedsparsecsr add threadedsparsecsr csr matrix format implemented julia package sparsematricescsrjl installed package enable multithreaded matvec multiplication julia initialized threads eitheir setting variable julianumthreads initializing julia julia start threads functionality package implements multithreaded version sparse matrix csr vector multiplication julia package exports functions tmul alpha beta argument alpha beta argument multithreaded versions mul using basethreads threading using spawn tmul multithreaded version using basethreads threading using spawn bmul alpha beta argument alpha beta argument multithreaded versions mul using polyesterjl threading using batch bmul multithreaded version using polyesterjl threading using batch julia threads sparse matvec multiplication checked via threadedsparsecsrgetnumthreads default package imported threads set threadsnthreads using threadedsparsecsr threadedsparsecsrgetnumthreads threadsnthreads true threads changed using function threadedsparsecsrsetnumthreads threads overwrite function mul multithreaded versions using function threadedsparsecsrmultithreadmatmulpolyesterthreads overwrites mul bmul bmul respectivelly threadedsparsecsrmultithreadmatmulbasethreads overwrites mul tmul tmul respectivelly threadedsparsecsrmultithreadmatmul default overwrites mul bmul bmul respectivelly example usage using threadedsparsecsr using sparsearrays sparsematricescsr using benchmarktools numnzs floorint rows rand numnzs cols rand numnzs vals randnumnzs csca sparserows cols vals csra sparsecsrrows cols vals rand y rand y copyy y copyy btime muly csra true false threaded version btime bmuly csra true false multithreaded version using polyesterbatch btime tmuly csra true false multithreaded version using basethreadsspawn threadedsparsecsrmultithreadmatmul btime muly csra true false multithreaded version using polyesterbatch threadedsparsecsrmultithreadmatmulbasethreads btime muly csra true false multithreaded version using basethreadsspawn threadedsparsecsrmultithreadmatmulpolyesterthreads btime muly csra true false multithreaded version using polyesterbatch change threads threadedsparsecsrgetnumthreads threadedsparsecsrsetnumthreads btime muly csra true false multithreaded version using polyesterbatch benchmarks compare performance multithreaded sparse csr matrix vec implemented package threaded version multithreaded sparse csc matrix vec multiplication provided mklsparsejl transposed transposed matrix code benchmark using linearalgebra sparsearrays sparsematricescsr threadedsparsecsr using mklsparse enable multithreaded sparse csc matrixvec multiplication using benchmarktools pyplot function benchmarkcsrmvsizes densities timescsc zeroslengthsizes lengthdensities timescsctranspose zeroslengthsizes lengthdensities timescsrmul zeroslengthsizes lengthdensities timescsrbmul zeroslengthsizes lengthdensities timescsrtmul zeroslengthsizes lengthdensities enumeratedensities enumeratesizes numnzs floorint rows rand numnzs cols rand numnzs vals randnumnzs csca sparserows cols vals cscat transposecsca csra sparsecsrrows cols vals rand y zeros y zeros y zeros y zeros y zeros bcsc benchmark muly csca true false timescsc minimumbcsctime time microseconds bcsctranspose benchmark muly cscat true false timescsctranspose minimumbcsctransposetime time microseconds bcsrmul benchmark muly csra true false timescsrmul minimumbcsrmultime time microseconds bcsrbmul benchmark bmuly csra true false timescsrbmul minimumbcsrbmultime time microseconds bcsrtmul benchmark tmuly csra true false timescsrtmul minimumbcsrtmultime time microseconds return timescsc timescsctranspose timescsrmul timescsrbmul timescsrtmul sizes densities timescsc timescsctranspose timescsrmul timescsrbmul timescsrtmul benchmarkcsrmvsizes densities ax subplots figsize enumeratedensities axloglogsizes timescsc marker label mklsparse csc axloglogsizes timescsctranspose marker label mklsparse transposecsc axloglogsizes timescsrmul marker label threaded mul csr axloglogsizes timescsrbmul marker label bmul csr axloglogsizes timescsrtmul marker label tmul csr axsettitlezero density axsetxlabelmatrix size axsetylabelminimum time s axsetxtickssizes axsetxticklabelssizes legend tightlayout savefigbenchmarkcsrmatvecpng dpi versioninfo julia version commit aeae utc platform info os linux xpclinuxgnu cpu amd ryzen pro g radeon graphics wordsize libm libopenlibm llvm libllvm orcjit znver environment julianumthreads acknowlegments package influenced inspired threadedsparsearraysjl sparsematricescsrjl mklsparsejl