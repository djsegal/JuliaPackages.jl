diffeqcallback librari callback extend solver differentialequ usag callback provid librari differentialequ solver pass solver via callback keyword argument sol solv prob alg callback inform use callback manual page manifoldproject project solut manifold conserv properti conserv manifoldproject nlsolv nlsolvejl setup save true residu function manifold resid inplac function write residu differ manifold compon nlsolv nonlinear solver defin nlsolv format save standard save appli callback autoabstol solv environ matlab provid automat adapt absolut toler help solver automat learn appropri limit via callback interfac diffeqcallback implement callback autoabstol behavior matlab implement absolut toler start init curmax default iter set maximum valu reach time relat toler generat callback constructor autoabstol save true init curmax save determin callback save enabl init curmax initi abstol callback isol save true requir normal save behavior otherwis save fals set ensur extra save occur domain control domain control effici method preserv domain relat solut valu unlik isoutofdomain method method interpol extrapol effici choos stepsiz requir solut defin slight outsid domain positivedomain positivedomain save true abstol scalefactor generaldomain generaldomain nlsolv nlsolvejl setup save true abstol scalefactor autonom numarg nlopt dict ftol ep stepsizelimit stepsiz limit defin function dtfe chang allow maxim stepsiz throughout comput constructor stepsizelimit dtfe safeti factor max step fals cach dtcach dtfe maxim timestep calcul use previous safeti factor factor true maximum step default max step true make step equal safeti factor dtfe solver set adapt fals cach dtcach set match type time use float valu functioncallingcallback function call callback defin function func integr call time constructor functioncallingcallback func funcat vector float func everystep isempti funcat func start true tdir func integr function call funcat valu function evalu func everystep call function integr step func start function call initi condit tdir sign tspan tspan default adapt tspan tspan savingcallback save callback defin function save func integr return quantiti save constructor savingcallback save func save valu savedvalu saveat vector eltyp save valu save everystep isempti saveat save start true tdir save func integr return quantiti save note alloc output view save valu savedvalu type save func return save func integr savevaltyp specifi via savedvalu typeof savevaltyp type time type save func output compat type saveat mimic saveat solv solv save everystep mimic save everystep solv save start mimic save start solv tdir sign tspan tspan default adapt tspan tspan output valu save save valu time found via save valu valu save valu savev presettimecallback presettimecallback callback add callback affect call preset time play tstop requir callback add trigger automat presettimecallback tstop user affect initi diffeqbas initi default filter tstop true kwarg tstop time affect trigger user affect affect integr function time filter tstop filter tstop beyond integr timespan default true fals tstop extend interv integr iterativecallback iterativecallback callback iter appli affect exampl effect defin appli effect iterativecallback construct follow function iterativecallback time choic user affect ttype float initi affect fals kwarg time choic integr determin time callback user affect effect appli integr stop return time choic iter initi affect appli affect default fals periodiccallback periodiccallback function call period term integr time oppos wall time tspan tspan tspan callback exampl model discret time control continu time system run fix rate periodiccallback construct follow periodiccallback initi affect true kwarg function call period period initi affect appli affect default fals kwarg keyword argument accept discretecallback constructor terminatesteadyst terminatesteadyst solv steadi run solver deriv converg tspan reach altern approach root find steadi solver section constructor callback terminatesteadyst abstol reltol test allderivpass abstol reltol absolut relat toler respect toler specifi scalar array length test repres function evalu condit termin default condit deriv abstol time reltol user pass function implement termin condit function argument integr integr interfac detail abstol reltol