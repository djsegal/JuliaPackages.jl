covariancematricesjl heteroskedasticity autocorrelation consistent covariance matrix estimation julia installation pkg add covariancematrices introduction package provides types methods useful obtain consistent estimates run covariance matrix random process classes estimators considered hac heteroskedasticity autocorrelation consistent andrews newey west varhac vector autoregression based hac den haan levine smoothed smith hc hetheroskedasticity consistent white crve cluster robust arellano typical application estimators conduct robust inference parameters statistical model package extends methods defined statsbasejl glmjl provide plugplay replacement standard errors calculated default glmjl api regardless model fit glmjl developer extend fit functions provides robust standard errors quick tour hac heteroskedasticity autocorrelation consistent available kernel types truncatedkernel bartlettkernel parzenkernel tukeyhanningkernel quadraticspectralkernel example parzenkernelneweywest return instance truncatedkernel parametrized neweywest type corresponds optimal bandwidth calculated following newey west similarly parzenkernelandrews corresponds optimal bandwidth obtained andrews bandwidth directly passed truncatedkernel run variance regression coefficients regression context function vcov vcov hac dataframeregressionmodel prewhite true consider following artificial data regression autoregressive error component using covariancematrices using random dataframes glm random seed randn zeros rand randn df convert dataframe df using data df coefficient regression estimated using glm lm glm formula x x x x x df normal identitylink consistent estimate run variance estimated coefficients using quadratic spectral kernel automatic bandwidth selection la andrews vcov quadraticspectralkernel andrews lm prewhite false estimate time variance using kernel bandwidth selected la neweywest vcov quadraticspectralkernel neweywest lm prewhite false standard errors obtained stderror method stderror hac dataframeregressionmodel prewhite bool previous example stderror quadraticspectralkernel neweywest lm prewhite false sometime useful access bandwidth selected automatic procedures using optimalbandwidth method optimalbandwidth quadraticspectralkernel neweywest lm prewhite false optimalbandwidth quadraticspectralkernel andrews lm prewhite false alternatively optimal bandwidth stored kernel structure calculation variance accessed requires kernel type materialized kernel quadraticspectralkernel neweywest stderror kernel lm prewhite false bw covariancematrices bandwidth kernel covariances glmjl calculate variance estimator regression model fit manually example accomplished ones size res momentmatrix res inv jacobian moment conditions bw covariancematrices optimalbandwidth kernel momentmatrix prewhite false lrvar quadraticspectralkernel bw momentmatrix scale df adjustment built vcov vcov quadraticspectralkernel bw lm dofadjustment true utility function sandwich automatically vcov quadraticspectralkernel bw lm dofadjustment true covariancematrices sandwich quadraticspectralkernel bw momentmatrix dof vcov quadraticspectralkernel bw lm dofadjustment false covariancematrices sandwich quadraticspectralkernel bw momentmatrix dof hc heteroskedastic consistent hac vcov stderror main functions argument type robust variance sought vcov hc dataframeregressionmodel hc abstract type following concrete types hc hc hc degree freedom adjustment hc hc hc hcm hc using covariancematrices dataframes glm gamma example mccullagh nelder pp weights added test interface original data clotting dataframe log lot lot wols fit generalizedlinearmodel formula lot clotting normal wts clotting vcov hc wols vcov hc wols vcov hc wols vcov hc wols vcov hc wols vcov hcm wols vcov hc wols crhc cluster robust heteroskedasticity consistent api class estimators subject change please care difficulty crhc type access variable dimension clustering moment following approach using rdatasets df dataset plm grunfeld lm glm formula inv value capital df normal identitylink vcov crhc firm df lm stderror crhc firm dflm alternatively cluster indicator passed directly missing values vcov crhc df firm lm stderror crhc df firm lm hac sandwich lrvar leveraged constract clusterrobust variances relying glmjl performances using benchmarktools calculating hac matrix randn btime lrvar bartlettkernel andrews prewhite true ms allocations mib library sandwich library microbenchmark matrix rnorm microbenchmark bartlettnewey lrvar type andrews kernel bartlett unit milliseconds expr min lq mean median uq max neval bartlettandrew