bmesh background mesh utilities topology optimization using bmesh d background mesh domain divisions b bmeshtrussd d background mesh domain divisions b bmeshtrussd d background mesh solid domain divisions bs bmeshsolidd d background mesh solid domain divisions direction bs bmeshsolidd plotsplot overloaded bmesh truss plot b tools bmesh nodes element conect b coordinates node coord b length element lenght b evaluate director cossine length element rotations b evaluate rotation matrix element tmatrix directly calling rotations tmatrix b global degrees freedom element dofs b node close node findnode b nodes inside rectangle left bottom coordinate xy top coordinate xy x y x y nodes findnodesinrectangle bxyxy nodes inside box left bottom coordinate xyz top coordinate xyz x y z x y z nodes findnodesinbox bxyzxyz element centroid close element findelement bs elements centroid inside rectangle left bottom coordinate xy top coordinate xy x y x y elements findelementsinrectangle bsxyxy elements centroid inside box left bottom coordinate xyz top coordinate xyz x y z x y z elements findelementsinbox bxyzxyz return vector vectors nn positions containing elements sharing node elems elementssharingnodes b merge bmeshes creating bmesh translated changing origin coordinates node create d shape merging blocks d trusses horizontal bmesh lx ly lz nx ny nz b bmeshtrussd lxnxlynylznz vertical bmesh origin x y z lx ly lz nx ny nz b bmeshtrussd lxnxlynylznzorigin merge single bmesh bl merge bb export coordinates connectivities gmsh gmshinit outputpos bl