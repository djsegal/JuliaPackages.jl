leafareaindex tools hemispherical pictures determination leaf index lai view documentation quick introduction install package pkgclone basic type package polarimage construct polarimage cameralens type image abstractmatrix note lai calculations typically blue channel image load image eg images package using images img imreadimagejpg imgblue blueimg blue channel raw image camera provide accurate dedicated function extract pixels blue channel using dcraw hood using leafareaindex imgblue rawbluereadimagenef mapping pixels image coordinates scene dependent camera setup construct configuration object information cameralens type constructed image size coordinates lens center inverse projection function projection function maps polar distance pixels image zenith angle radians scene usually linear project function depends specific fisheye usually polynomial approximated nd max a a max maximum visible radius submit vector polynomial coefficients maximum radius max lens center depends combination camera lens image size depends obviously camera using leafareaindex mycameralens cameralens height width centeri centerj max basic polarimage type constructed polarimg polarimageimgblue mycameralens processing step automatic thresholding default method ridler calvard thresh thresholdpolarimg step effective lai estimated inversion model default method assumes ellipsoidal leave angle distribution linear optimization method laie inversepolarimg thresh finally clumping factor estimated method lang xiang default segments view angle clump langxiangpolarimg thresh clumping correction obtain lai laie clump methods images vertically upwards domain slope eg sloping downward east include information polarimage slopeinclination direction function myslope slopeparamspi pi polarimg polarimageimgblue mycameralens myslope downward crop images create mask cut photographer shoes redmax method instead thresholding separate soil green plant material mymask maskparamspi pi pi polarimg polarimageimgblue mycameralens mymask laie inversepolarimg redmax besides default ridler calvard method automatic thresholding methods edge detection minimum algorithm thresh thresholdpolarimg ridlercalvard thresh thresholdpolarimg edgedetection thresh thresholdpolarimg minimumthreshold lai estimation methods inversion model available ellipslut assumes ellipsoidal leaf angle distribution lookup table approach instead optimization approach zenith method ring view angle rad alia influence minimal miller method integrates zenith rings assuming constant leaf angle lang method regression miller method lai inversepolarimg thresh ellipsopt lai inversepolarimg thresh ellipslut lai inversepolarimg thresh zenith lai inversepolarimg thresh miller lai inversepolarimg thresh lang clumping factor besides method lang xiang experimental method chen chilar available clump chencihlarpolarimg thresh pi lower level methods hood lower level methods access pixels calculated gapfractions suggest look code definition usage access pixels particular zenith range pixelspolarimg pi pi return vector pixels quickly sorted increasing polar angles identical shortcut pixelspolarimg translated pixelspolarimg pi segments function split ring pixels segments eg clumping calculation returns vector elements vector segment pixels gapfraction suggest online documentation contact frequencies thetav lnthetav costhetav lai inversion calculations gapfraction thetav view angle input determines rings view angles polar image threshold function returns vector angle edges rings weighted average midpoint angle ring contact frequency ring edges mid contactfreqspolimg thresh suggestion hesitate submit issue issue tracker code suggestions pull request documentation view document