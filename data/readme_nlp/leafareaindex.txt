leafareaindex tool hemispher pictur determin leaf index lai view document quick introduct instal packag pkg clone basic type packag polarimag construct polarimag cameralen type imag abstractmatrix note lai calcul typic blue channel imag load imag imag packag use imag img imread imag jpg imgblu blue img blue channel raw imag camera provid accur dedic function extract pixel blue channel use dcraw hood use leafareaindex imgblu rawblueread imag nef map pixel imag coordin scene depend camera setup construct configur object inform cameralen type construct imag size coordin len center invers project function project function map polar distanc pixel imag zenith angl radian scene usual linear project function depend specif fish eye usual polynomi approxim max max maximum visibl radius submit vector polynomi coeffici maximum radius max len center depend combin camera len imag size depend obvious camera use leafareaindex mycameralen cameralen height width centeri centerj max basic polarimag type construct polarimg polarimag imgblu mycameralen process step automat threshold default method ridler calvard thresh threshold polarimg step effect lai estim invers model default method assum ellipsoid leav angl distribut linear optim method laie invers polarimg thresh final clump factor estim method lang xiang default segment view angl clump langxiang polarimg thresh clump correct obtain lai laie clump method imag vertic upward domain slope slope downward east includ inform polarimag slope inclin direct function myslop slopeparam polarimg polarimag imgblu mycameralen myslop downward crop imag creat mask cut photograph shoe redmax method instead threshold separ soil green plant materi mymask maskparam polarimg polarimag imgblu mycameralen mymask laie invers polarimg redmax besid default ridler calvard method automat threshold method edg detect minimum algorithm thresh threshold polarimg ridlercalvard thresh threshold polarimg edgedetect thresh threshold polarimg minimumthreshold lai estim method invers model avail ellipslut assum ellipsoid leaf angl distribut lookup tabl approach instead optim approach zenith method ring view angl rad alia influenc minim miller method integr zenith ring assum constant leaf angl lang method regress miller method lai invers polarimg thresh ellipsopt lai invers polarimg thresh ellipslut lai invers polarimg thresh zenith lai invers polarimg thresh miller lai invers polarimg thresh lang clump factor besid method lang xiang experiment method chen chilar avail clump chencihlar polarimg thresh lower level method hood lower level method access pixel calcul gapfract suggest look code definit usag access pixel particular zenith rang pixel polarimg return vector pixel quick sort increas polar angl ident shortcut pixel polarimg translat pixel polarimg segment function split ring pixel segment clump calcul return vector element vector segment pixel gapfract suggest onlin document contact frequenc theta theta cos theta lai invers calcul gapfract theta view angl input determin ring view angl polar imag threshold function return vector angl edg ring weight averag midpoint angl ring contact frequenc ring edg mid contactfreq polimg thresh suggest don hesit submit issu issu tracker code suggest pull request document view document