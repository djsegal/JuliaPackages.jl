powermodelsprotection fault study powermodels powermodelsdistribution future include optimal protection coordation formulations possibly protection coordination constraints optimal switching modeling assumptions generators modeled voltage sources impedance synchronous generation subtransient reactance xd inverters currently virtual resistance accurate model inverters account current limits loads neglected faults modeled admittance matrix usage example balanced using powermodels powermodelsprotection ipopt net powermodels parsefile caseraw importall true solver ipopt optimizer net fault dict net fault dict bus results powermodelsprotection runfaultstudy net solver print results todo todo section moved issues llg fault model inverter fault models gridfollowing inverter balanced vrcr vici vrci vicr decision variable ranging unbalanced inverter unbalanced conditions operate fixed power factor averaged phases injecting positivesequence current sounds ugly constraints appear bad ar ai exppi sqrt ar ai exppi sqrt positivesequence current constraints car cr cai ci cbr arcr aici cbi arci aicr ccr arcr aici cci arci aici constant power factor constraints varcar vbrcbr vcrccr vaicai vbicbi vcicci varcai vbrcbi vcrcci vaicar vbicbr vciccr gridforming inverter virtual resistance model vr vi set inverter node voltage base power flow rs pu pu current short xs pu current limiting model model assumes vm va set inverter node voltage base power flow vr kg vm cos va vi kg vm sin va cmax crg cmax cnds cmax cig cmax cnds objective sum sumvr vmcosva vi vmsinva cnd invertergens current limiting model droop constraints vg v zgig kgvg ig ig igmax objective sum vg vg invertergens code provided bsd license multiinfrastructure control optimization toolkit micot project lacc