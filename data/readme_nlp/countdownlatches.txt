countdownlatches package implements multithreading primitive called countdownlatch holds internal count latch count decremented multiple threads threads wait latch count zero example example main thread blocked await spawned thread counts latch contrived example imagine code countdown await latch countdownlatch threads spawn begin decrease latch count countdown latch wait latch count zero await latch