indexfunarraysjl package allows generate complex array expressions based indices indexfunarray type allocate memory instead entrywise generated accessed indexfunarray abstractarray behaves normal array documentation build status code coverage installation type repl package manager install julia add indexfunarrays quick examples ship lot convenient wrappers indexfunarray directly julia using indexfunarrays julia rr offset ctrmid indexfunarray containing square radius mid position indexfunarrayfloat indexfunarrays var float tuplefloat float tupleint int julia rr offset square distance top left pixel indexfunarrayfloat indexfunarrays var float tupleint int tupleint int julia rr scale scaunit distance square fouriercenter unity pixel scaling indexfunarrayfloat indexfunarrays var float tuplefloat float tupleint int julia indexfunarray sum abs directly using constructor supplying function store array indexfunarrayint var julia normal array julia view slices view assign indexfunarray view indexfunarrayint var eltype int julia apply operations returns allocated array matrixint complex examples assign allocated memory assume following situation array created assign indexfunarray rr distance reference position array allocation significant amount memory julia time randn allocations mib gc time julia time randn allocations mib gc time julia using indexfunarrays julia time rr size run contains compilation allocations mib compilation time julia time rr size allocations bytes apply operations allocations lazyarraysjl implements efficiently example removed lines compilation calls thanks lazyarraysjl evaluated julia using indexfunarrays lazyarrays julia time rr allocations bytes julia time exp allocations bytes base broadcast broadcasted basebroadcastdefaultarraystyle exp julia time materialize allocations mib julia typeof matrixfloat alias arrayfloat benchmark bytes allocated memory following benchmark performance cartesianindices julia include examplesbenchmarkjl comparetocartesianindices generic function method julia comparetocartesianindices info rr based ms allocations bytes ms allocations bytes info cartesianindices based ms allocations bytes ms allocations bytes info cartesianindices based initialized function ms allocations bytes ms allocations bytes package image processing applications encounter positiondependent functions bit code helps thinking picture functions arrays contain indexdependent values examples windowing functions complicated example complexvalued freespace optical propagator storing arrays memory intensive slow ideally perform calculations fly applying filter fouriertransformation julia mechanism syntactic loop fusion broadcasting using using cartesianindices write indexexpressions feel arrays indexfunarrays allow indexbased calculations look arrays loop fusion eases writing complicated expressions loss speed due julia syntactic loop fusion mechanism indexfunarray array stores expression calculating indices inside means assing arrays precludes using range indices views range indices applied views course arrays generate datatype indexfunarray detail