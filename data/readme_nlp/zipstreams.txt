zipstreams julia package read write zip archives read write streams ignoring standards little bit synopsis using zipstreams zipsink archivezip sink context management sinks syntax sink hellotxt context management files syntax write hello julia write write io object zipsource archivezip source context management sources syntax source iterate files archive println info name hellotxt readdata read string read read io object println readdata hello julia overview wrong max power homer simpsons season episode homer max zip archives optimized appending deleting operations canonical source information stored zip archive central directory written archive users append file archive overwrite central directory file data append updated central directory afterward else file touched likewise users delete files archive change entries central directory readers conform standard described pkware appnote file ignore files listed design choice means standardsconformant readers zipfilejl files stored zip archive read archive typically modern ssdbased storage random file access fast major limitation streambased file transfer systems networks readers typically choice read entire file beginning archives sizes megabytes standard zip archives gb easily overwhelm systems limited memory storage embedded systems cloudbased microinstances matters worse zip archives eb bytes size easily overwhelm largest modern supercomputers zip archive specification requires local file header precede possibly compressed file data file archive local file header contains information allow reader extract file perform simple error checking conditions met information local file header correctly specified central directory canonical source information local file header lying central directory encrypted file sizes checksum values masked local file header central directory encrypted impossible file begins file stored data descriptor purpose flag encryption files stored data descriptor masked file sizes checksums local file header format typically archive written streaming fashion users zip files extracted exclusively using local file header information files written data descriptors file streamed archive final size file knowable byte written especially true file compressed streamed files streamed data descriptor appended immediately file data record crc checksum compressed uncompressed sizes files written read streaming data read buffered file written optional data descriptor signature described section pkware appnote file reading file signals local file header data descriptor package check valid data descriptor read stream package determine file written data descriptor completely consumed archive source makes reading files using data descriptors efficient reading files local file headers specify lengths package count bytes completely consumed file archive source blindly trust zip archives ignoring central directory module makes guarantees zip archive matches else code tested zip archives generated various writers corner ambiguities standard pathological zip files wild silently break package bart wrong homer yeah faster simpsons season episode homer max warned installation install via julia package manager pkgaddzipstreams notes package inspired frustrations using standardscompliant zip archive readerwriters zipfilejl streams data network source zipfilejl bad contrary standardscompliant package intends history repository started fork package grateful fazlul shahriar programming available zipfilejl