setupiteratorjl sometimes data structure iterate complicated express structure baseiterators gone trouble appropriate iterator example consider struct vectorofvectors vectorvector base iteratoreltype vectorofvectors base iteratorsize vectorofvectors base haslength base length vov vectorofvectors isempty vov sum length vov supose treat semantically flat vector concatenate contents writing method baseiterate type actually somewhat difficult juggle constituent vectors check subvector current iteration corresponds akin wish actually base iterator vov vectorofvectors iterators flatten vov enter setupiteratorjl using setupiterator setupiterator iterator vov vectorofvectors iterators flatten vov setupiterate vectorofvectors julia vov vectorofvectors vov normally write xs stuff lowered code iterate xs stuff iterate xs setupiteratorjl equivalent itr setupiterator iterator xs iterate itr stuff iterate itr remaining references xs inside loop wish implement destructive iterator reclaim memory xs loop runs inspiration comes iterate mike innes issue credit jameson nash issu