luacalljl julia package interoperability lua functionality calling julia function lua sharing julia object lua accessing lua data julia resuming lua coroutines julia showcase call julia lua luacall initializes lua global variables julia represents julia module main access julia functions julia value involved shared lua opaque userdata example linear algebra lua using luacall ls luastate guard whatever lua scope luascope luascope ls begin luainv lualoadstring ls return juliainv inv luainv getjulia inv calling lua julia using luacall ls luastate luascope ls begin code lualoadstring ls return hello coroutinecreatefunction coroutineyield return table thread code multiret true table table resume ls thread resume ls thread hello lua api overview lua session contained lua luastate luastate julia lua sessions share data access lua affect internal concern stack lua stores execution context hide implimentation details lua users pointers access lua objects instead reference specific index stack substantial impact design package lua api stack transfer data reference data stack poppush object luacall duplicates poped elements objects removed objects located stack potentially leaking memory luascope resets top stack remove elements pushed block luareturn return elements lua stack remove elements leave returned object object lua stack wrapped popstack automatically unwrapped appear hand assignment luascope block manually unwrap tablekey returns value unwrapped manage stack manually push pop example luascope luastate begin array array luascope luastate begin table newtable luastate stack table table array stack table unmodified userdata table stack table userdataarray luareturn userdata stack userdataarray getjulia array array stack type mapping lua type julia type julia type lua stack nil value integer luaint int abstractint floating luafloat float abstractfloat string string abstractstring table luatable function luafunction userdata luauserdata thread luathread retrive value lua stack luastateindex getstackluastate index retrive julia value contained lua userdata getjulia push value stack default conversion pushluastate values construct mutable object julia check newtable newcfunction newuserdata newthread