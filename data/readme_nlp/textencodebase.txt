textencodebase api encoding text built top wordtokenizersjl providing framework easily define custom methods convert strings indices usages explanation examples using textencodebasejl information docs test vocabulary vocabulary contains api vocab struct lookup function lookup function bidirectional convert string indices julia vocab vocab vocab string staticarrayssizedvector string vectorstring size unk unk unki julia vocabunk vocab xxx xxx vocab string staticarrayssizedvector string vectorstring size unk xxx unki julia lookup vocab julia lookup vocab julia lookup vocabunk julia lookup vocab julia lookup vocab unk julia lookup vocabunk xxx julia lookup vocab unk element vectorint julia lookup onehot vocab element onehot julia lookup onehot vocab error domainerror convert lookupvocab hot representation stacktrace julia oha lookup onehot vocab xx onehotarray matrixonehot x julia lookup vocab oha matrixstring unk pipelines reexport funcpipelinesjl pipeline api help define series functions easily decomposed combined function form pipeline function pipeline tagged multiple symbol return values pipeline bound symbols storing namedtuple precisely pipeline inputs regular input value source namedtuple target stores results applying function store result name carried target chaining multiple pipeline pipelines example julia pipes pipeline identity pipeline sinx cosx sincos julia pipes sinx cosx define series function julia pipes pipeline base fix pipeline sin cos sincos pipeline tan target target sin target cos pipelines target source targetsin cos sincos target targettan target results julia pipes pipes pipeget tan pipelines target source targetsin cos sincos target targettan target target target tan target julia pipes tan replace functions pipeline julia pipes pipes pipeline tan tan pipes pipelines target source targettan tan target target target tan target julia pipes tan pipelines type stable julia using test inferred pipes tan tokenizer tokenizer built ontop wordtokenizersjl provide level api controlaugment tokenization re differences wordtokenizersjl wordtokenizersjl provides set tokenizers lowlevel api tokenbuffer define custom tokenizers mainly focus split setnece tokens hand focus combine tokenizer include information tokenization example sometimes prevent urls splited add extra tags defining custom abstracttokenizer overload methods besides force user explicit wrap input stages document sentence word confusion example using tokenizer api example wrapped word tokenizer wordpiece transformersjl tokenizer api using transformers using transformers pretrain using transformers bidirectionalencoder wordpiece bertcasedtokenizer using textencodebase using textencodebase nestedtokenizer basetokenization sentence word subword getvalue splittable struct bertcasedtokenization basetokenization wordpiece wordpiece split sentence bertcasedtokenizer define wordtokenizersjl tokenbuffer textencodebase splitting bertcasedtokenization sentence bertcasedtokenizer getvalue word splittable wordpiece textencodebase splittability bertcasedtokenization word splittable split word wordpiece textencodebase splitting bertcasedtokenization word wordpiece getvalue tokenizer pretrain bertcasedlhatokenizer bertcasedtokenizer wordpiece pretrain bertcasedlhawordpiece tkr nestedtokenizer bertcasedtokenization wordpiece text peter piper picked peck pickled peppers singlewithoutteb text tokenizer wordpiece singlewithteb tkr sentence text nestedtokenizer return vector vector assert singlewithoutteb map getvalue singlewithteb julia singlewithoutteb element vectorstring peter piper picked eck pick led pepper julia singlewithteb element vectorvectortextencodebase tokenstage token peter token piper token picked token token token eck token token pick token led token pepper token julia singlewithoutteb map getvalue singlewithteb true define stage batch data equivalent textencodebasestage batchsentenceabstractvector documentstage struct batchsentence abstractvector textencodebasedocumentstage meta batchsentence batchsentence textencodebase setmeta batchsentence meta batchsentence meta textencodebase setvalue batchsentence batchsentence meta splittability split behavior batchsentence textencodebase splittability bertcasedtokenization batchsentence splittable textencodebase splitting bertcasedtokenization batchsentence text fuzzy wuzzy bear texts text text batchwithoutteb map wordpiece tokenizer texts batchwithteb tkr batchsentence texts assert batchwithoutteb textencodebase nestedcall getvalue batchwithteb julia batchwithoutteb element vectorvectorstring peter piper picked eck pick led pepper fu zzy wu zzy bear julia batchwithteb element vectorvectortextencodebase tokenstage token peter token piper token picked token token token eck token token pick token led token pepper token token fu token zzy token wu token zzy token token token bear julia batchwithoutteb textencodebase nestedcall getvalue batchwithteb true wordpiece break word subword word subword belongs julia itkr nestedtokenizer textencodebase indexedtokenization bertcasedtokenization wordpiece julia ibatchwithteb itkr batchsentence texts subword word wordid julia ibatchwithteb element vectortextencodebase tokenstage token peter sentenceid wordid tokenid token piper sentenceid wordid tokenid token picked sentenceid wordid tokenid token sentenceid wordid tokenid token sentenceid wordid tokenid token eck sentenceid wordid tokenid token sentenceid wordid tokenid token pick sentenceid wordid tokenid token led sentenceid wordid tokenid token pepper sentenceid wordid tokenid token sentenceid wordid tokenid julia ibatchwithteb element vectortextencodebase tokenstage token fu sentenceid wordid tokenid token zzy sentenceid wordid tokenid token wu sentenceid wordid tokenid token zzy sentenceid wordid tokenid token sentenceid wordid tokenid token sentenceid wordid tokenid token bear sentenceid wordid tokenid textencoder text encoder combination vocabulary tokenizer provide helper function withheadtail nestedbatch transform tokenizer result lookup able format example using textencodebase nestedcall withheadtail truncandpad nestedbatch construct vocab wordpiece vocab vocab wordpiece vocab wordpiece vocabwordpiece unkidx define encoder textencoder enc textencoder itkr vocab nestedbatch truncandpad vocab unk withheadtail cls sep nestedcall getvalue julia encode enc batchsentence texts xx onehotarray matrixonehot x julia decode enc ans matrixstring cls cls peter fu piper zzy picked wu zzy eck bear pick sep led unk pepper unk unk sep unk