kernelopsjl julia package apply lazy kernel operations abstractarrays composable copying fun example noisy image stored array locate local maximas simple local average image local maximum function smoothed image compare equality coincide local maxima exp rand fake image maximum middle affected random noise f kernelop size kernelop avg zero eltype inbounds avg avg length f kernelop f size kernelop inbounds max stdout textplain f f result bitarray example conway game life using kernelops int cb copy function evolve cells gameoflife kernelop cells sum return int return int return int else return int return return gameoflife collect add collect unless julia suffer test fun bit code stdout textplain println evolve stdout textplain println cb print pattern repeats iterations break arrayint arrayint arrayint arrayint arrayint arrayint pattern repeats iter