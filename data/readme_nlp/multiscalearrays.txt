multiscalearray multiscalearray allow easili build multipl scale model compat nativ julia scientif comput packag differentialequ optim model util tree structur describ phenomena multipl scale interfac allow describ equat level use aggreg lower level describ complex system structur allow complex dynam model develop perform differ abstractarray standard solver allow vector appropri julia packag exampl usag describ exampl build hierarchi embryo contain tissu contain popul contain cell cell contain protein concentr model simpli vector linear index use multiscalearray struct cell abstractmultiscalearrayleaf valu vector struct popul abstractmultiscalearray abstractmultiscalearray node vector valu vector idx vector int struct tissu abstractmultiscalearray abstractmultiscalearray node vector valu vector idx vector int struct embryo abstractmultiscalearray abstractmultiscalearrayhead node vector valu vector idx vector int setup defin type structur tree array pictur version follow build version use constructor direct construct leaf type cell cell cell cell build type hierarchi use constuct method method construct abstractmultiscalearray node valu valu empti cell cell cell cell popul construct popul deepcopi cell cell cell popul construct popul deepcopi cell cell cell tissu construct tissu deepcopi popul popul popul tissu popul tissu construct tissu deepcopi popul popul popul embryo construct embryo deepcopi tissu tissu embryo tissu index iter head node act king design function mimic vector usag differentialequ optim exampl embryo return protein count embryo tissu popul cell vector linear index exist abstractmultiscalearray type act linear vector standard oper sensic oper embryo chang protein concentr embryo cell popul tissu embryo generat vector protein concentr eachindex embryo generat iter indic continu model written protein level seamless differentialequ optim treat vector protein concentr use iter note cell popul loop level top cell level iter embryo cell multipl level iter differentialequ function cell dcell levelit embryo dembryo similar structur cell dcell similar cell ode dcell cell leveliteridx indic iter cell leveliteridx embryo cell embryo behavior come event handl embryo vector differenti equat optim valu pass event handl multiscalearray includ behavior chang structur exampl tissu construct tissu deepcopi popul popul add node embryo tissu add tissu embryo remov node embryo remov popul tissu embryo combin event handl allow dynam structur deriv low level behavior heterogen node via tupl note tupl allow type stabl broadcast heterogen node use mix type insid node exampl struct plantset struct organparam struct organ abstractmultiscalearrayleaf valu vector name symbol param struct plant tupl vararg organ abstractmultiscalearray node valu vector idx vector int set struct communiti tupl vararg plant abstractmultiscalearray node valu vector idx vector int mutabl struct scenario tupl vararg communiti abstractmultiscalearrayhead node valu vector idx vector int organ organ shoot organparam grow organ organ root organparam grow organ organ shoot organparam true organ organ root organparam plant construct plant deepcopi organ deepcopi organ float plantset plant construct plant deepcopi organ deepcopi organ float plantset communiti construct communiti deepcopi plant deepcopi plant scenario construct scenario deepcopi communiti cours cost mutabl idea idea multiscalearray simpl diffeq solver ordinarydiffeq stochasticdiffeq delaydiffeq etc nativ optim packag optim effici form julia defin abstractarray linear index defin multiscal model develop type effici linear index repres cell protein array valu protein linear index multiscal model index protein cell proper index overload defin type differenti equat solver multiscalearray take allow recurs defin arbitrari level hierarch model effici index structur result type model complex behavior standard differenti equat solver direct effici type easi develop novel model develop advanc adapt stiff stochast etc solv techniqu model defin multiscalemodel interfac requir interfac follow leaf type extend abstractmultiscalearrayleaf level model head extend multiscalemodelhead intermedi type extend abstractmultiscalearray leaf array valu vector type contain field node vector valu vector idx vector int note field matter bottomtyp eltyp array leaf type abstractmultiscalearray level abstractmultiscalearray contain inform valu level heirarchi node cach indic idx add extra field pleas type immut multiscalemodel api result type act array leaf type act exact array valu node act linear array level heirarchi node vector level object valu intrins valu index scheme object object level object cours recurs hierarchi provid linear index node valu valu lower level valu typeof abstractvector eltyp leav valu addit iter provid easi iter level head node level iter iter level object level top level iter idx enumer node node head object valu hold linear index extens note basic multiscalearray type extend pleas exampl chang definit cell struct cell abstractmultiscalearrayleaf valu vector celltyp symbol note field matter extra field standard field leaf come valu standard multiscal array node valu idx construct cell cell cell bcell cell type inform call cell level iter idx embryo cell view embryo allow check cell celltyp appli ode depend cell type add field name cell track lineag valu pass constructor pass array valu tissu construct tissu deepcopi popul popul select appli function valu via tissu level iter idx embryo tissu view embryo mutat tis valu exampl function tissu tissu randn appli normal random valu add model tissu valu tissu posit ad brownian motion cours whatev power