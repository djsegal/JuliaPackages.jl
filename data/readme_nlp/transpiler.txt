transpil tool julia type ast emit code static compil languag transpil optim emit code opencl opengl nice integr simpl user defin julia function larger framework gpuarray appraoch via llvm cudan use spir opencl vulkan nice adhoc solut julia gpu compil effort start transpil code appraoch julia programm dive world llvm julia intern tool develop packag sugar matcha offer lot function static lint introspect julia type ast option julia transpil target implement macro type ast allow power transform instal pkg add transpil exampl use transpil kernel sourc import transpil cli use opencl function test sqrt sin cos function mapkernel gid cli global gid gid gid return type mapkernel argument cli globalpoint float argtyp typeof test src method fname kernel sourc mapkernel argtyp println src setup opencl buffer queue context rand float rand float devic ctx queue creat comput context buff buffer float ctx copi hostbuf buff buffer float ctx copi hostbuf buff buffer float ctx length compil kernel program ctx sourc src build kernel fname call kernel accept arg global local size automat super primit queue size test buff buff buff read queue buff test info success els error output depend type declar typedef struct float empti struct empti test depend function declar float test float float float float sqrt sin float float cos return float main inner function kernel void mapkernel global const test global float global float global float int gid gid global float ssavalu ssavalu test gid gid gid ssavalu todo common issu compil constructor code transpil core appli pass type construct error handl log