functorsjl functorsjl provides tools express powerful design pattern dealing nested structures machine learning optimisation machine learning models cumbersome inefficient parameters flat vector structs help manage complexity desirable easily operate parameters changing precision applying optimiser update step functorsjl provides fmap easy acting map parameters julia using functors julia struct foo julia functor foo julia model foo foo julia fmap float model foo deeplynested models julia struct bar julia functor bar julia model bar foo bar foo julia fmap float model bar foo workhorse fmap actually lower level function functor julia xs re functor foo var julia re map float xs foo functor returns object inspected re function takes values restructures object original type include fields pass tuple field names functor julia struct baz julia functor baz julia model baz baz julia fmap float model baz field list returned functor passed reconstruction invoking default constructor structs define custom inner constructors expected provide acts default implement functor hand flexibility required example discussion regarding cache implementation fmap exclude finegrained control fmap descends particular value default exclude functorsisleaf julia using cuda julia julia fmap cu element arraychar ascii unicode category ll letter lowercase ascii unicode category ll letter lowercase ascii unicode category ll letter lowercase julia fmap cu exclude cuda isbitstype eltype element cuarraychar ascii unicode category ll letter lowercase ascii unicode category ll letter lowercase ascii unicode category ll letter lowercas