irtrack previous dynamiccomputationgraph aim project provid graph represent suitabl dynam model occur probabilist program languag stochast control flow model recurs implement approach tradit idea oper overload sourc transform result data structur extend wengert list general tradit wengert list backward mode record control flow oper preserv hierarchi function call nest instead linear carri arbitrari metadata customiz context system similar cassett represent abl perform usual forward comput perform overhead interpret record express node repres calcul raw expr equival allow convert record meta inform origin code inform random variabl type condit etc record applic inform backward calcul backward inform graph mutabl updat subgraph evalu chang model design basic idea nest tape consist instruct execut code includ control flow type similar wengert list record linear statement execut execut function contain inform function call nest wengert list metadata extract insert record statement instruct function look simpl function stochast control flow geom rand geom code main rand unless return main geom return use irtool format record trace geom follow assumpt rand return valu time time julia printlevel track geom geom arg geom arg arg rand arg rand random default rng huge mersenn twister constant float return fals arg arg arg float fals return fals goto fals arg arg arg add int return geom arg geom arg arg rand fals goto fals geom return return simplifi graphic form result expand level output huge indent line indic inner code record recurs call record intermedi valu track data depend pointer equival tradit tape backward mode control flow node origin bit cryptic contain follow inform execut statement link origin correspond ssa valu origin code annot bracket block variabl argument associ express prefix arg intermedi valu data path node number refer express record backward pass trivial branch instruct actual written liter form goto label block refer paragraph sign annot block posit branch statement block posit nest function call argument note argument stand function time constant liter express written angl bracket make debug transform code easier furthermor argument assign block jump branch link respect argument use notat valu julia function zero return generic function method julia printlevel track arg arg arg zero goto arg arg true goto goto arg arg true goto goto arg arg fals goto fals return form backward pass trivial follow refer return ad adjoint valu metadata data structur abstract abstractnod type subtyp argument constant special call inbound primit call default builtin intrins chang use context nest call contain recurs node primit call return jump node record branch implement construct trace extend origin insert constant statement origin statement begin block somehow julia code track geom saveir quotenod main rand unless return main geom return tapeconst trackedargu quotenod quotenod record tapeconst trackedargu quotenod quotenod record tapeconst trackedargu quotenod quotenod record tapeconst main rand tupl trackedcal quotenod record tapeconst main trackedvari quotenod trackedvari quotenod tupl trackedcal quotenod record tupl trackedvari quotenod trackedjump quotenod trackedvari quotenod trackedreturn quotenod unless record tapeconst main trackedvari quotenod tupl quotenod trackedcal quotenod record tapeconst main geom trackedvari quotenod trackedvari quotenod tupl trackedcal quotenod record trackedvari quotenod trackedreturn quotenod record return extra argument graphrecord object statement record onto use record statement reifi call track whatev plus prepar final replac record return origin valu function trackcal recurs nest call depend current notion primit call context transform implement use irtool dynamo essenc fancier generat function allow oper instead raw codeinfo dynamo origin complet rebuilt insert track statement note branch record creat node branch block pass extra argument actual branch actual record target block reason return branch replac jump extra return block addit runtim logic trackcal function determin differenti primit primit call serv stop recurs track purpos trackedvari tape refer output actual usag ssa variabl happen multipl time loop splice quotenod result inlin liter valu time transform static determin indic locat result liter origin code context notic track whatev function graphrecord argument context object pass transform function dispatch intern function trackcal context argument similar context cassett overload behaviour track provid custom implement method tracker function main customiz behaviour chang consid primit primit differenti function primit applic recurs record custom metadata exampl readm context test tri current coupl primit exampl runtest interfac simpl node track arg node nestedcallnod unless primit valu node result arg track graph recurs inspect top level printlevel julia sin generic function method julia node track julia printlevel node arg arg sin return node children parent julia getchildren node element array abstractnod sin return julia getpar node node true normal index access children nest node provid function inspect depend code referenc result parent node node direct refer backward follow refer transit current nestedcallnod julia printlevel node arg arg sin return julia referenc node element array nestedcallnod julia backward node element array abstractnod sin special implement requir refer number accord posit call julia referenc node number true element array pair int nestedcallnod julia referenc node number true element array pair int sin constant argument left function call correspond function depend forward correspond queri function direct julia depend node element array nestedcallnod sin julia forward node element array abstractnod sin return queri function detail intern iterfac node hierarchi final inspect various properti node julia typeof node nestedcallnod julia getvalu node julia node call sin julia getvalu node call sin generic function method julia node call argument julia getvalu node call argument node locat origin julia printlevel node node huge julia getloc node origin node record avail index locat julia getir node main sin return julia getir node getloc node irtool inner statement graphapi node tapeexpr function context context creat subtyp abstracttrackingcontext limit recurs track maximum level avoid call printlevel time start follow struct depthlimitcontext abstracttrackingcontext level int maxlevel int depthlimitcontext maxlevel depthlimitcontext maxlevel littl helper increas level ctx depthlimitcontext depthlimitcontext ctx level ctx maxlevel overload function chang import irtrack canrecur tracknest main canrecur ctx depthlimitcontext arg ctx level ctx maxlevel recur nest function updat level context function trackednest ctx depthlimitcontext repr tapeexpr arg repr argumenttupl tapevalu info nodeinfo ctx increas level ctx return recordnestedcal ctx repr arg repr info recordnestedcal fallback implement recurs cassett return nestedcallnod record children custom context pass argument track julia call track depthlimitcontext geom geom arg geom arg arg rand fals goto fals geom return note node level primitivenod context provid constant default ctx defaulttrackingcontext track primit intrins function isbuiltin record addit metadata depthlimitcontext provid librari moment overload method canrecur trackedargu trackedcal trackedconst trackedjump trackednest trackedprimit trackedreturn trackedspeci provid fallback recordnestedcal explain isbuiltin canrecur forc otherwis manual construct node structur return complex look implement test folder