spinebasedrecordlinkagejl spinebased record linkage julia concepts start tabular data sets record table describes entity event involving entity entity unit usually person else business enterprise event involving entity sale hospital admission arrest mortgage payment contexts healthcare events episodes encounters sales events transactions record linkage core determining events refer entity spinebased record linkage links events time spine table record specifies entity usage package provides functions runlinkage construct spine tables link tables spine alternatively existing spine passed runlinkage perform linkage step linkage configured toml file run script users needn write julia code summariselinkagerun provides summary report results linkage run csv file comparelinkageruns provides summary comparison linkage runs csv file example demonstrate linkage configuration execution using example test suite example population people entities using various health services usage event tables row describes usage health service eventbased tables row specifies event refers entity note linkage spine tables hospitaladmissions describes admissions various hospitals emergencypresentations describes presentations emergency departments various hospitals influenzacases contains reports influenza required notified central health department schema tables found testschema directory row tables contains personally identifiable information names birth dates person entity event refers identified row contains information uniquely identify event hospital id presentation time stamp contain event data reason emergency common practice data linkage whereby information required linkage required analysis separated handled people preserve anonymity goal link tables question influenza emergency department hospitalised common reasons repeated emergency presentations people utilise multiple hospitals underlying configuration consider following linkage configuration file linkallhealthserviceeventstoml testconfig directory projectname healthserviceusage description construct spine health service usage tables link tables spine outputdirectory output testing expands pathspinebasedrecordlinkagejltestoutput spine datafile schemafile schemaspinetoml appendtospine true constructentityidfrom firstname lastname birthdate tables tablename hospitaladmissions datafile datahospitaladmissionscsv schemafile schemahospitaladmissionstoml tablename emergencypresentations datafile dataemergencypresentationscsv schemafile schemaemergencypresentationstoml tablename influenzacases datafile datainfluenzacasescsv schemafile schemainfluenzacasestoml criteria tablename hospitaladmissions exactmatch firstname firstname lastname lastname birthdate birthdate criteria tablename emergencypresentations exactmatch firstname firstname lastname lastname birthdate birthdate criteria tablename emergencypresentations exactmatch birthdate birthdate approxmatch datacolumn firstname spinecolumn firstname distancemetric levenshtein threshold datacolumn lastname spinecolumn lastname distancemetric levenshtein threshold criteria tablename influenzacases exactmatch firstname firstname middlename middlename lastname lastname birthdate birthdate criteria tablename influenzacases exactmatch firstname firstname lastname lastname birthdate birthdate criteria tablename influenzacases exactmatch firstname firstname birthdate birthdate approxmatch datacolumn lastname spinecolumn lastname distancemetric levenshtein threshold criteria tablename influenzacases exactmatch lastname lastname birthdate birthdate approxmatch datacolumn firstname spinecolumn firstname distancemetric levenshtein threshold configuration contains projectname enables linkage output easily identified linkage description describe purpose linkage output linkage run contained directory form outputdirectorylinkageprojectnametimestamp schema spine specified pathspineschematoml file specifies columns data types etc spine testschema directory schematajl examples write schema file path contains spine preexisting data spine exist set spine datafile value constructing spine scratch appending rows existing spine example updated data set appendtospine true appendtospine true records input tables link existing row spine appended spine linked otherwise records left unlinked appendtospine true constructentityidfrom required list columns construct entityid column entityid hash columns specifications tables table names arbitrary locations table data file schema file specified spine list linkage criteria list processed sequence multiple sets criteria compared table specified example match name birth date fails try matching name address element list set criteria set criteria rows specified table iterated criteria checked row criteria satisifed linked row spine example st iteration loop rows hospital admissions table row linked row spine values firstname lastname birthdate row exactly match values firstname lastname birthdate respectively spine row spine row exists row appended spine linked appendtospine set true scenario equvialent sql join require hospital admissions table fit memory rows hospital admissions table link spine row person admitted times row link row spine hospital admission refers exactly person nd iteration similar links emergency presentations table instead rd iteration requires birth date match exactly allows imprecision name name specifically iteration match row emergency presentations row spine rows match exactly birth date levenshtein distance notes names rows ditto names notes approximate matches approximate matching relies edit distances measure strings package edit distances scaled denotes exact match difference denotes complete difference distance missing value value missing defined complete difference levenshtein distance example example edit distance example levenshteinrobert robert levenshteinrobert rob levenshteinrobert bob levenshteinrob bob levenshteinrob tim levenshteinrob missing edit distance measures available stringdistancesjl possibilities approximate matching criteria specified rows spine satisfy criteria data row matching spine row selected match data row match spine row lowest total distance data row notes exact matches notion distance introduced implies pair values match exactly distance example levenshteinvalue value similalrly missing value exact match distance value example levenshteinvalue missing approximate matching criteria specified record linked spine exactly candidate match spine run linkage schemata linkage configuration set run following script command line linux mac julia pathspinebasedrecordlinkagejlscriptsrunlinkagejl pathlinkallhealthserviceeventstoml re windows run powershell ps julia path pinebasedrecordlinkagejl cripts unlinkagejl path inkallhealthserviceeventstoml alternatively run following code julia repl using spinebasedrecordlinkage runlinkage pathlinkallhealthserviceeventstoml inspect results results runlinkage structured follows directory created contain output name form outputdirectorylinkageprojectnametimestamp directory contains input output directories input directory contains copy config file file containing versions julia package data tables copied input directory time ditto spine exists prior linkage run output directory contains information inspect linkage results construct linked content data contains following files spinetsv file containing columns specified spine schema schema include entityid primary key data type uint linkstsv table links events entities columns tablename eventid entityid criteriaid links table joins spine entityid relationship row criteriaid specifies set linkage criteria satisfied enable link criteriatsv table row specifies linkage criterion joins links table criteriaid relationship input table file containing table primary key eventid column row eventid constructed hash table name concatenated row primary key tables join links table eventid relatinship tables joins corresponding table containing deidentified data via primary key deidentified data needn updated time linkage run performed output linkage run joins deidentified data links events entities note requires links primary key eventid tables identifiable information spine needn exposed analysing deidentified data summarise results answer questions links links remained unchanged run links broken intact satisfying criteria records remain unlinked ones quick summary linkage run summariselinkagerun function arguments directory directory contains results linkage run outputdirectorylinkageprojectnametimestamp outfile path csv tsv file contains report linuxmac report stored linkagereporttsv julia pathspinebasedrecordlinkagejlscriptssummariselinkagerunjl outputdirectorylinkageprojectnametimestamp linkagereporttsv windows powershell ps julia path pinebasedrecordlinkagejl cripts ummariselinkagerunjl outputdirectory inkageprojectnametimestamp linkagereporttsv julia repl using spinebasedrecordlinkage summariselinkagerun outputdirectorylinkageprojectnametimestamp linkagereporttsv compare results linkage runs comparelinkageruns function arguments directory directory contains results linkage run typically earlier run directory directory contains results linkage run outfile path csv tsv file contains report linuxmac report stored linkagecomparisontsv julia pathspinebasedrecordlinkagejlscriptssummariselinkagerunjl directory directory linkagecomparisontsv windows powershell ps julia path pinebasedrecordlinkagejl cripts ummariselinkagerunjl directory directory linkagecomparisontsv julia repl using spinebasedrecordlinkage summariselinkagerun directory directory linkagecomparisontsv tips users using preexisting spine commaseparated values csv tabseparated values tsv fine commas common data tabs tsv usually safer csv foolproof spine currently required fit memory tables linked spine arbitrarily example package tested files million records commodity machine gb ram performance package compares string values data formatted correctly linkage spine construction spine example dates common format tables invalid values removed etc using schematajl package strongly recommended purpose easy reuse schema files spine construction linkage specifying project name config easily recognisable data table lastupdated column exists include primary key governance versioning input tables responsibility user scope linkage engine users ensure spine data linkage run preserved changes otherwise linkage run reproduc