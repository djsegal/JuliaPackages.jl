experienceanalysis calculate exposures quickstart using experienceanalysis using dataframes using dates df dataframe policyid issuedate date date date terminationdate date date status claim lapse inforce df policyyear exposure experienceanalysis anniversary df issuedate df terminationdate df status claim continued exposure studystart date studyend date df flatten df policyyear df exposurefraction map yearfrac day daycounts thirty df policyyear day daycounts date date exposure interval date add day correct exposure fraction policyid issuedate terminationdate status policyyear exposurefraction claim date date policytimestep claim date date policytimestep claim date date policytimestep lapse date date policytimestep lapse date date policytimestep lapse date date policytimestep inforce date date policytimestep inforce date date policytimestep inforce date date policytimestep inforce date date policytimestep discussion questions ideas questions feel free issue discuss community zulip slack actuary channel welcome actuarial related disciplines references experience study calculations society actuaries related packages actxps package api exposure function following type signature anniversary exposures function exposure anniversary date uniondate continuedexposure bool false studystart uniondate studyend date leftpartials bool false rightpartials bool true vectornamedtuple policytimesteptupledatedateint exposure basis anniversary experienceanalysisanniversarydateperiod exposures periods based date exposure intervals fall annniversaries startdate dateperiod dateperiod dateperiod type dates standard library exposure experienceanalysis anniversary basis date date studystart date studyend date returns element vectornamedtuple policytimestep tupledate date int date date policytimestep date date policytimestep date date policytimestep calendar experienceanalysiscalendardateperiod follow calendar periods month quarterly exposures created month months divide exposure experienceanalysis calendar basis date date studystart date studyend date returns element vectornamedtuple tupledate date date date date date date date anniversarycalendar experienceanalysisanniversarycalendardateperioddateperiod split calendar policy anniversary period ensure exposure interval entirely falls single calendar exposure experienceanalysis anniversarycalendar basis date date studystart date studyend date returns element vectornamedtuple policytimestep tupledate date int date date policytimestep date date policytimestep date date policytimestep date date policytimestep date date policytimestep studystart studyend date policy issued date policy terminated policy force studystart start study period study period unbounded left studyend study period studyend required date types studystart date continuedexposure lapse study lapsed policies exposure policy lapse accomplished setting continuedexposure true continuedexposure keyword argument support broadcasting continued exposure extend beyond study exposure experienceanalysis anniversarycalendar basis date date true continuedexposure studystart date studyend date returns element vectornamedtuple policytimestep tupledate date int date date policytimestep date date policytimestep date date policytimestep date date policytimestep date date policytimestep date date policytimestep continued exposure leftpartials rightpartials assumptions lapse rates uneven distributions policy look policy accomplished setting leftpartials false rightpartials false default partial exposures beginning study period exposure experienceanalysis anniversary basis date date studystart date studyend date returns element vectornamedtuple policytimestep tupledate date int date date policytimestep date date policytimestep date date policytimestep remove partial exposures setting leftpartials false rightpartials false exposure experienceanalysis anniversary basis date date studystart date studyend date leftpartials false rightpartials false returns element vectornamedtuple policytimestep tupledate date int date date policytimestep calendar basis leftpartials rightpartials effect achieved setting studystart studyend