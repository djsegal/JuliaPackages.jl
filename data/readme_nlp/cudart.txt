cudart note packag activ develop pleas cudadrv instead build status code coverag packag wrap cuda runtim api wrapper driver api cudadrv cudadrv prefer program gpu julia cudart requir runtim api platform support test linux osx window window visual studio support instal nvidia gpu devic comput avail comput graphic card cuda librari instal perform step manual choos bit bit version match julia instal instal julia packag use pkg add cudart instal compil coupl file dep directori file provid util function function packag build step fail tri fix run pkg build cudart manual instal probabl idea run test runtest script system pkg test cudart error check cuda instal exampl examin ptx file dep test look file appropri comput bit compil bit usag start say use cudart import cudart prefer qualifi modul name instal import cudadrv packag provid function launch kernel gpu initi gpus initi comput freed complex process due interact julia garbag collect cuda array object alloc session usabl close devic session fortun cudart process transpar user shouldn easiest ensur function proper cleanup resourc use block syntax result devic dev true devlist code gpu comput argument devic function accept integ input integ repres cuda devic start return true fals indic devic respect dev true mean devic devlist variabl defin insid block vector int avail devic devic suffici capabl construct result devic dev capabl dev devlist code gpu comput select devic major capabl queri properti devic devic properti attribut function list field restrict comput devic leav devic user nmax keyword result devic func nmax devlist code gpu comput final request devic busi task use result devic func status free devlist code gpu comput wait specif devic avail wait free devlist block syntax initi devic load util function defin dep onto gpu ensur proper free memori unload code block finish initi util manual call cudart init devlist cudart close devlist devlist integ devic list handi troubl unfortun syntax usual result ideal backtrac doesn requir util function manual manag devic devic dev code gpu comput devic reset dev dev integ devic choos queri activ devic code command devic dev make dev activ devic exampl command alloc devic memori execut whichev devic current activ call dev devic return current activ devic array devic array cudart support main type devic array cudaarray cudapitchedarray correspond contigu memori block pitch pointer respect declar uniniti array devic cudaarray float cudapitchedarray int convent remind array alloc devic copi host array devic cudaarray cudapitchedarray copi copi copi devic array host host copi typic julia function size ndim reinterpret eltyp fill etc cuda array type noteworthi omiss direct index cuda array fail support host devic memori transfer relat slow don write code host make individu element devic array inspect valu devic array host copi host memori devic store array use dev devic host array array type hostarray alloc cuda librari use pin memori hostarray float circumst use hostarray improv speed memori transfer allow asynchron oper use stream warn use hostarray conjunct memori map file observ caus segfault time workaround modul custom kernel teach cuda program pleas refer cuda document onlin sourc exampl file dep compil modul write custom kernel write file compil ptx modul linux compil look nvcc ptx specifi code compil comput capabl devic use nvcc ptx gencod arch comput code write code support multipl datatyp float float recommend write code use templat extern instanti bind datatyp exampl templat typenam devic void kernel function data code goe templat typenam typenam devic void kernel function data data code goe extern void global kernel function float float data kernel function data void global kernel function doubl doubl data kernel function data void global kernel function int float int data float data kernel function data data initi free ptx modul easili kernel avail recommend approach defin analog follow ptx modul exampl kernel describ previous section modul mycudamodul import cudadrv cumodul cumodulefil cufunct cudacal use cudart export function const ptxdict dict const mdlist array cumodul function mdinit devlist global ptxdict global mdlist isempti mdlist error mdlist empti dev devlist devic dev cumodulefil mycudamodul ptx ptxdict dev function float cufunct kernel function float ptxdict dev function float cufunct kernel function doubl ptxdict dev function int float cufunct kernel function int float push mdlist mdclose empti mdlist empti ptxdict function init function devlist local ret mdinit devlist tri ret devlist final mdclose ret function function data cudaarray dev devic data cufunct ptxdict dev function set grid block cudacal cufunct grid block ptr data mycudamodul usag look follow use cudart mycudamodul rand result devic dev capabl dev devlist mycudamodul init devlist dev devic dev function cudaarray grid block dimens written stream stream manag synchron comput cpu gpu use multipl cuda devic use julia sync async macro short demonstr activ process multipl devic measur sleep time cudart devic dev true nmax devlist sleeptim result array float length devlist stream devic dev stream dev devlist forc run precompil cudasleep sleeptim dev devlist stream stream wait stream nextidx idx idx sync begin idev length devlist async begin true idx nextidx idx length result break tstart time dev devlist idev stream stream idev cudasleep sleeptim dev dev stream stream wait stream tstop time result idx tstop tstart result realist version demonstr feed collect result cuda devic use singl julia process organ effort random note note memori julia convent matric store column major wherea cuda row major effici wrapper avoid reorder memori linear sequenc address main memori gpu usag probabl purpos linear algebra effect mean store transpos matric gpu todo creat cudamatrix cudapitchedmatrix type automat transpos copi main gpu memori use cubla note size cudaarray cudapitchedarray repres size correspond main memori object array dimens report julia chang copi main gpu memori