functionalstatemachinejl build machine julia based functions stepping visualization tools video animation example click vimeo image link fsm generated video animation six concurrent machines incrementalinferencejl installation optional system dependencies visualization tools require system install graphviz ubuntudebian linux equivalent sudo apt install graphviz install julia package julia add package julia v pkg add functionalstatemachine example basic using functionalstatemachine user functions function bar usrdata println bar return functionalstatemachine exitstatemachine function foo usrdata println foo return bar user data struct defined pass statemachine statemachine foo statemachine verbose true maybe limit steps statemachine statemachine foo statemachine iterlimit watchdog timeout sometimes useful fsm process exit intended throwing error timeout watchdog timer fsm base interruptexception method stopping task expires timeoutreal note functionality included default preserve memory footprint timeout feature simply call machine timeout duration userdata user data type timeout statemachine userdata timeout verbose true recording verbose output file experience shown machine stuck useful write verbose steps file bare minimum guide system failing passing iostream handle verbosefid fid tmpverbosefsmlog statemachine userdata verbose true verbosefid fid close fid particular structure chosen async multithreaded fsm write common fid allow user flushfid closefid regardless fsm stalled boilerplateesque easier developers snuff bugs highly complicted interdependent multithreaded multimachine architectures user data history passing data structure mutable struct exampleuserdata vectorfloat maybe record machine history statemachine statemachine exampleuserdata foo eud exampleuserdata randn statemachine eud recordhistory true recover recorded transition history vectortupledatetimeintfunction hist statemachine history maybe rerun step data time overwrite previous memory neweudat sandboxstatemachinestep hist draw pictures graphviz add graphs dependency installed using graphs run machine statemachine statemachine exampleuserdata foo eud exampleuserdata randn statemachine eud recordhistory true draw machine hist statemachine history drawstatemachinehistory hist true multiple machines visualized using graphs functionalstatemachine start multiple concurrent fsms interdependent statemachine statemachine foo statemachine recordhistory true add histories histsdict follows ths example userdata type hists dict symbolvectortupledatetimeintfunction statemachine history generate images video animatestatemachinehistoryintervalcompound hists interval convert images video ffmpeg shell command fps run ffmpeg tmpcaesarcsmcompoundcsmpng libtheora vf fpsfps pixfmt yuvp vf scaletrunciwtruncih tmpcaesarcsmcompoundogv async run totem tmpcaesarcsmcompoundogv combine multiple concurrent histories machine execution image frames function details lower level visualization tools animate asyncronous machine transitions following example function machines run asyncronously synchronously animated separate frames single frame multiple information using dates docstringextensions signatures draw images tmpcsmpng representing time synchronized machine events notes history previously recorded function animatestatemachines histories vectortuple frames int startt dates stopt dates start stop times cliques true hist somestatemachinehistory hist histories hist startt startt hist stopt hist stopt hist stopt hist export figures folders string count hist histories count retval animatestatemachinehistorybytime hist frames frames folder sm count title sm count startt startt stopt stopt push folders sm count return folders animate time via png images tmp animatecliqstatemachines hist hist frames example result images hist hist machine history note timestamps synchronize animations images concurrent traversals easily video openshot ffmpeg style tools previous linear time multifsm animation closely related function animatestatemachinehistorybytime contribute contributions issues welcom