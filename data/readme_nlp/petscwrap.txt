petscwrap petscwrap parallel julia wrapper awesom petsc librari consid fork gridappetsc petsc project project extens inspir project code direct copi main differ aforment project parallel support solv linear system multipl core mpirun julia foo depend julia packag except mpi possibl switch petsc arch petsc api function wrapper note primari object project enabl wrapper slepc librari slepcwrap project instal instal petsc librari comput set follow environ variabl petsc dir petsc arch run time petscwrap look use environ variabl load librari instal packag julia packag manag pkg add petscwrap contribut contribut remark welcom function wrap don capabl contribut post issu minimum exampl petsc compat version petscwrap test petsc complex support petsc method wrapper share name equival instanc matcreat matsetvalu furthermor option level api refer fanci expos instanc creat matrix note manipul petsc evolv accord packag author tri follow petsc offici api exampl build document julia petscwrap doc exampl demo exampl serv test project doesn test procedur exampl equat solv domain use backward finit differ scheme exampl petsc classic method name fanci name check fanci version note achiev document high improv purpos exampl demonstr method call overview run exampl execut mpirun favorit posit integ julia exampl import packag use petscwrap initi petsc command line argument pass julia pars petsc altern provid command line argument defin string instanc petsciniti ksp monitor short ksp gmres cgs refin type refin provid argument separ string petsciniti ksp monitor short ksp gmres cgs refin type refin petsciniti mesh mesh step creat matrix vector matcreat veccreat set size object leav petsc decid distribut note set prealloc zero increas perform matsets petsc decid petsc decid vecsets petsc decid command line option set matrix vector matsetfromopt vecsetfromopt finish set matsetup vecsetup build hand vector rang row handl local processor petsc rstart rend getownershiprang method indic row handl local processor start row rend disturb regular petsc user checkout fanci version exampl julia convent start vecgetownershiprang build hand vector various loc vecgetlocals note loc start vecsetvalu collect start one loc differenti matrix rembemb petsc matsetvalu simpli ignor negat row indic start matgetownershiprang start matsetvalu insert valu matsetvalu insert valu set boundari condit proc handl index act start vecsetvalu assembl matric matassemblybegin mat final assembl vecassemblybegin matassemblyend mat final assembl vecassemblyend inspect use viewer stdout default simpli call matview vecview set linear solver ksp kspcreat kspsetoper ksp kspsetfromopt ksp kspsetup ksp solv system alloc solut use vecdupl method vecdupl kspsolv ksp print solut vecview access solut develop get julia array restor array ref vecgetarray array array vecrestorearray ref free memori matdestroy vecdestroy vecdestroy final petsc petscfin