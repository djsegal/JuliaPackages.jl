petscwrapjl petscwrapjl parallel julia wrapper awesome petsc library considered fork gridappetscjl petscjl projects projects extensively inspired project code directly copied note primary objective project enable wrapper slepc library slepcwrapjl project project wrapper petsc functions purpose deliver julia array maybe day purpose package petscarraysjl install install package julia package manager pkg add petscwrap petsc installed machine installed julia package manager alternatively petsc installation petscwrapjl select install designated petscdir petscarch environment variables time modify petsc install wrapper type pkg build petscwrap contribute contribution remark welcome function wrapped capable contributing post issue minimum example conventions applied future versions fancy stuff concerned petsc types exact name julia petsc functions exact name julia type prefix lower letter vecsetvalues setvalues rule applied name conflicts name base instance vecview vecview view petsc functions arguments names julia except arguments functions arguments typed additional functions type fewer args defined original version petsc compat version petscwrapjl tested petsc complex supported petsc methods wrappers share name equivalent type instance matsetvalues setvalues furthermore optional level api referred fancy exposed instance creatematrix note manipulating petsc evolve according package author try follow petsc official api examples building documentation julia petscwrapjldocsjl examples demo example serves test project testing procedure example equation solved domain using backward finite difference scheme example petsc classic method names fancy names check fancy version note achieve document highly improved purpose example demonstrate method calls overview run example execute mpirun yourfavoritepositiveinteger julia examplejl import package using petscwrap initialize petsc command line arguments passed julia parsed petsc alternatively provide command line arguments defining string instance petscinitializekspmonitorshort kspgmrescgsrefinementtype refinealways providing argument separate strings petscinitializekspmonitorshort kspgmrescgsrefinementtype refinealways petscinitialize mesh mesh step x create matrix vector specify mpi communicator create mat create vec set size objects leaving petsc decide distribute note set preallocated zeros increase performance setsizes petscdecide petscdecide setsizes petscdecide commandline options set matrixvectors setfromoptions setfromoptions finish set setup setup build hand vector range rows handled local processor petsc rstart rend getownershiprange methods indicate row handled local processor starting row rend disturbing regular petsc users checkout fancy version example julia convention bstart bend getownershiprange build hand vector various nloc getlocalsize note nloc bend bstart setvalues collect bstart bend ones nloc differentiation matrix rembember petscmatsetvalues simply ignores negatives rows indices astart aend getownershiprange astart aend setvalues x insertvalues setvalues insertvalues set boundary condition proc handling index acting bstart setvalue assemble matrices assemblybegin matfinalassembly assemblybegin assemblyend matfinalassembly assemblyend inspect using viewer stdout default simply call matview vecview set linear solver ksp create ksp setoperators ksp setfromoptions ksp setup ksp solve system allocate solution using vecduplicate method duplicate solve ksp print solution vecview access solution development getting julia array restore array ref getarray array array restorearray ref free memory note call faculative default julia gc trigger call petsc destroy object destroy ksp finalize petsc call faculative triggered automatically script petscfin