ptool collect util parallel comput julia current follow avail workerset abil logic pool set worker specif task pfork parallel use unix fork system call servertask run task simpli process incom request loop use situat maintain function call maintain retriev use task local storag method sharedmemori use event parallel proces singl multi core machin avoid overhead associ send reciev data set queuedtask schedul task execut remot worker process set chang prioriti task control execut platform test ubuntu osx sharedmemori window servertask pfork unix implement workerset workerset array process id workerset creat use workerset array integ mode mode mode mode mode enabl worker round robin fashion mode track worker busi send request free queue request worker set busi remotecal function extend support workerset remotecal workerset arg remotecal fetch workerset arg remotecal wait workerset arg behaviour except function execut process belong workerset follow model specifi mode pfork unix fork system call execut function parallel pfork nfork integ function arg fork nfork time execut child paramet fork child index pfork return array size nfork nth element valu return nth fork child pass huge amount data function child process issu fork event parent process share memori segment children visibl modifi segment don bother return huge amount data current execut nproc model incompat worker model unpredict behavior function execut fork children call yield task concurr activ comput bound usag server task typic usag pattern start stask start server task option share memori map execut seri function parallel task use multipl invoc pmap stask somefunct someotherfunct someotherfunct stop stask stop server task free share memori requir user specifi function pmap stask store retriev inform use task local storag function exampl share memori server task understand avail exampl specifi share memori configur use ptool shmcfg shmcfg svar int shmcfg svar uint line request int array bound svar uint array bound svar start task start stask shmcfg ntask count stask task start symbol share memori segment ad task local storag handl return share memori segment map current task local storag note nproc worker julia process start server task nproc ntask prepar argument pmap call offset list ntask ntask list ntask ntask execut function parallel resp pmap stask offset ntask begin local refernc share memori map array svar task local storag svar svar task local storag svar mypid myid offset ntask svar mypid true offset list ntask list access share memori segment view chang svar task local storag svar println svar svar valu updat server task final stop task stop stask shmcfg caus task stop share memori unmap export function servertask start stask shmcfg fals shmpfx fals shmcfg option paramet shmcfg name symbol type dim array shmcfg return handl set servertask pmap stask stask function lsts similar pmap except paramet handl return start task note length lsts servertask ident stop stask stask shmcfg fals shmpfx fals stop task free share memori count stask stask return servertask partit comput job note shmpfx set distinct string share server user multipl self concurr job activ export function share memori support pmap shm creat shmcfg shmpfx creat map share memori segment global symbol julia process shmcfg shmcfg name symbol type dim array shmcfg unlink shm shmcfg shmpfx free share memori note singl run shmpfx pass valu method linux view share memori map dev shm event abnorm program termin unlink shm call manual delet segment alloc program name segment form dev julia shmpfx symbol name