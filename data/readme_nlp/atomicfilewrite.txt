atomicfilewrit write file atom tini packag provid singl funtion atom write path backup overwrit backup fals atom write file appli iostream temporari file move path write commit path complet error otherwis file path left untouch backup keyword specifi backup filenam contain origin content path complet success doesn support append overwrit thread safe backup keyword backup creat copi intend atom run singl thread exampl use atomicfilewrit filenam tmp txt print origin content filenam tri atom write filenam print error oop print content catch showerror stderr catch backtrac origin content intact error assert read filenam string origin content backup filenam bak atom write print content filenam backup backup overwrit backup true assert read filenam string content assert read backup string origin content