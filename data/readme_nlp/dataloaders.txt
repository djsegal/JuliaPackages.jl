dataload parallel iter machin learn dataset don fit memori inspir pytorch dataload class threadpool process batch parallel keep primari thread free util learnbas data access pattern data contain box custom contain easili support implement learnbas getob learnbas nob usag option dataload dataset batchsiz kwarg argument dataset data contain support learnbas data access pattern batchsiz integ sampl batch keyword argument shuffl bool true shuffl observ iter numwork integ max thread nthread worker spawn load data parallel primari thread kept free transformfn function appli individu sampl batch collatefn function collat multipl sampl batch default behavior collat droplast bool fals drop batch nob dataset divis batchsiz true ensur batch size sampl drop simpl exampl dataset dataload dataload dataset numwork batch dataload stuff note dataset fit memori toy exampl don parallel worker custom data contain exampl use imag load import learnbas getob nob custom data contain struct imagedataset file abstractvector abstractstr implement learnbas interfac getob imagedataset idx integ load file idx nob imagedataset length file custom contain dataset imagedataset imag jpg imag jpg dataload dataload dataset shuffl true batch dataload stuff note multipl worker default behavior set julia num thread environ variabl start session