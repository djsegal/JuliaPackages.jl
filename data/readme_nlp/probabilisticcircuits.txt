probabilisticcircuit packag provid function learn construct probabilist circuit use comput various probabilist queri juic packag julia circuit empanada exampl usag assum probabilisticcircuit julia packag instal julia use pkg pkg add probabilisticcircuit start use follow use probabilisticcircuit reason manual construct circuit begin creat posit liter boolean variabl manual construct probabilist circuit encod naiv bay distribut follow form rain rainbow wet rain rainbow rain wet rain rain rainbow wet pos liter probcircuit rain pos rainbow rainbow wet wet rainbow rain wet rain rain neg rainbow rainbow wet wet rainbow rain wet rain circuit rain rain pos rain rain neg rain rainbow wet probabl distribut evalu probabilist circuit various input note log probabl probabilist circuit numer stabil expon evalu output probabl exp circuit true true true rain rainbow wet exp circuit true fals fals rain rainbow wet exampl rain rainbow street wet purpos packag offer unifi tool effici learn infer answer probabilist queri margin map probabilist circuit subsum class tractabl probabilist model manual construct circuit demonstr queri answer effici similar logic circuit answer follow queri requir decompos determin satisfi construct isdecompos circuit isdeterminist circuit true decompos allow comput margin probabl partial evid effici linear time circuit size exampl probabl observ rainbow margin variabl rain wet evalu circuit partial evid exp circuit miss true miss rainbow abl comput margin immedi offer abil comput condit probabl exampl comput probabl rain rainbow wet simpli quotient rain rainbow wet rainbow wet exp circuit true true true circuit miss true true rain rainbow wet addit suppli structur properti determin answer advanc queri exampl comput maximum posteriori map queri distribut assign log prob map circuit miss miss miss print map assign circuit rain assign rainbow assign wet assign probabl exp log prob map assign circuit rain fals rainbow fals wet fals probabl besid exampl probabilisticcircuit provid function wide varieti queri detail manual build complex circuit structur probabilisticcircuit provid tool compil classic probabilist graphic model pgms tractabl probabilist model tpms probabilist circuit effici exampl compil factor graph probabilist circuit line code fromuai zoo file asia uai load exampl factor graph circuit probcircuit compil factor graph compil print circuit contain num edg circuit edg num paramet circuit paramet circuit contain edg paramet learn probabilist circuit data probabilisticcircuit offer various paramet learn structur learn algorithm support mini batch learn cpus gpus make learn model dataset effici binar mnist dataset demonstr exampl probabilist circuit learn function train data valid data test data twenti dataset binar mnist start learn paramet decompos determinist probabilist circuit load structur circuit file circuit zoo psdd mnist psdd print load circuit contain num edg circuit edg num paramet circuit paramet load circuit contain edg paramet print structur properti circuit decompos isdecompos circuit determin isdeterminist circuit structur properti circuit decompos true determin true circuit decompos determinist maximum likelihood estim mle paramet close form learn mle paramet determinist elaps estim paramet circuit train data pseudocount print learn paramet cpu learn paramet cpu option gpus speedup learn process elaps estim paramet circuit train data pseudocount gpu true print learn paramet gpu learn paramet gpu note insignific speedup due circuit gpu circuit speedup learn process evalu model valid test dataset averag log likelihood sampl metric util gpus effici avg log likelihood avg circuit test data print averag test data log likelihood avg averag test data log likelihood besid estim paramet probabilisticcircuit offer iter paramet learn algorithm expect maxim estim paramet stochast gradient descent sgd sgd paramet learn probabilisticcircuit offer function learn circuit structur paramet simultan exampl strudel structur learn algorithm implement nativ packag line code circuit strudel learn circuit train data maxit verbos fals avg log likelihood avg circuit strudel test data print learn circuit contain num edg circuit edg num paramet circuit paramet print averag test data log likelihood avg learn circuit contain edg paramet averag test data log likelihood test correct run test suit follow time run test trigger slow download various test resourc julia color use pkg pkg test probabilisticcircuit