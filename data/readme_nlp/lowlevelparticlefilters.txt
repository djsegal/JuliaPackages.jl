lowlevelparticlefilt readm auto generat file src exampl lineargaussian use liter type provid filter type particlefilt filter simpl assum dynam nois measur nois addit auxiliaryparticlefilt filter ident particlefilt slight propos mechan particl advancedparticlefilt filter flexibl expens defin function instruct type kalmanfilt expect featur particl filter restrict linear dynam gaussian nois unscentedkalmanfilt expect featur kalman filter handl nonlinear dynam measur model requir addit gaussian nois model function filter smooth paramet estim use pmmh particl margin metropoli hast usag exampl exampl demostr set filter simpl linear system particl filter defin particl filter straightforward defin distribut nois dynam function dynam nois distribut measur function measur distribut initi provid exampl linear gaussian system use lowlevelparticlefilt linearalgebra staticarray distribut plot defin dimens dimens input dimens measur particl const mvnormal measur nois distribut const mvnormal dynam nois distribut const mvnormal randn initi distribut defin random linear space system randn const smatrix diagm linrang const smatrix randn const smatrix randn follow function requir filter dynam measur vecvec mat copi reduc hcat helper function readi defin filter particlefilt dynam measur simul simul model repres perform filter step use input measur particl queri filter particl tri weight expweight weigth mean use current perform filter use vector input measur tri function forward trajectori filter vector signal mean trajectori trajectorydens xreal montecarlomeasur load transform output particl matrix montecarlomeasur particl layout use particl intern particl resampl unit weight conventi plot facil montecarlomeasur usag exampl benchmark section exampl lineargaussian smooth provid particl smoother base forward filter backward simul ffbs particl time step smooth backward trajectori particlefilt dynam measur mvnormal control input distribut simul simul trajectori use model filter tosvec reinterpret svector length float reduc hcat copi tosvec smooth sampl smoot particl xbm smooth mean calcul mean smooth trajectori xbc smooth cov covari xbt smooth traj smooth trajectori xbs diag xbc xbc xbc vecvec mat sqrt plot xbm ribbon xbs lab smooth plot vecvec mat dash lab true plot particl plot vecvec mat layout fals scatter xbt subplot fals black lab scatter xbt subplot black lab kalman filter kalman filter easili creat use constructor function defin particl filter defin kalman filter eye matrix float kalmanfilt eye eye mvnormal ukf unscentedkalmanfilt dynam measur eye eye mvnormal forward trajectori filter predict pred cov filter cov loglik lls smooth smooth smooth cov loglik call loop perform correct predict altern correct return loglik covari predict troubleshoot tune particl filter challeng assist provid som visual tool debugplot runal true xreal backend tri pyplot time surviv effect nbr particl plot display measur heatmap background repres weight particl distribut time step measur sequenc heatmap repres distibut predict measur blue dot correspond measur valu simul data access omit xreal manual step time seri use commandplot kwarg option debug plot pplot paramet estim provid som basic function maximum likelihood estim map estim estim plot likelihood function varianc dynam nois svec exp linrang llspf map svec mvnormal pfs particlefilt dynam measur loglik pfs plot svec llspf xscale log titl log likelihood xlabel dynam nois standard deviat lab vline svec findmax llspf dash blue primari fals kalman filter eye matrix float llskf map svec kfs kalmanfilt eye eye loglik kfs plot svec llskf yscale ident xscale log lab kalman red vline svec findmax llskf dash red primari fals result noisi due stochast natur particl filter smooth use kalmanfilt eye eye mvnormal forward trajectori filter predict pred cov filter cov loglik lls smooth smooth smooth cov loglik plot compar plot vecvec mat lab kalman smooth layout plot xbm lab smooth plot vecvec mat lab true map estiamt solv map estim defin function take paramet vector return particl filter filter paramet particlefilt dynam measur mvnormal exp mvnormal exp call exp paramet defin log normal prior prior normal normal call function log likelihood fun return function minim log likelihood fun filter paramet prior low dimension plot grid function meshgrid grid grid grid grid linrang llxi vgx vgi meshgrid vgz llxi vgx vgi heatmap vgz xtick round digit ytick round digit xlabel sigma ylabel sigma label revers figur hottest spot expect optim log likelihood global black box method blackboxoptim standard trick appli perform paramet search log space etc bayesian infer use pmmh pretti cool proced map call function metropoli entir posterior distribut paramet vector cost massiv increas comput cost filter paramet auxiliaryparticlefilt dynam measur mvnormal exp mvnormal exp call exp paramet defin log normal prior prior normal normal log likelihood fun filter paramet prior log start defin function suggest propos distribut pretti symmetr lazi simplifi equat draw rand mvnormal one burnin info start metropoli algorithm time theta lls metropoli draw run pmmh iter take half minut laptop thetam reduc hcat theta burnin build matrix output vecofvec histogram exp thetam layout plot lls burnin subplot visual lucki run thread tri particl fitler thread safe rngs etc milag vari time thetal lowlevelparticlefilt metropoli thread burnin draw histogram exp thetal layout plot thetal subplot advancedparticlefilt advancedparticlefilt type requir implement function regular particlefilt handl sampl nois distribut function dynam method signatur provid method accept vector control vector time nois bool indic add nois nois ad insid dynam exampl function dynam nois fals default fals simpl dynam model nois rand measur likelihood function method accept measur time return log likelihood measur simpl exampl function measur likelihood logpdf simpl linear measur model normal addit nois flexibl nois model function instanc function simpl particlefilt abl simul advancedparticlefilt simpl filter measur method signatur measur nois fals avail return sampl measur possibl time exampl measur model look measur nois fals nois rand creat advancedparticlefilt filter apf advancedparticlefilt dynam measur measur likelihood forward trajectori apf trajectorydens apf xreal type auxiliaryparticlefilt apfa auxiliaryparticlefilt apf forward trajectori apfa trajectorydens apfa xreal dimensiondens apfa xreal plot singl dimens perform distribut use lowlevelparticlefilt method relat distribut defin static array logpdf etc faster provid distribut tupleproduct multivariatedistribut behav similar product distribut tupleproduct store individu distribut tupl compil time length support mix valuesupport mean product continu discret dimens somth support standard product exampl use benchmarktool lowlevelparticlefilt distribut tupleproduct normal normal binomi mix valu support benchmark svector randn product normal normal tupleproduct normal normal mvnormal btime logpdf vector alloc byte btime logpdf vector alloc byte btime logpdf vector alloc byte btime logpdf alloc byte btime logpdf alloc byte btime logpdf alloc byte load lowlevelparticlefilt time nativ distribut follow btime logpdf alloc byte btime logpdf alloc byte perform test perform vari particl simul time follow code simul system perform filter use simul measuer vari time step vari particl function run test particl count time step rmse zero length particl count length time step store rms error propag particl elaps enumer time step enumer particl count montecarlo run maximum particl count maximum time step sum montecarlo run run particlefilt dynam measur creat filter svector float randn svector float rand svector float sampl measur error inbound updat particl filter dynam svector float rand simul true dynam add nois svector float sampl measur simul measuer svector randn draw random control input error sum ab weigth mean error rmse montecarlo run propag particl montecarlo run println propag propag particl particl averag propag particl particl millisecond return rmse time rmse run test propag particl averag particl millisecond plot result time step particl count length time step leg reshap time step time step plot particl count rmse xscale log ylabel rms error xlabel particl lab leg gui