shallowwat type flexibl bit shallow water model shallow water model focus type flexibl bit format shallowwat allow float posit bfloat logfixpoint sonum float bfloat stochast round format arithmet convers implement shallowwat allow mix precis reduc precis communic shallowwat energi enstrophi conserv advect scheme smagorinski biharmon diffus oper tracer advect implement semi lagrangian advect scheme strong stabil preserv rung kutta scheme various stage semi implicit treatment continu equat boundari condit period direct period super slip free slip partial slip slip output via netcdf pleas feel free rais issu discov bug idea improv shallowwat requir julia runmodel initialis model prealloc memori start time integr option default paramet src defaultparamet type paramet help paramet search paramet creat paramet struct follow option default valu datatyp float format tprog datatyp format prognost variabl tcomm datatyp tprog format ghost copi domain resolut ratio int grid cell direct real length domain direct ratio real domain aspect ratio chang keyword argument format defin option argument runmodel julia prog run model float nday start shallowwat sun oct output integr creat paramet struct julia paramet nonperiod wind forc doubl gyre ratio julia prog run model format aka mix precis model tprog type prognost variabl tcomm communic boundari valu doubl gyre exampl exampl run doubl gyre simul julia use shallowwat julia run model nday ratio nonperiod wind forc doubl gyre topographi seamount start shallowwat sat aug output integr sea surfac height visualis via julia use pyplot julia pcolormesh calcul speed current julia speed sqrt veloc compon arakawa grid add interpol export shallowwat chop edg array size julia pcolormesh speed current strongest eddi expect quasi geostroph setup featur interpol initi condit low resolut resolut run output relat vortic potenti vortic tendenc deta pretti accur durat estim run ensembl mode conflict output file run cfl strong stabil preserv rung kutta method solv tracer advect come basic cost thank semi lagrangian advect scheme output gradient oper interpol easier post process instal shallowwat regist packag simpli julia add shallowwat refer shallowwat describ detail wer ben palmer format error mitig scope bit arithmet weather climat model analys shallow water model journal advanc model earth system doi wer ben palmer posit altern float weather climat model proceed confer generat arithmet doi equat linear shallow water model plus tracer equat ref prognost variabl veloc sea surfac heigth layer thick corioli paramet beta plane approxim graviat acceler bottom friction quadrat drag coeffici linear invers time scale diffus realiz biharmon diffus oper constant viscos coeffici smagorinski coeffici scale smag deform rate wind forc constant time vari space linear shallow water model equival ref shallowwat discretis equat equi distant arakawa grid finit differ oper boundari condit implement via ghost copi variabl halo variabl size account stencil size various oper