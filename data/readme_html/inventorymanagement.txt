<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-inventorymanagementjl" class="anchor" aria-hidden="true" href="#inventorymanagementjl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>InventoryManagement.jl:</h1>
<p dir="auto"><em>Discrete-time simulation environment for Inventory Management in Supply Chain Networks.</em></p>
<p dir="auto"><a href="https://zenodo.org/badge/latestdoi/357413023" rel="nofollow"><img src="https://camo.githubusercontent.com/88159917964f2f888edf3c0da688806dd72f222694891502316166bfd225d855/68747470733a2f2f7a656e6f646f2e6f72672f62616467652f3335373431333032332e737667" alt="DOI" data-canonical-src="https://zenodo.org/badge/357413023.svg" style="max-width: 100%;"></a>
<a href="https://hdavid16.github.io/InventoryManagement.jl/dev/" rel="nofollow"><img src="https://camo.githubusercontent.com/56f8252ba8e9d3f0b810769543f77823d2fe031ce560d4c2d69fb1fcad800383/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6c61746573742d626c75652e737667" alt="Docs" data-canonical-src="https://img.shields.io/badge/docs-latest-blue.svg" style="max-width: 100%;"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="logo.png"><img src="logo.png" alt="" style="max-width: 100%;"></a></p>
<h2 dir="auto"><a id="user-content-table-of-contents" class="anchor" aria-hidden="true" href="#table-of-contents"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Table of Contents</h2>
<ol dir="auto">
<li><a href="#overview">Overview</a></li>
<li><a href="#dependencies">Dependencies</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#sequence-of-events">Sequence of Events</a></li>
<li><a href="#inventory-replenishment-policies">Inventory replenishment policies</a></li>
<li><a href="#model-assumptions">Model Assumptions</a></li>
<li><a href="#model-limitations">Model Limitations</a></li>
<li><a href="#creating-a-supply-chain-network">Creating a Supply Chain Network</a>
<ul dir="auto">
<li><a href="#general-network-parameters">General Network Parameters</a></li>
<li><a href="#node-specific-parameters">Node-specific Parameters</a></li>
<li><a href="#arc-specific-parameters">Arc-specific Parameters</a></li>
</ul>
</li>
<li><a href="#creating-a-supply-chain-environment">Creating a Supply Chain Environment</a></li>
<li><a href="#simulation-outputs">Simulation Outputs</a></li>
<li><a href="#examples">Examples</a>
<ul dir="auto">
<li><a href="#example-1">Example #1: Deterministic 2-echelon system with material transformation and continuous review (s,S) policy</a></li>
<li><a href="#example-2">Example #2: Stochastic 2-echelon distribution system with periodic (r,Q) policy</a></li>
<li><a href="#example-3">Example #3: Stochastic 3-echelon system with material transformation and continuous review (s,S) policy</a></li>
</ul>
</li>
<li><a href="#contact">Contact</a></li>
</ol>
<h2 dir="auto"><a id="user-content-overview" class="anchor" aria-hidden="true" href="#overview"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Overview</h2>
<p dir="auto"><em>InventoryManagement.jl</em> allows modeling a multi-period multi-product supply chain network under stochastic stationary demand and stochastic lead times. A supply network can be constructed using the following types of nodes:</p>
<ul dir="auto">
<li><code>Producers</code>: Nodes where inventory transformation takes place (e.g., raw materials are converted to intermediates or finished goods). Material transformation, including reactive systems with co-products, are modeled using <a href="https://en.wikipedia.org/wiki/Bill_of_materials" rel="nofollow">Bills of Materials</a> (see <a href="#node-specific-parameters">Model Inputs section</a>).</li>
<li><code>Distributors</code>: Nodes where inventory is stored and distributed (e.g., distribution centers).</li>
<li><code>Markets</code>: Nodes where end-customers place final product orders (e.g., retailer).</li>
</ul>
<p dir="auto">These types of nodes can be used to model the following components of a supply network:</p>
<ul dir="auto">
<li><code>Manufacturing Plants</code>: Plants are modeled using a single node with self-loop. The self-loop is an arc for the node to source products from itself via production. The time elapsed between the consumption of raw materials and the production of goods (production time) is modeled with the arc lead time.</li>
<li><code>Distribution Centers</code>: DCs are modeled using <code>distributor</code> nodes.</li>
</ul>
<p dir="auto">Note: Any node can be marked as a <code>market</code> node to indicate that there is external demand for one or more materials stored at that node. This allows external demand at distribution centers or at manufacturing plants (either for raw materials or products).</p>
<p dir="auto">The simplest network that can be modeled is one with a single retailer (<code>distributor</code>) with external demand (<code>market</code>) that is supplied by a warehouse (<code>distributor</code>). However, more complex systems can be modelled as well.</p>
<p dir="auto">When defining a supply network, a <code>SupplyChainEnv</code> object is created based on system inputs and network structure. This object can then be used to simulate the inventory dynamics under a stochastic environment and a specified inventory management policy. Stochasticity is modeled in the external demand quantities at the <code>market</code> nodes and in the lead times between connected nodes in the network. However, deterministic values can also be used for external demand or lead times if desired. In each period of the simulation, a decision-maker can specify inventory replenishnment orders throughout the network (refered to as <code>actions</code>), which consist of the inventory quantities requested by each node to each immediate supplier for each material in the system. If no action is taken during the simulation, the inventory levels will eventually be depleted by the external demand. Depending on the system configuration, unfulfilled external or internal demand can be either backlogged or considered a lost sale.</p>
<p dir="auto">The <code>SupplyChainEnv</code> can also potentially be used in conjunction with <a href="https://github.com/JuliaReinforcementLearning/ReinforcementLearning.jl">ReinforcementLearning.jl</a> to train a Reinforcement Learning <code>agent</code> that places replenishment orders (<code>actions</code>) throughout the network.</p>
<p dir="auto">This package generalizes and extends and the inventory management environment available in <a href="https://github.com/hubbs5/or-gym">OR-Gym</a>.</p>
<h2 dir="auto"><a id="user-content-dependencies" class="anchor" aria-hidden="true" href="#dependencies"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Dependencies</h2>
<p dir="auto"><em>InventoryManagement.jl</em> relies primarily on the following packages:</p>
<ul dir="auto">
<li><a href="https://github.com/JuliaData/DataFrames.jl">DataFrames.jl</a>: Tabulate results.</li>
<li><a href="https://github.com/JuliaStats/Distributions.jl">Distributions.jl</a>: Define probability distributions for the lead times on the network arcs and the demand quantities at the market nodes.</li>
<li><a href="https://github.com/JuliaGraphs/Graphs.jl">Graphs.jl</a>: Define supply network topology</li>
<li><a href="https://github.com/JuliaGraphs/MetaGraphs.jl">MetaGraphs.jl</a>: Specify system parameters for each node or arc, or for the system as a whole.</li>
</ul>
<h2 dir="auto"><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<p dir="auto">The package can be installed with the Julia package manager. From the Julia REPL, type <code>]</code> to enter the <code>Pkg</code> REPL mode and run:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="pkg&gt; add InventoryManagement"><pre>pkg<span class="pl-k">&gt;</span> add InventoryManagement</pre></div>
<p dir="auto">For the master branch, run:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="pkg&gt; add https://github.com/hdavid16/InventoryManagement.jl"><pre>pkg<span class="pl-k">&gt;</span> add https<span class="pl-k">:</span><span class="pl-k">//</span>github<span class="pl-k">.</span>com<span class="pl-k">/</span>hdavid16<span class="pl-k">/</span>InventoryManagement<span class="pl-k">.</span>jl</pre></div>
<h2 dir="auto"><a id="user-content-sequence-of-events" class="anchor" aria-hidden="true" href="#sequence-of-events"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Sequence of Events</h2>
<p dir="auto">The sequence of events in each period of the simulation is patterned after that of the <a href="https://optimization.cbe.cornell.edu/index.php?title=Newsvendor_problem" rel="nofollow">News Vendor Problem</a>:</p>
<ol dir="auto">
<li>Start period.</li>
<li>Receive any incoming shipments from upstream nodes.</li>
<li>Place inventory replenishment orders at each node by traversing the supply network downstream (using <a href="https://en.wikipedia.org/wiki/Topological_sorting" rel="nofollow">topological sorting</a>).</li>
</ol>
<ul dir="auto">
<li>If <code>backlog = true</code>, the previous period's backlog is added to the replenishment order.</li>
<li>Each supplier attempts to fulfill downstream orders via its on-hand inventory. <code>Producer</code> nodes fulfill production requests via material production (if there is sufficient <code>production capacity</code> and <code>raw material inventory</code>).</li>
<li>If <code>reallocate = true</code>, then any amount that cannot be satisfied is reallocated to the next supplier in the <code>supplier priority</code> list (the lowest priority supplier will reallocate back to the highest priority supplier).</li>
<li>Accepted replenishment orders are immediately shipped with a lead time sampled from the specified distribution. For <code>distributor</code> nodes, the lead time is the in-transit (transportation) time between <code>distributor</code> nodes. For <code>producer</code> nodes, the lead time is the plant production time.</li>
<li>If the lead time is 0, the stock will be immediately available to the requesting node so that it can be used to fulfill downstream orders as they arrive (possible due to the topological sorting).</li>
</ul>
<ol start="4" dir="auto">
<li>Market (external) demand for each material occurs after tossing a weighted coin with the probability of demand occurring defined by the <code>demand_frequency</code> (likelihood of demand occuring in each period; inverse of the average number of periods between positive external demands).</li>
</ol>
<ul dir="auto">
<li>For example, if <code>demand_requency = 0.5</code>, there is a <code>50%</code> chance of having positive demand, or once every 2 days on average.</li>
</ul>
<ol start="5" dir="auto">
<li>Demand (including any backlog if <code>backlog = true</code>) is fulfilled up to available inventory at the <code>market</code> nodes. Make-to-order nodes trigger production requests.</li>
<li>Unfulfilled demand is backlogged (if <code>backlog = true</code>).</li>
<li>Accounts for each node are generated:</li>
</ol>
<ul dir="auto">
<li>Accounts payable: invoice for fulfilled replenishment orders (payable to suppliers), invoice for delivered replenishment orders (payable to third-party shipper), pipeline inventory holding cost for in-transit inventory (cost to requestor), on-hand inventory holding cost, penalties for unfulfilled demand (cost to supplier).</li>
<li>Accounts receivable: sales for internal and external demand.</li>
</ul>
<h2 dir="auto"><a id="user-content-inventory-replenishment-policies" class="anchor" aria-hidden="true" href="#inventory-replenishment-policies"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Inventory replenishment policies</h2>
<p dir="auto">At each iteration in the simulation, an <code>action</code> can be provided to the system, which consists of the replenishment orders placed on every link in the supply network. This <code>action</code> must be of type <code>Vector{Real}</code> and must be <code>nonnegative</code> of the form: <code>[Arc_1_Material_1, Arc_1_Material_2, ..., Arc_1Material_M, Arc_2_Material_1, ..., Arc_2_Material_M, ..., Arc_A_Material_1, ..., Arc_A_Material_M]</code>, where the ordering in the arcs is given by <code>edges(SupplyChainEnv.network)</code> and the ordering in the materials by <code>SupplyChainEnv.materials</code>.</p>
<p dir="auto">An <code>action</code> vector can be visualized as a <code>NamedArray</code> using <code>show_action(SupplyChainEnv, action)</code>:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="material ╲ arc │ :Arc_1  :Arc_2 ... :Arc_A
───────────────┼──────────────────────────
:Material_1    │  
:Material_2    │  
...            │
:Material_M    │  "><pre>material ╲ arc │ <span class="pl-c1">:Arc_1</span>  <span class="pl-c1">:Arc_2</span> <span class="pl-k">...</span> <span class="pl-c1">:Arc_A</span>
───────────────┼──────────────────────────
<span class="pl-c1">:Material_1</span>    │  
<span class="pl-c1">:Material_2</span>    │  
<span class="pl-k">...</span>            │
<span class="pl-c1">:Material_M</span>    │  </pre></div>
<p dir="auto">The function <code>reorder_policy</code> can be used to implement an inventory reorder policy at each node based its inventory position or echelon stock. Reorder quantities are placed to the node's priority supplier. The reorder policy is applied for each <code>material</code> at each <code>node</code> in reverse <a href="https://en.wikipedia.org/wiki/Topological_sorting" rel="nofollow">topological order</a>. This allows upstream nodes to determine their reorder quantities with information about the reorder quantities placed by their successors (relevant for <code>producer</code> nodes to ensure that raw material replenishments are synced with production orders). The two most common policies used in industry are the <code>(s,S)</code> and <code>(r,Q)</code> <a href="https://smartcorp.com/inventory-control/inventory-control-policies-software/" rel="nofollow">policies</a>.</p>
<p dir="auto">The <code>reorder_policy</code> takes the following inputs and returns an <code>action</code> vector.</p>
<ul dir="auto">
<li><code>env::SupplyChainEnv</code>: inventory management environment</li>
<li><code>reorder_point::Dict</code>: the <code>s</code> or <code>r</code> parameter in each node for each material in the system. The <code>keys</code> are of the form <code>(node, material)</code>.</li>
<li><code>policy_param::Dict</code>: the <code>S</code> or <code>Q</code> parameter in each node for each material in the system. The <code>keys</code> are of the form <code>(node, material)</code>.</li>
<li><code>policy_type::Union{Symbol, Dict}</code>: <code>:rQ</code> for an <code>(r,Q)</code> policy, or <code>:sS</code> for an <code>(s,S)</code> policy. If passing a <code>Dict</code>, the policy type should be specified for each node (<code>keys</code>).</li>
<li><code>review_period::Union{Int, AbstractRange, Vector, Dict}</code>: number of periods between each inventory review (Default = <code>1</code> for continuous review.). If a <code>AbstractRange</code> or <code>Vector</code> is used, the <code>review_period</code> indicates which periods the review is performed on. If a <code>Dict</code> is used, the review period should be specified for each <code>(node, material)</code> <code>Tuple</code> (<code>keys</code>). The values of this <code>Dict</code> can be either <code>Int</code>, <code>AbstractRange</code>, or <code>Vector</code>. Any missing <code>(node, material)</code> key will be assigned a default value of 1.</li>
<li><code>min_order_qty::Union{Real, Dict}</code>: minimum order quantity (MOQ) at each supply node. If a <code>Dict</code> is passed, the MOQ should be specified for each <code>(node, material)</code> <code>Tuple</code> (keys). The values should be <code>Real</code>. Any missing key will be assigned a default value of 0.</li>
<li><code>order_multiples::Union{Real, Dict}</code>: size increments for each order (default is -1, which means no constraint on order sizes). If a <code>Dict</code> is passed, the order multiples should be specified for each <code>(node, material)</code> <code>Tuple</code> (keys). The values should be <code>Real</code>. Any missing key will be assigned a default value of -1 (meaning no order multiples enforced).</li>
<li><code>adjust_expected_consumption::Bool</code>: indicator if the reorder point should be increased (temporarilly) at a <code>producer</code> node by the expected raw material consumption for an expected incoming production order.</li>
</ul>
<h2 dir="auto"><a id="user-content-model-assumptions" class="anchor" aria-hidden="true" href="#model-assumptions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Model Assumptions</h2>
<p dir="auto">The following assumptions hold in the current implementation, but can be modified in future releases.</p>
<ul dir="auto">
<li>Production lead times are independent of the amount being produced.</li>
<li>Transportation costs are paid to a third party (not a node in the network).</li>
<li>Replenishment orders are placed in topological order. This means that upstream nodes place orders first. This allows the following scenario: if the lead time is 0, the ordered inventory will immediately be available so that the node can use it to fulfill downstream orders.</li>
</ul>
<h2 dir="auto"><a id="user-content-model-limitations" class="anchor" aria-hidden="true" href="#model-limitations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Model Limitations</h2>
<p dir="auto">The following features are not currently supported:</p>
<ul dir="auto">
<li>Alternate bills of materials (see <a href="#general-network-parameters">Model Inputs</a>) for the same material at the same node are not currently supported. This is particularly relevant for chemical systems (e.g., there are two reactions that can be used to make the same product).</li>
<li>Capacity limitations on shared feedstock inventory among <code>producer</code> nodes (e.g., shared inventory tanks) are not enforced in a straightforward way since <code>producer</code> nodes have dedicated raw material storage. Shared feedstock inventory can be modeled by having an upstream storage node with zero lead time to each of the <code>producer</code> nodes. Each of the <code>producer</code> nodes should use an <code>(s,S)</code> replenishment policy with <code>s = 0, S = 0</code>. When a production order is of size <code>x</code> is going to be placed in a period, the policy will assume the feedstock position at the <code>producer</code> node is going to derop to <code>-x</code> and will order <code>x</code> to bring the position up to <code>0</code>. Since the lead time is <code>0</code> and orders are placed with topological sorting (see <a href="$sequence-of-events">Sequence of Events</a>), the inventory will be immediately sent to the <code>producer</code> node and be available for when the production order comes in. However, if there is not enough production capacity to process <code>x</code>, the excess will be left in the dedicated storage for that <code>producer</code> node, making it possible to violate the shared inventory capacity constraint.</li>
<li>If a <code>producer</code> can produce more than 1 material, it is possible for it to produce all materials it is capable of producing simultaneously (if there are enough raw materials). This occurs because the model does not account for resource constraints (e.g., single reactor can only do reaction 1 or reaction 2, but not both simultaneously). However, these can be enforced manually with the reorder actions. Potential fixes (requires changing the source code):
<ul dir="auto">
<li>Drop production capacities for all other products to 0 when the production equipment is occupied. Requires modeling each production unit as its own node.</li>
<li>Develop a production model (perhaps based on the Resource-Task Network paradigm)</li>
</ul>
</li>
</ul>
<h2 dir="auto"><a id="user-content-creating-a-supply-chain-network" class="anchor" aria-hidden="true" href="#creating-a-supply-chain-network"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Creating a Supply Chain Network</h2>
<p dir="auto">The supply network topology must be mapped on a network graph using <a href="https://github.com/JuliaGraphs/Graphs.jl">Graphs.jl</a>. The system parameters are stored in the network's metadata using <a href="https://github.com/JuliaGraphs/MetaGraphs.jl">MetaGraphs.jl</a>. The network can be generated by using the <code>MetaDiGraph</code> function and passing one of the following:</p>
<ul dir="auto">
<li>Number of nodes in the network, which can the be connected via the <code>connect_nodes!</code> function:</li>
</ul>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="net = MetaDiGraph(3)
connect_nodes!(net,
  1 =&gt; 2,
  2 =&gt; 3
)"><pre>net <span class="pl-k">=</span> <span class="pl-c1">MetaDiGraph</span>(<span class="pl-c1">3</span>)
<span class="pl-c1">connect_nodes!</span>(net,
  <span class="pl-c1">1</span> <span class="pl-k">=&gt;</span> <span class="pl-c1">2</span>,
  <span class="pl-c1">2</span> <span class="pl-k">=&gt;</span> <span class="pl-c1">3</span>
)</pre></div>
<ul dir="auto">
<li>An adjacency matrix for the network:</li>
</ul>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="net = MetaDiGraph(
  [0 1 0;
   0 0 1;
   0 0 0]
)"><pre>net <span class="pl-k">=</span> <span class="pl-c1">MetaDiGraph</span>(
  [<span class="pl-c1">0</span> <span class="pl-c1">1</span> <span class="pl-c1">0</span>;
   <span class="pl-c1">0</span> <span class="pl-c1">0</span> <span class="pl-c1">1</span>;
   <span class="pl-c1">0</span> <span class="pl-c1">0</span> <span class="pl-c1">0</span>]
)</pre></div>
<ul dir="auto">
<li>An existing <code>DiGraph</code>, such as a serial directed graph (<code>path_digraph</code>):</li>
</ul>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="net = MetaDiGraph(path_digraph(3))"><pre>net <span class="pl-k">=</span> <span class="pl-c1">MetaDiGraph</span>(<span class="pl-c1">path_digraph</span>(<span class="pl-c1">3</span>))</pre></div>
<p dir="auto">General network, node-specific, and arc-specific metadata can be added using the <code>set_prop!</code> and <code>set_props!</code> functions. The following subsections describe the property keys accepted for the supply chain network metadata.</p>
<h3 dir="auto"><a id="user-content-general-network-parameters" class="anchor" aria-hidden="true" href="#general-network-parameters"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>General Network Parameters</h3>
<p dir="auto">The graph metadata should have the following fields in its metadata:</p>
<ul dir="auto">
<li><code>:materials::Vector</code> with a list of all materials in the system.</li>
</ul>
<h3 dir="auto"><a id="user-content-node-specific-parameters" class="anchor" aria-hidden="true" href="#node-specific-parameters"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Node-specific Parameters</h3>
<p dir="auto"><code>Producers</code> will have the following fields in their node metadata:</p>
<ul dir="auto">
<li><code>:initial_inventory::Dict</code>: initial inventory for each material (<code>keys</code>). Default = <code>0</code>.</li>
<li><code>:inventory_capacity::Dict</code>: maximum inventory for each material (<code>keys</code>). Default = <code>Inf</code>.</li>
<li><code>:holding_cost::Dict</code>: unit holding cost for each material (<code>keys</code>). Default = <code>0</code>.</li>
<li><code>:early_fulfillment::Dict</code>: (<em>only when the node has at least 1 supplier</em>) (<code>true</code>/<code>false</code>) on if the node accepts orders being fulfilled before their due date for each material (<code>keys</code>). Default = <code>true</code>.</li>
<li><code>:partial_fulfillment::Dict</code>: (<em>only when the node has at least 1 supplier</em>) (<code>true</code>/<code>false</code>) on if the node accepts orders being fulfilled partially for each material (<code>keys</code>). Default = <code>true</code>.</li>
<li><code>:supplier_priority::Dict</code>: (<em>only when the node has at least 1 supplier</em>) <code>Vector</code> of suppliers (from high to low priority) for each material (<code>keys</code>). When a request cannot be fulfilled due to insufficient production capacity or on-hand inventory, the system will try to reallocate it to the supplier that is next in line on the priority list (if <code>reallocate = true</code>). Default = <code>[node] ∪ inneighbors(SupplyChainEnv.network, node)</code>.</li>
<li><code>:customer_priority::Dict</code>: (<em>only when the node has at least 1 customer</em>) <code>Vector</code> of customers (from high to low priority) for each material (<code>keys</code>). Downstream requests are fulfilled by this prioritization (after giving priority first to due and then expired orders). Default = <code>outneighbors(SupplyChainEnv.network, node)</code>.</li>
<li><code>:production_capacity::Dict</code>: maximum production capacity for each material (<code>keys</code>). Default = <code>Inf</code>.</li>
<li><code>:make_to_order::Vector</code>: list of materials that are make-to-order. Default = <code>[]</code>.</li>
<li><code>:bill_of_materials::Union{Dict,NamedArray}</code>: <code>keys</code> are material <code>Tuples</code>, where the first element is the input material and the second element is the product/output material; the <code>values</code> indicate the amount of input material consumed to produce 1 unit of output material. Alternatively, a <code>NamedArray</code> can be passed where the input materials are the rows and the output materials are the columns. The following convention is used for the bill of material (BOM) values:
<ul dir="auto">
<li><code>zero</code>: input not involved in production of output.</li>
<li><code>negative number</code>: input is consumed in the production of output.</li>
<li><code>positive number</code>: input is a co-product of the output.</li>
</ul>
</li>
</ul>
<p dir="auto"><code>Distributors</code> will have the following fields in their node metadata:</p>
<ul dir="auto">
<li><code>:initial_inventory::Dict</code>: initial inventory for each material (<code>keys</code>). Default = <code>0</code>.</li>
<li><code>:inventory_capacity::Dict</code>: maximum inventory for each material (<code>keys</code>). Default = <code>Inf</code>.</li>
<li><code>:holding_cost::Dict</code>: unit holding cost for each material (<code>keys</code>). Default = <code>0</code>.</li>
<li><code>:early_fulfillment::Dict</code>: (<em>only when the node has at least 1 supplier</em>) (<code>true</code>/<code>false</code>) on if the node accepts orders being fulfilled before their due date for each material (<code>keys</code>). Default = <code>true</code>.</li>
<li><code>:partial_fulfillment::Dict</code>: (<em>only when the node has at least 1 supplier</em>) (<code>true</code>/<code>false</code>) on if the node accepts orders being fulfilled partially for each material (<code>keys</code>). Default = <code>true</code>.</li>
<li><code>:supplier_priority::Dict</code>: (<em>only when the node has at least 1 supplier</em>) <code>Vector</code> of suppliers (from high to low priority) for each material (<code>keys</code>). When a request cannot be fulfilled due to insufficient production capacity or on-hand inventory, the system will try to reallocate it to the supplier that is next in line on the priority list (if <code>reallocate = true</code>). Default = <code>inneighbors(SupplyChainEnv.network, node)</code>.</li>
<li><code>:customer_priority::Dict</code>: (<em>only when the node has at least 1 customer</em>) <code>Vector</code> of customers (from high to low priority) for each material (<code>keys</code>). Downstream requests are fulfilled by this prioritization (after giving priority first to due and then expired orders). Default = <code>outneighbors(SupplyChainEnv.network, node)</code>.</li>
</ul>
<p dir="auto"><code>Markets</code> will have the following fields in their node metadata:</p>
<ul dir="auto">
<li><code>:initial_inventory::Dict</code>: initial inventory for each material (<code>keys</code>). Default = <code>0</code>.</li>
<li><code>:inventory_capacity::Dict</code>: maximum inventory for each material (<code>keys</code>). Default = <code>Inf</code>.</li>
<li><code>:holding_cost::Dict</code>: unit holding cost for each material (<code>keys</code>). Default = <code>0</code>.</li>
<li><code>:early_fulfillment::Dict</code>: (<em>only when the node has at least 1 supplier</em>) (<code>true</code>/<code>false</code>) indicates if the node accepts orders being fulfilled before their due date for each material (<code>keys</code>). Default = <code>true</code>.</li>
<li><code>:market_early_fulfillment::Dict</code>: (<code>true</code>/<code>false</code>) indicates if the market accepts orders being fulfilled before their due date for each material (<code>keys</code>). Default = <code>true</code>.</li>
<li><code>:partial_fulfillment::Dict</code>: (<em>only when the node has at least 1 supplier</em>) (<code>true</code>/<code>false</code>) indicates if the node accepts orders being fulfilled partially for each material (<code>keys</code>). Default = <code>true</code>.</li>
<li><code>:market_partial_fulfillment::Dict</code>: (<code>true</code>/<code>false</code>) indicates if the market accepts orders being fulfilled partially for each material (<code>keys</code>). Default = <code>true</code>.</li>
<li><code>:supplier_priority::Dict</code>: (<em>only when the node has at least 1 supplier</em>) <code>Vector</code> of suppliers (from high to low priority) for each material (<code>keys</code>). When a request cannot be fulfilled due to insufficient production capacity or on-hand inventory, the system will try to reallocate it to the supplier that is next in line on the priority list (if <code>reallocate = true</code>). Default = <code>inneighbors(SupplyChainEnv.network, node)</code>.</li>
<li><code>:demand_distribution::Dict</code>: probability distributions from <a href="https://github.com/JuliaStats/Distributions.jl">Distributions.jl</a> for the market demands for each material (<code>keys</code>). For deterministic demand, instead of using a probability distribution, use <code>D where D &lt;: Number</code>. Default = <code>0</code>.</li>
<li><code>:demand_frequency::Dict</code>: number of times demand occurs per period on average for each material (<code>keys</code>). Default = <code>1</code>.</li>
<li><code>:demand_data::Dict</code>: Vector of orders for each period in the simulation, for each material (<code>keys</code>). For each period, a single order amount can be specified, or a <code>Tuple</code>/<code>Vector</code> of orders amounts. Demand data takes precedence over any demand distribution/demand frequency provided. Default = <code>nothing</code>.</li>
<li><code>:sales_price::Dict</code>: market sales price for each material (<code>keys</code>). Default = <code>0</code>.</li>
<li><code>:unfulfilled_penalty::Dict</code>: unit penalty for unsatisfied market demand for each material (<code>keys</code>). Default = <code>0</code>.</li>
<li><code>:service_lead_time::Dict</code>: service lead time (probability distribution or deterministic value) allowed to fulfill market demand for each material (<code>keys</code>). Default = <code>0</code>.</li>
</ul>
<h3 dir="auto"><a id="user-content-arc-specific-parameters" class="anchor" aria-hidden="true" href="#arc-specific-parameters"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Arc-specific Parameters</h3>
<p dir="auto">All arcs have the following fields in their metadata:</p>
<ul dir="auto">
<li><code>:sales_price::Dict</code>: unit sales price for inventory sent on that edge (from supplier to receiver) for each material (<code>keys</code>). Default = <code>0</code>.</li>
<li><code>:transportation_cost::Dict</code>: unit transportation cost for shipped inventory for each material (<code>keys</code>). Default = <code>0</code>.</li>
<li><code>:pipeline_holding_cost::Dict</code>: unit holding cost per period for inventory in-transit for each material (<code>keys</code>). Default = <code>0</code>.</li>
<li><code>:unfulfilled_penalty::Dict</code>: unit penalty for unsatisfied internal demand for each material (<code>keys</code>). Default = <code>0</code>.</li>
<li><code>:lead_time::Dict</code>: probability distributions from <a href="https://github.com/JuliaStats/Distributions.jl">Distributions.jl</a> for the lead times for each material (<code>keys</code>) on that edge. Lead times are transportation times when the edge has two <code>distributor</code> nodes and production times when the edge joins the <code>producer</code> and <code>distributor</code> nodes in a plant. For deterministic lead times, instead of using a probability distribution, use <code>L where L  &lt;: Number</code>. Default = <code>0</code>.</li>
<li><code>:lead_time_data::Dict</code>: Vector of lead times with a non-negative value for each period in the simulation, for each material (<code>keys</code>) on that edge. Lead time data takes precedence over any lead time distribution/value. Default = <code>nothing</code>.</li>
<li><code>:service_lead_time::Dict</code>: service lead time (probability distribution or deterministic value) allowed to fulfill (goods issue) internal demand for each material (<code>keys</code>). Default = <code>0</code>.</li>
</ul>
<h2 dir="auto"><a id="user-content-creating-a-supply-chain-environment" class="anchor" aria-hidden="true" href="#creating-a-supply-chain-environment"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Creating a Supply Chain Environment</h2>
<p dir="auto">The <code>SupplyChainEnv</code> function can be used to create a <code>SupplyChainEnv</code> Constructor.
This function takes the following inputs:</p>
<ul dir="auto">
<li>Positional Arguments:
<ul dir="auto">
<li><code>Network::MetaDiGraph</code>: supply chain network with embedded metadata</li>
<li><code>num_periods::Int</code>: number of periods to simulate</li>
</ul>
</li>
<li>Keyword Arguments (system options):
<ul dir="auto">
<li><code>backlog::Bool = true</code>: backlogging allowed if <code>true</code>; otherwise, orders that reach their due date and are not fulfilled become lost sales.</li>
<li><code>reallocate::Bool = false</code>: the system try to reallocate requests if they cannot be satisfied if <code>true</code>; otherwise, no reallocation is attempted.</li>
<li><code>guaranteed_service::Bool = false</code>: the simulation will operate under the assumptions in the Guaranteed Service Model (<a href="https://www.sciencedirect.com/science/article/pii/S1474667016333535" rel="nofollow">GSM</a>). If <code>true</code>, <code>backlog = true</code> will be forced. Orders that are open and within the service lead time window will be backlogged. Once the service lead time expires, the orders become lost sales. In order to replicate the GSM assumption that extraordinary measures will be used to fulfill any expired orders, a dummy node with infinite supply can be attached to each node and set as the lowest priority supplier to that node.</li>
<li><code>adjusted_stock::Bool = true</code>: the simulation will discount orders that have been placed, but have not been fulfilled from the inventory position (and echelon stock) from the supplier node, and will add them to the on-order inventory of the requested node.</li>
<li><code>capacitated_inventory::Bool = true</code>: the simulation will enforce inventory capacity constraints by discarding excess inventory at the end of each period if <code>true</code>; otherwise, the system will allow the inventory to exceed the specified capacity.</li>
<li><code>evaluate_profit::Bool = true</code>: the simulation will calculate the proft at each node if <code>true</code> and save the results in <code>SupplyChainEnv.profit</code>.</li>
</ul>
</li>
<li>Aditional Keyword Arguments:
<ul dir="auto">
<li><code>discount::Float64 = 0.</code>: discount factor (i.e., interest rate) to account for the time-value of money.</li>
<li><code>numerical_precision::Int = 6</code>: Numerical precision (number of digits) for external demand sampling.</li>
<li><code>seed::Int = 0</code>: random seed for simulation.</li>
</ul>
</li>
</ul>
<h2 dir="auto"><a id="user-content-simulation-outputs" class="anchor" aria-hidden="true" href="#simulation-outputs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Simulation Outputs</h2>
<p dir="auto">The <code>SupplyChainEnv</code> Constructor has the following fields to store the simulation results in <code>DataFrames</code>:</p>
<ul dir="auto">
<li><code>inventory</code>: on-hand, level, position, echelon, pipeline, and discarded inventory for each <code>location</code> (<code>arc</code> or <code>node</code>), <code>material</code>, and <code>period</code>. Discarded inventory is marked when <code>capacitated_inventory = true</code>.</li>
<li><code>orders</code>: internal and external orders for each <code>material</code> on each <code>arc</code> (for internal demand) and each <code>node</code> (for external demand). The ID, creation date, and quantity are stored for each order.</li>
<li><code>open_orders</code>: open (not yet fulfilled) internal and external orders for each <code>material</code> on each <code>arc</code> (for internal demand) and each <code>node</code> (for external demand). The ID, creation date, and quantity are stored for each open order. The <code>due</code> column indicates the time left until the order is due (as specified by the <code>service_lead_time</code>).</li>
<li><code>fulfillments</code>: order fulfillment quantities for each order ID. The <code>type</code> column indicates if the amount on that row is material <code>sent</code>, <code>delivered</code>, or is a <code>lost sale</code>.</li>
<li><code>shipments</code>: current in-transit inventory for each <code>arc</code> and <code>material</code> with remaining lead time.</li>
<li><code>profit</code>: time-discounted profit for each <code>node</code> at each <code>period</code>.</li>
<li><code>metrics</code>: service metrics (service level and fillrate) on each <code>arc</code> for each <code>material</code>.</li>
</ul>
<h2 dir="auto"><a id="user-content-examples" class="anchor" aria-hidden="true" href="#examples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Examples</h2>
<h3 dir="auto"><a id="user-content-example-1" class="anchor" aria-hidden="true" href="#example-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Example 1</h3>
<p dir="auto">This example has plant with unlimited raw material supply that converts <code>:B</code> to <code>:A</code> with a 1:1 stoichiometry. The plant sells both materials to a downstream retailer that has market demand for both materials. This system is modeled using 2 nodes:</p>
<ul dir="auto">
<li>Plant: Node 1 with a self-loop for the production of <code>:A</code> from <code>:B</code></li>
<li>Retailer: Node 2 buys <code>:B</code> and <code>:A</code> from Node 1</li>
</ul>
<p dir="auto">Demand and lead times are deterministic. A continuous review (s,S) policy is used. 100 periods are simulated.</p>
<p dir="auto"><em>See code with system and policy parameters <a href="https://github.com/hdavid16/InventoryManagement.jl/blob/master/examples/ex1.jl">here</a>.</em></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="examples/figs/ex1_profit.png"><img src="examples/figs/ex1_profit.png" alt="" style="max-width: 100%;"></a>
<a target="_blank" rel="noopener noreferrer" href="examples/figs/ex1_position.png"><img src="examples/figs/ex1_position.png" alt="" style="max-width: 100%;"></a></p>
<h3 dir="auto"><a id="user-content-example-2" class="anchor" aria-hidden="true" href="#example-2"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Example 2</h3>
<p dir="auto">This example has a distributor with unlimited inventory (Node 1) that sells <code>:A</code> to a retailer with market demand (Node 2).</p>
<p dir="auto">Demand and lead time is stochastic. A periodic review (r,Q) policy is used. 100 periods are simulated.</p>
<p dir="auto"><em>See code with system and policy parameters <a href="https://github.com/hdavid16/InventoryManagement.jl/blob/master/examples/ex2.jl">here</a>.</em></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="examples/figs/ex2_inventory.png"><img src="examples/figs/ex2_inventory.png" alt="" style="max-width: 100%;"></a></p>
<h3 dir="auto"><a id="user-content-example-3" class="anchor" aria-hidden="true" href="#example-3"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Example 3</h3>
<p dir="auto">This example has plant that converts <code>:C</code> to <code>:B</code> to <code>:A</code> with a 1:1 stoichiometry for each reaction. The plant acquires raw materials from a supplier upstream with unlimited supply of <code>:C</code> and sells <code>:A</code> to a retailer downstream. There is direct market demand of <code>:A</code> at both the retailer and the plant. Thus, the plant has both internal and external demand. This system is modeled using 3 nodes:</p>
<ul dir="auto">
<li>Supplier: Node 1 (unlimited supply <code>:C</code>)</li>
<li>Plant: Node 2 with a self-loop for production of <code>:B</code> from <code>:C</code> and <code>:A</code> from <code>:B</code></li>
<li>Retailer: Node 3 buys <code>:A</code> from Node 2 and sells <code>:A</code> to the market.</li>
</ul>
<p dir="auto">Demand and lead times are stochastic. A continuous review (s,S) policy is used. 100 periods are simulated.</p>
<p dir="auto"><em>See code with system and policy parameters <a href="https://github.com/hdavid16/InventoryManagement.jl/blob/master/examples/ex3.jl">here</a>.</em></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="examples/figs/ex3_echelon.png"><img src="examples/figs/ex3_echelon.png" alt="" style="max-width: 100%;"></a></p>
<h2 dir="auto"><a id="user-content-contact" class="anchor" aria-hidden="true" href="#contact"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Contact</h2>
<p dir="auto"><strong>Author</strong>: Hector D. Perez<br>
<strong>Position</strong>: Ph. D. Candidate @ Carnegie Mellon University<br>
<strong>Email</strong>: <a href="mailto:hdperez@cmu.edu">hdperez@cmu.edu</a><br>
<strong>Year</strong>: 2021</p>
</article></div>