<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-taylordiag" class="anchor" aria-hidden="true" href="#taylordiag"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>TaylorDiag</h1>
<p dir="auto"><a href="https://github.com/SimonTreillou/TaylorDiag.jl/actions/workflows/CI.yml?query=branch%3Amain"><img src="https://github.com/SimonTreillou/TaylorDiag.jl/actions/workflows/CI.yml/badge.svg?branch=main" alt="Build Status" style="max-width: 100%;"></a>
<a href="https://github.com/SciML/ColPrac"><img src="https://camo.githubusercontent.com/a6c1efcb19a957860ecb25966a730260b03d6e05380d0c27992ee7f9e3b1feb3/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f436f6c507261632d436f6e7472696275746f72277325323047756964652d626c756576696f6c6574" alt="ColPrac: Contributor's Guide on Collaborative Practices for Community Packages" data-canonical-src="https://img.shields.io/badge/ColPrac-Contributor's%20Guide-blueviolet" style="max-width: 100%;"></a></p>
<h2 dir="auto"><a id="user-content-what-is-a-taylor-diagram" class="anchor" aria-hidden="true" href="#what-is-a-taylor-diagram"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>What is a Taylor diagram</h2>
<p dir="auto">A Taylor diagram is a diagram designed by Karl E. Taylor <a href="#1">[1]</a>,  indicating the realism of models/representations. It is a really powerful tool because of the information displayed in a single diagram: the correlation coefficient (quantifying the  pattern similarity between reference and model), the RMSE (quantifying the difference, without differentiating difference due to pattern and difference due to amplitude) and standard deviation (quantifying the amplitude and deviation). This diagram is well-known in earth sciences and climate sciences (e.g. oceanography, meteorology) but would benefit from being known in others scientific fields.</p>
<p dir="auto">Given <math-renderer class="js-inline-math" style="display: inline" data-static-url="https://github.githubassets.com/static" data-run-id="f7775e6867b59ddcec16e040707f0c01">$f$</math-renderer> and <math-renderer class="js-inline-math" style="display: inline" data-static-url="https://github.githubassets.com/static" data-run-id="f7775e6867b59ddcec16e040707f0c01">$r$</math-renderer> two variables, <math-renderer class="js-inline-math" style="display: inline" data-static-url="https://github.githubassets.com/static" data-run-id="f7775e6867b59ddcec16e040707f0c01">$r$</math-renderer> being the reference, and <math-renderer class="js-inline-math" style="display: inline" data-static-url="https://github.githubassets.com/static" data-run-id="f7775e6867b59ddcec16e040707f0c01">$\sigma_f$</math-renderer> and <math-renderer class="js-inline-math" style="display: inline" data-static-url="https://github.githubassets.com/static" data-run-id="f7775e6867b59ddcec16e040707f0c01">$\sigma_r$</math-renderer> their respective standard deviations, the correlation coefficient R reads as :</p>
<p dir="auto"><math-renderer class="js-display-math" style="display: block" data-static-url="https://github.githubassets.com/static" data-run-id="f7775e6867b59ddcec16e040707f0c01">$$ R = \frac{ \frac{1}{N} \sum_n (f_n - \bar{f}) (r_n - \bar{r})}{\sigma_f \sigma_r}$$</math-renderer></p>
<p dir="auto">The RMS difference E reads as :</p>
<p dir="auto"><math-renderer class="js-display-math" style="display: block" data-static-url="https://github.githubassets.com/static" data-run-id="f7775e6867b59ddcec16e040707f0c01">$$E = [ \frac{1}{N} \sum_n (f_n - r_n)^2 ]^{1/2}$$</math-renderer></p>
<p dir="auto">and can be separated in two parts : <math-renderer class="js-inline-math" style="display: inline" data-static-url="https://github.githubassets.com/static" data-run-id="f7775e6867b59ddcec16e040707f0c01">$E^2 = \bar{E}^2 + E'^2$</math-renderer>. <math-renderer class="js-inline-math" style="display: inline" data-static-url="https://github.githubassets.com/static" data-run-id="f7775e6867b59ddcec16e040707f0c01">$\bar{E} = \bar{f} - \bar{r}$</math-renderer> is the overall bias and the centered pattern RMS difference <math-renderer class="js-inline-math" style="display: inline" data-static-url="https://github.githubassets.com/static" data-run-id="f7775e6867b59ddcec16e040707f0c01">$E'$</math-renderer> is :</p>
<p dir="auto"><math-renderer class="js-display-math" style="display: block" data-static-url="https://github.githubassets.com/static" data-run-id="f7775e6867b59ddcec16e040707f0c01">$$\sqrt{E'} = \frac{1}{N} \sum_n [(f_n - \bar{f}) - (r_n - \bar{r})]^2$$</math-renderer></p>
<p dir="auto">Taylor (2001) then showed that these scores are related using the following equation :</p>
<p dir="auto"><math-renderer class="js-display-math" style="display: block" data-static-url="https://github.githubassets.com/static" data-run-id="f7775e6867b59ddcec16e040707f0c01">$$E'^2 = \sigma^2_f + \sigma_r^2 - 2 \sigma_f \sigma_r R$$</math-renderer></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="Taylor2001-fig1.png"><img src="Taylor2001-fig1.png" alt="plot" style="max-width: 100%;"></a></p>
<p dir="auto"><math-renderer class="js-inline-math" style="display: inline" data-static-url="https://github.githubassets.com/static" data-run-id="f7775e6867b59ddcec16e040707f0c01">$From \space Taylor \space (2001) - Figure  \space 1$</math-renderer></p>
<h2 dir="auto">
<a id="user-content-how-to-use" class="anchor" aria-hidden="true" href="#how-to-use"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>How to use</h2>
<p dir="auto">You first need to add the package to your library.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using Pkg
Pkg.add(&quot;TaylorDiag&quot;)
using TaylorDiag"><pre><span class="pl-k">using</span> Pkg
Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-s"><span class="pl-pds">"</span>TaylorDiag<span class="pl-pds">"</span></span>)
<span class="pl-k">using</span> TaylorDiag</pre></div>
<h2 dir="auto">
<a id="user-content-example" class="anchor" aria-hidden="true" href="#example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Example</h2>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using Random
using TaylorDiag

# We first build observations (e.g. reference) using random distribution
obs = 10*rand(10)

# Then we build &quot;modeled&quot; datasets (here the observations with random noise)
mod = obs + rand(10)*4
mod2 = obs + rand(10)*2

# We compute standard deviations (S), root mean squared deviations (R)
# and correlations (C)
S = [STD(obs),STD(mod), STD(mod2)]
R = [RMSD(obs,obs),RMSD(obs,mod), RMSD(obs,mod2)]
C = [COR(obs,obs),COR(obs,mod),COR(obs,mod2)]

# We then plot the Taylor diagram, here without special names added
taylordiagram(S,C)

# Here with automatic computation of the standard deviations 
# and correlation coefficients (plot not shown)
taylordiagram([obs,mod,mod2])

# Here with special names added (plot not shown)
names = [&quot;Data1&quot;, &quot;Data2&quot;, &quot;Data3&quot;]
taylordiagram(S,C,names)

# Here with special markers
markerz = [:star, :circle, :circle]
taylordiagram(S,C,markerz)

# Here with options and collections directly used as inputs (STD and C computations are automatic)
Cs = [obs,mod,mod2]
taylordiagram(Cs;figsize=600,dpi=600,pointcolor=:black,pointfontsize=8,correlationcolor=:red,freRMS=10,normalize=true)"><pre><span class="pl-k">using</span> Random
<span class="pl-k">using</span> TaylorDiag

<span class="pl-c"><span class="pl-c">#</span> We first build observations (e.g. reference) using random distribution</span>
obs <span class="pl-k">=</span> <span class="pl-c1">10</span><span class="pl-k">*</span><span class="pl-c1">rand</span>(<span class="pl-c1">10</span>)

<span class="pl-c"><span class="pl-c">#</span> Then we build "modeled" datasets (here the observations with random noise)</span>
mod <span class="pl-k">=</span> obs <span class="pl-k">+</span> <span class="pl-c1">rand</span>(<span class="pl-c1">10</span>)<span class="pl-k">*</span><span class="pl-c1">4</span>
mod2 <span class="pl-k">=</span> obs <span class="pl-k">+</span> <span class="pl-c1">rand</span>(<span class="pl-c1">10</span>)<span class="pl-k">*</span><span class="pl-c1">2</span>

<span class="pl-c"><span class="pl-c">#</span> We compute standard deviations (S), root mean squared deviations (R)</span>
<span class="pl-c"><span class="pl-c">#</span> and correlations (C)</span>
S <span class="pl-k">=</span> [<span class="pl-c1">STD</span>(obs),<span class="pl-c1">STD</span>(mod), <span class="pl-c1">STD</span>(mod2)]
R <span class="pl-k">=</span> [<span class="pl-c1">RMSD</span>(obs,obs),<span class="pl-c1">RMSD</span>(obs,mod), <span class="pl-c1">RMSD</span>(obs,mod2)]
C <span class="pl-k">=</span> [<span class="pl-c1">COR</span>(obs,obs),<span class="pl-c1">COR</span>(obs,mod),<span class="pl-c1">COR</span>(obs,mod2)]

<span class="pl-c"><span class="pl-c">#</span> We then plot the Taylor diagram, here without special names added</span>
<span class="pl-c1">taylordiagram</span>(S,C)

<span class="pl-c"><span class="pl-c">#</span> Here with automatic computation of the standard deviations </span>
<span class="pl-c"><span class="pl-c">#</span> and correlation coefficients (plot not shown)</span>
<span class="pl-c1">taylordiagram</span>([obs,mod,mod2])

<span class="pl-c"><span class="pl-c">#</span> Here with special names added (plot not shown)</span>
names <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">"</span>Data1<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Data2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Data3<span class="pl-pds">"</span></span>]
<span class="pl-c1">taylordiagram</span>(S,C,names)

<span class="pl-c"><span class="pl-c">#</span> Here with special markers</span>
markerz <span class="pl-k">=</span> [<span class="pl-c1">:star</span>, <span class="pl-c1">:circle</span>, <span class="pl-c1">:circle</span>]
<span class="pl-c1">taylordiagram</span>(S,C,markerz)

<span class="pl-c"><span class="pl-c">#</span> Here with options and collections directly used as inputs (STD and C computations are automatic)</span>
Cs <span class="pl-k">=</span> [obs,mod,mod2]
<span class="pl-c1">taylordiagram</span>(Cs;figsize<span class="pl-k">=</span><span class="pl-c1">600</span>,dpi<span class="pl-k">=</span><span class="pl-c1">600</span>,pointcolor<span class="pl-k">=</span><span class="pl-c1">:black</span>,pointfontsize<span class="pl-k">=</span><span class="pl-c1">8</span>,correlationcolor<span class="pl-k">=</span><span class="pl-c1">:red</span>,freRMS<span class="pl-k">=</span><span class="pl-c1">10</span>,normalize<span class="pl-k">=</span><span class="pl-c1">true</span>)</pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="./tutorial-taylor-diagram.png"><img src="./tutorial-taylor-diagram.png" alt="plot" style="max-width: 100%;"></a></p>
<h2 dir="auto">
<a id="user-content-roadmap" class="anchor" aria-hidden="true" href="#roadmap"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Roadmap</h2>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""> Statistics tests</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""> Write functions descriptions</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""> Add reference</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""> Write quick-quick documentation on the README</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""> Clean-up</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""> Add plotting options</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""> Normalized plot</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""> Reduced angle plot</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> Add examples</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> Docs</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> Improve 180° plot</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> New skill scores from Taylor 2001</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""> Add RMSD on the plot</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> List what next: see reference</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> Add API</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""> Correlation lines size problem</li>
</ul>
<h2 dir="auto">
<a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Contributing</h2>
<p dir="auto">Contributions are welcome. Please make a pull request so the community can enjoy it!</p>
<p dir="auto">See contributor's guide badge for more informations.</p>
<h2 dir="auto">
<a id="user-content-references" class="anchor" aria-hidden="true" href="#references"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>References</h2>
<p dir="auto"><a id="user-content-1">[1]</a>
Taylor, K. E. (2001).
Summarizing Multiple Aspects of Model Performance in a Single Diagram
Journal of Geophysical Research: Atmospheres 106, nᵒ D7 (2001): 7183‑92. <a href="https://doi.org/10.1029/2000JD900719" rel="nofollow">https://doi.org/10.1029/2000JD900719</a>.</p>
</article></div>