<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-world-bank-data-in-julia" class="anchor" aria-hidden="true" href="#world-bank-data-in-julia"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>World Bank Data in Julia</h1>
<p>The World Bank provides free access to data about development at
<a href="https://data.worldbank.org" rel="nofollow">data.worldbank.org</a>.</p>
<p>The primary collection of development indicators is called World
Development Indicators (WDI).</p>
<p>This module provides two functions to access and download the data:
<code>search_wdi()</code> and <code>wdi()</code>.</p>
<p>It follows roughly the
<a href="https://cran.r-project.org/web/packages/WDI/index.html" rel="nofollow">R WDI package</a>.</p>
<h2><a id="user-content-build-status" class="anchor" aria-hidden="true" href="#build-status"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Build Status</h2>
<p><a href="https://github.com/4gh/WorldBankData.jl/actions?query=workflow%3A%22WorldBankData.jl+Continous+Integration%22"><img src="https://github.com/4gh/WorldBankData.jl/workflows/WorldBankData.jl%20Continous%20Integration/badge.svg" alt="GitHub Build Status" style="max-width:100%;"></a></p>
<p><a href="https://travis-ci.org/4gh/WorldBankData.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/59a95fa146c085cc3b47b2d75300e54bb86b212c/68747470733a2f2f7472617669732d63692e6f72672f3467682f576f726c6442616e6b446174612e6a6c2e706e67" alt="Travis CI Build Status" data-canonical-src="https://travis-ci.org/4gh/WorldBankData.jl.png" style="max-width:100%;"></a></p>
<h2><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> Pkg
Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-s"><span class="pl-pds">"</span>WorldBankData<span class="pl-pds">"</span></span>)</pre></div>
<h2><a id="user-content-basic-examples" class="anchor" aria-hidden="true" href="#basic-examples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Basic Examples</h2>
<p>Obtain a DataFrame with the gross national income per capita for the
US and Brazil:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> WorldBankData
df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>NY.GNP.PCAP.CD<span class="pl-pds">"</span></span>, [<span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>BR<span class="pl-pds">"</span></span>])

<span class="pl-c1">120</span><span class="pl-k">×</span><span class="pl-c1">4</span> DataFrames<span class="pl-k">.</span>DataFrame
│ Row │ iso2c  │ country       │ NY_GNP_PCAP_CD │ year    │
│     │ String │ String        │ Float64⍰       │ Float64 │
├─────┼────────┼───────────────┼────────────────┼─────────┤
│ <span class="pl-c1">1</span>   │ BR     │ Brazil        │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">1960.0</span>  │
│ <span class="pl-c1">2</span>   │ BR     │ Brazil        │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">1961.0</span>  │
│ <span class="pl-c1">3</span>   │ BR     │ Brazil        │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">1962.0</span>  │
⋮
│ <span class="pl-c1">118</span> │ US     │ United States │ <span class="pl-c1">59030.0</span>        │ <span class="pl-c1">2017.0</span>  │
│ <span class="pl-c1">119</span> │ US     │ United States │ <span class="pl-c1">63080.0</span>        │ <span class="pl-c1">2018.0</span>  │
│ <span class="pl-c1">120</span> │ US     │ United States │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">2019.0</span>  │</pre></div>
<p>The WDI indicator <code>NY.GNP.PCAP.CD</code> becomes the symbol <code>NY_GNP_PCAP_CD</code> in the
DataFrame, i.e. <code>.</code> gets replaced by <code>_</code>.</p>
<h3><a id="user-content-multiple-countries-and-indicators" class="anchor" aria-hidden="true" href="#multiple-countries-and-indicators"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Multiple countries and indicators</h3>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> WorldBankData
df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>([<span class="pl-s"><span class="pl-pds">"</span>NY.GNP.PCAP.CD<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>AG.LND.ARBL.HA.PC<span class="pl-pds">"</span></span>], [<span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>BR<span class="pl-pds">"</span></span>], <span class="pl-c1">1980</span>, <span class="pl-c1">2008</span>, extra<span class="pl-k">=</span><span class="pl-c1">true</span>)

<span class="pl-c1">58</span><span class="pl-k">×</span><span class="pl-c1">13</span> DataFrames<span class="pl-k">.</span>DataFrame
│ Row │ iso2c   │ country       │ NY_GNP_PCAP_CD │ year     │ AG_LND_ARBL_HA_PC │ iso3c  │ name          │ region                     │ capital         │ longitude │ latitude │ income              │ lending        │
│     │ String⍰ │ String⍰       │ Float64⍰       │ Float64⍰ │ Float64⍰          │ String │ String        │ String                     │ String          │ Float64⍰  │ Float64⍰ │ String              │ String         │
├─────┼─────────┼───────────────┼────────────────┼──────────┼───────────────────┼────────┼───────────────┼────────────────────────────┼─────────────────┼───────────┼──────────┼─────────────────────┼────────────────┤
│ <span class="pl-c1">1</span>   │ BR      │ Brazil        │ <span class="pl-c1">2200.0</span>         │ <span class="pl-c1">1980.0</span>   │ <span class="pl-c1">0.372844</span>          │ BRA    │ Brazil        │ Latin America <span class="pl-k">&amp;</span> Caribbean  │ Brasilia        │ <span class="pl-k">-</span><span class="pl-c1">47.9292</span>  │ <span class="pl-k">-</span><span class="pl-c1">15.7801</span> │ Upper middle income │ IBRD           │
│ <span class="pl-c1">2</span>   │ BR      │ Brazil        │ <span class="pl-c1">2090.0</span>         │ <span class="pl-c1">1981.0</span>   │ <span class="pl-c1">0.369021</span>          │ BRA    │ Brazil        │ Latin America <span class="pl-k">&amp;</span> Caribbean  │ Brasilia        │ <span class="pl-k">-</span><span class="pl-c1">47.9292</span>  │ <span class="pl-k">-</span><span class="pl-c1">15.7801</span> │ Upper middle income │ IBRD           │
│ <span class="pl-c1">3</span>   │ BR      │ Brazil        │ <span class="pl-c1">2010.0</span>         │ <span class="pl-c1">1982.0</span>   │ <span class="pl-c1">0.371546</span>          │ BRA    │ Brazil        │ Latin America <span class="pl-k">&amp;</span> Caribbean  │ Brasilia        │ <span class="pl-k">-</span><span class="pl-c1">47.9292</span>  │ <span class="pl-k">-</span><span class="pl-c1">15.7801</span> │ Upper middle income │ IBRD           │
⋮
│ <span class="pl-c1">57</span>  │ US      │ United States │ <span class="pl-c1">48500.0</span>        │ <span class="pl-c1">2007.0</span>   │ <span class="pl-c1">0.537395</span>          │ USA    │ United States │ North America              │ Washington D<span class="pl-k">.</span>C. │ <span class="pl-k">-</span><span class="pl-c1">77.032</span>   │ <span class="pl-c1">38.8895</span>  │ High income         │ Not classified │
│ <span class="pl-c1">58</span>  │ US      │ United States │ <span class="pl-c1">48980.0</span>        │ <span class="pl-c1">2008.0</span>   │ <span class="pl-c1">0.532114</span>          │ USA    │ United States │ North America              │ Washington D<span class="pl-k">.</span>C. │ <span class="pl-k">-</span><span class="pl-c1">77.032</span>   │ <span class="pl-c1">38.8895</span>  │ High income         │ Not classified │</pre></div>
<p>This returns the GNI per capita and the arable land (hectares per
person) for the time range 1980-2008 for the US and Brazil. It also
attaches extra country information (the <code>extra=true</code> argument) like the
capital, longitude, latitude, income range, etc.</p>
<h2><a id="user-content-arguments" class="anchor" aria-hidden="true" href="#arguments"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Arguments</h2>
<p>The <code>wdi</code> function has the following arguments:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">wdi</span>(indicators<span class="pl-k">::</span><span class="pl-c1">Union{String,Array{String,1}}</span>, countries<span class="pl-k">::</span><span class="pl-c1">Union{String,Array{String,1}}</span>, startyear<span class="pl-k">::</span><span class="pl-c1">Integer</span><span class="pl-k">=</span><span class="pl-c1">1800</span>, endyear<span class="pl-k">::</span><span class="pl-c1">Integer</span><span class="pl-k">=</span><span class="pl-c1">3000</span>; extra<span class="pl-k">::</span><span class="pl-c1">Bool</span><span class="pl-k">=</span><span class="pl-c1">false</span>, verbose<span class="pl-k">::</span><span class="pl-c1">Bool</span><span class="pl-k">=</span><span class="pl-c1">false</span>)</pre></div>
<p>It needs a minimum of two arguments: the <code>indicators</code> (from the WDI
database) and the <code>countries</code> (ISO two letter country codes). The rest
are optional arguments.</p>
<p><code>startyear</code>: First year to include.</p>
<p><code>endyear</code>: Last year to include.</p>
<p><code>extra</code>: If <code>extra=true</code>, <code>wdi()</code> attaches extra country data (like the
capital) to the returned DataFrame.</p>
<p><code>verbose</code>: If <code>verbose=true</code>, <code>wdi()</code> will print URL download information. This
can be used as a progress indicator if many countries and indicators are
requested.</p>
<h2><a id="user-content-searching" class="anchor" aria-hidden="true" href="#searching"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Searching</h2>
<p>The most convenient way to explore the database is probably through a
web browser at <a href="https://data.worldbank.org" rel="nofollow">data.worldbank.org</a>.</p>
<p>However, the module does provide a search function: <code>search_wdi()</code>.</p>
<p>One can search for "countries" or "indicators" data.</p>
<h3><a id="user-content-example-for-country-search-by-name" class="anchor" aria-hidden="true" href="#example-for-country-search-by-name"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example for country search by name</h3>
<div class="highlight highlight-source-julia"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> WorldBankData
julia<span class="pl-k">&gt;</span> res<span class="pl-k">=</span><span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>countries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>united<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
julia<span class="pl-k">&gt;</span> res[<span class="pl-k">!</span>, <span class="pl-c1">:name</span>]
<span class="pl-c1">3</span><span class="pl-k">-</span>element DataArray{UTF8String,<span class="pl-c1">1</span>}<span class="pl-k">:</span>
 <span class="pl-s"><span class="pl-pds">"</span>United Arab Emirates<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>United Kingdom<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>United States<span class="pl-pds">"</span></span>
julia<span class="pl-k">&gt;</span> res[<span class="pl-k">!</span>, <span class="pl-c1">:iso2c</span>]
<span class="pl-c1">3</span><span class="pl-k">-</span>element DataArray{ASCIIString,<span class="pl-c1">1</span>}<span class="pl-k">:</span>
 <span class="pl-s"><span class="pl-pds">"</span>AE<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>GB<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span></pre></div>
<h3><a id="user-content-example-for-indicator-search-by-description" class="anchor" aria-hidden="true" href="#example-for-indicator-search-by-description"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example for indicator search by description</h3>
<div class="highlight highlight-source-julia"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> WorldBankData
julia<span class="pl-k">&gt;</span> res<span class="pl-k">=</span><span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>indicators<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>gross national expenditure<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-c1">6</span>x5 DataFrame
<span class="pl-k">...</span>
julia<span class="pl-k">&gt;</span> res[<span class="pl-k">!</span>, <span class="pl-c1">:name</span>]
<span class="pl-c1">6</span><span class="pl-k">-</span>element DataArray{UTF8String,<span class="pl-c1">1</span>}<span class="pl-k">:</span>
 <span class="pl-s"><span class="pl-pds">"</span>Gross national expenditure deflator (base year varies by country)<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>Gross national expenditure (current US<span class="pl-cce">\$</span>)<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>Gross national expenditure (current LCU)<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>Gross national expenditure (constant 2005 US<span class="pl-cce">\$</span>)<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>Gross national expenditure (constant LCU)<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>Gross national expenditure (% of GDP)<span class="pl-pds">"</span></span>

julia<span class="pl-k">&gt;</span> res[<span class="pl-k">!</span>, <span class="pl-c1">:indicator</span>]
<span class="pl-c1">6</span><span class="pl-k">-</span>element DataArray{UTF8String,<span class="pl-c1">1</span>}<span class="pl-k">:</span>
 <span class="pl-s"><span class="pl-pds">"</span>NE.DAB.DEFL.ZS<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>NE.DAB.TOTL.CD<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>NE.DAB.TOTL.CN<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>NE.DAB.TOTL.KD<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>NE.DAB.TOTL.KN<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>NE.DAB.TOTL.ZS<span class="pl-pds">"</span></span></pre></div>
<h3><a id="user-content-the-search_wdi-function" class="anchor" aria-hidden="true" href="#the-search_wdi-function"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The search_wdi() function</h3>
<p>The <code>search_wdi()</code> function has the following arguments</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">search_wdi</span>(data<span class="pl-k">::</span><span class="pl-c1">String</span>, entry<span class="pl-k">::</span><span class="pl-c1">String</span>, regx<span class="pl-k">::</span><span class="pl-c1">Regex</span>)<span class="pl-k">::</span><span class="pl-c1">DataFrame</span></pre></div>
<p><code>data</code>: Either <code>countries</code> or <code>indicators</code>.</p>
<p><code>entry</code>: One of the attributes (like name).</p>
<p><code>regex</code>: Regular expression to search for.</p>
<p>"countries" can be searched for "name", "region", "capital", "iso2c",
"iso3c", "income", and "lending".</p>
<p>"indicators" can be searched for "name", "description", "topics",
"source_database", and "source_organization".</p>
<p>The search function uses two DataFrames <code>country_cache</code> and
<code>indicator_cache</code> and searches through these. On the first search it
will download the data from the World Bank website. This takes much
longer for the larger indicators data. This only happens once per
session. After the first use the data is cached.</p>
<p>Note that the last argument to <code>search_wdi()</code> is a regular expression
denoted by <code>r"..."</code> and an <code>i</code> at the end means that it is case
insensitive.</p>
<h3><a id="user-content-examples-of-country-searches" class="anchor" aria-hidden="true" href="#examples-of-country-searches"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Examples of country searches</h3>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>countries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>iso2c<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>TZ<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-c1">1</span><span class="pl-k">×</span><span class="pl-c1">9</span> DataFrames<span class="pl-k">.</span>DataFrame
│ Row │ iso3c  │ iso2c  │ name     │ region              │ capital │ longitude │ latitude │ income     │ lending │
│     │ String │ String │ String   │ String              │ String  │ Float64⍰  │ Float64⍰ │ String     │ String  │
├─────┼────────┼────────┼──────────┼─────────────────────┼─────────┼───────────┼──────────┼────────────┼─────────┤
│ <span class="pl-c1">1</span>   │ TZA    │ TZ     │ Tanzania │ Sub<span class="pl-k">-</span>Saharan Africa  │ Dodoma  │ <span class="pl-c1">35.7382</span>   │ <span class="pl-k">-</span><span class="pl-c1">6.17486</span> │ Low income │ IDA     │

julia<span class="pl-k">&gt;</span> <span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>countries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>income<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>upper middle<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-k">...</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>countries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>region<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>Latin America<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-k">...</span>

<span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>countries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>capital<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>^Ka<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-c1">3</span><span class="pl-k">×</span><span class="pl-c1">9</span> DataFrames<span class="pl-k">.</span>DataFrame
│ Row │ iso3c  │ iso2c  │ name        │ region              │ capital   │ longitude │ latitude │ income     │ lending │
│     │ String │ String │ String      │ String              │ String    │ Float64⍰  │ Float64⍰ │ String     │ String  │
├─────┼────────┼────────┼─────────────┼─────────────────────┼───────────┼───────────┼──────────┼────────────┼─────────┤
│ <span class="pl-c1">1</span>   │ AFG    │ AF     │ Afghanistan │ South Asia          │ Kabul     │ <span class="pl-c1">69.1761</span>   │ <span class="pl-c1">34.5228</span>  │ Low income │ IDA     │
│ <span class="pl-c1">2</span>   │ NPL    │ NP     │ Nepal       │ South Asia          │ Kathmandu │ <span class="pl-c1">85.3157</span>   │ <span class="pl-c1">27.6939</span>  │ Low income │ IDA     │
│ <span class="pl-c1">3</span>   │ UGA    │ UG     │ Uganda      │ Sub<span class="pl-k">-</span>Saharan Africa  │ Kampala   │ <span class="pl-c1">32.5729</span>   │ <span class="pl-c1">0.314269</span> │ Low income │ IDA     │

julia<span class="pl-k">&gt;</span> <span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>countries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>lending<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>IBRD<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-k">...</span>
</pre></div>
<h3><a id="user-content-examples-of-indicator-searches" class="anchor" aria-hidden="true" href="#examples-of-indicator-searches"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Examples of indicator searches</h3>
<div class="highlight highlight-source-julia"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>indicators<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>gross national expenditure<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-k">...</span>
julia<span class="pl-k">&gt;</span> <span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>indicators<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>gross national expenditure<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-k">...</span>
julia<span class="pl-k">&gt;</span> <span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>indicators<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>source_database<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>Sustainable<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-k">...</span>
julia<span class="pl-k">&gt;</span> <span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>indicators<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>source_organization<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>Global Partnership<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
</pre></div>
<h2><a id="user-content-tips-and-tricks" class="anchor" aria-hidden="true" href="#tips-and-tricks"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tips and Tricks</h2>
<h3><a id="user-content-extracting-country-data-from-results" class="anchor" aria-hidden="true" href="#extracting-country-data-from-results"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Extracting country data from results</h3>
<div class="highlight highlight-source-julia"><pre>df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>NY.GNP.PCAP.CD<span class="pl-pds">"</span></span>, [<span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>BR<span class="pl-pds">"</span></span>], <span class="pl-c1">1980</span>, <span class="pl-c1">2012</span>, extra<span class="pl-k">=</span><span class="pl-c1">true</span>)
us_gnp <span class="pl-k">=</span> df[df[<span class="pl-k">!</span>, <span class="pl-c1">:iso2c</span>] <span class="pl-k">.==</span> <span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>, :]</pre></div>
<h3><a id="user-content-year-format" class="anchor" aria-hidden="true" href="#year-format"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Year format</h3>
<p>For similarity with the
<a href="https://cran.r-project.org/web/packages/WDI/index.html" rel="nofollow">R WDI package</a> the <code>:year</code>
column is in Float64 format. WDI data is yearly.</p>
<p>You can easily convert this to a Date series:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> WorldBankData
<span class="pl-k">using</span> Dates

df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>AG.LND.ARBL.HA.PC<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>, <span class="pl-c1">1900</span>, <span class="pl-c1">2011</span>)
df[<span class="pl-k">!</span>, <span class="pl-c1">:year</span>] <span class="pl-k">=</span> <span class="pl-c1">map</span>(Date, df[<span class="pl-k">!</span>, <span class="pl-c1">:year</span>])</pre></div>
<h3><a id="user-content-plotting" class="anchor" aria-hidden="true" href="#plotting"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Plotting</h3>
<p>Install the <a href="https://github.com/JuliaPlots/StatsPlots.jl">StatsPlots.jl</a> package with
<code>Pkg.add("StatsPlots")</code>.</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> WorldBankData
<span class="pl-k">using</span> StatsPlots
<span class="pl-c1">gr</span>(size<span class="pl-k">=</span>(<span class="pl-c1">400</span>,<span class="pl-c1">300</span>))

df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>AG.LND.ARBL.HA.PC<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>, <span class="pl-c1">1980</span>, <span class="pl-c1">2010</span>)

<span class="pl-c1">@df</span> df <span class="pl-c1">scatter</span>(<span class="pl-c1">:year</span>, <span class="pl-c1">:AG_LND_ARBL_HA_PC</span>)</pre></div>
<h3><a id="user-content-emptymissing-results" class="anchor" aria-hidden="true" href="#emptymissing-results"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Empty/Missing results</h3>
<p><code>wdi</code> will return a DataFrame with missing values if there is no data:</p>
<div class="highlight highlight-source-julia"><pre>julia<span class="pl-k">&gt;</span> df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>EN.ATM.CO2E.KT<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>AS<span class="pl-pds">"</span></span>)
<span class="pl-c1">60</span><span class="pl-k">×</span><span class="pl-c1">4</span> DataFrames<span class="pl-k">.</span>DataFrame
│ Row │ iso2c  │ country        │ EN_ATM_CO2E_KT │ year    │
│     │ String │ String         │ Missing        │ Float64 │
├─────┼────────┼────────────────┼────────────────┼─────────┤
│ <span class="pl-c1">1</span>   │ AS     │ American Samoa │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">1960.0</span>  │
│ <span class="pl-c1">2</span>   │ AS     │ American Samoa │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">1961.0</span>  │
│ <span class="pl-c1">3</span>   │ AS     │ American Samoa │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">1962.0</span>  │
<span class="pl-k">...</span>

julia<span class="pl-k">&gt;</span> df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>EN.ATM.CO2E.KT<span class="pl-pds">"</span></span>, [<span class="pl-s"><span class="pl-pds">"</span>AS<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>])
<span class="pl-c1">120</span><span class="pl-k">×</span><span class="pl-c1">4</span> DataFrames<span class="pl-k">.</span>DataFrame
│ Row │ iso2c  │ country        │ EN_ATM_CO2E_KT │ year    │
│     │ String │ String         │ Float64⍰       │ Float64 │
├─────┼────────┼────────────────┼────────────────┼─────────┤
│ <span class="pl-c1">1</span>   │ AS     │ American Samoa │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">1960.0</span>  │
│ <span class="pl-c1">2</span>   │ AS     │ American Samoa │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">1961.0</span>  │
<span class="pl-k">...</span>
│ <span class="pl-c1">114</span> │ US     │ United States  │ <span class="pl-c1">5.15916e6</span>      │ <span class="pl-c1">2013.0</span>  │
│ <span class="pl-c1">115</span> │ US     │ United States  │ <span class="pl-c1">5.25428e6</span>      │ <span class="pl-c1">2014.0</span>  │
│ <span class="pl-c1">116</span> │ US     │ United States  │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">2015.0</span>  │
│ <span class="pl-c1">120</span> │ US     │ United States  │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">2019.0</span>  │
<span class="pl-k">...</span></pre></div>
<h3><a id="user-content-cache" class="anchor" aria-hidden="true" href="#cache"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cache</h3>
<p>The data in the World Bank database changes infrequently. Therefore it
makes little sense to download it every time a script is run.</p>
<h4><a id="user-content-metadata" class="anchor" aria-hidden="true" href="#metadata"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Metadata</h4>
<p>The <code>search_wdi()</code> function internally caches the country and
indicator metadata and therefore downloads the country and indicator
data only once per session. Even that is usually not necessary. This
data can easily be stored on local disk.</p>
<p>Download and store the country and indicator information in csv files:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> WorldBankData
<span class="pl-k">using</span> DataFrames
<span class="pl-k">using</span> CSV
CSV<span class="pl-k">.</span><span class="pl-c1">write</span>(<span class="pl-s"><span class="pl-pds">"</span>country_cache.csv<span class="pl-pds">"</span></span>,WorldBankData<span class="pl-k">.</span><span class="pl-c1">get_countries</span>())
CSV<span class="pl-k">.</span><span class="pl-c1">write</span>(<span class="pl-s"><span class="pl-pds">"</span>indicator_cache.csv<span class="pl-pds">"</span></span>, WorldBankData<span class="pl-k">.</span><span class="pl-c1">get_indicators</span>())</pre></div>
<p>These can be used in the script to set the WorldBankData cache
variables <code>WorldBankData.country_cache</code> and
<code>WorldBankData.indicator_cache</code> (which are initialized to <code>false</code>)
using the <code>WorldBankData.set_country_cache()</code> and
<code>WorldBankData.set_indicator_cache()</code> functions:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> WorldBankData
<span class="pl-k">using</span> DataFrames
WorldBankData<span class="pl-k">.</span><span class="pl-c1">set_country_cache</span>(CSV<span class="pl-k">.</span><span class="pl-c1">read</span>(<span class="pl-s"><span class="pl-pds">"</span>country_cache.csv<span class="pl-pds">"</span></span>))
WorldBankData<span class="pl-k">.</span><span class="pl-c1">set_indicator_cache</span>(CSV<span class="pl-k">.</span><span class="pl-c1">read</span>(<span class="pl-s"><span class="pl-pds">"</span>indicator_cache.csv<span class="pl-pds">"</span></span>))</pre></div>
<p>From then on the <code>search_wdi()</code> function will use the data read from
disk.</p>
<p>The caches can be reset with <code>WorldBankData.reset_country_cache()</code>
and <code>WorldBankData.reset_indicator_cache()</code>.</p>
<h4><a id="user-content-indicator-data" class="anchor" aria-hidden="true" href="#indicator-data"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Indicator data</h4>
<p>In a similar way the indicator data itself can be cached.</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> WorldBankData
<span class="pl-k">using</span> DataFrames
<span class="pl-k">using</span> CSV

<span class="pl-k">function</span> <span class="pl-en">update_us_gnp_per_cap</span>()
    df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>NY.GNP.PCAP.CD<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>)
    CSV<span class="pl-k">.</span><span class="pl-c1">write</span>(<span class="pl-s"><span class="pl-pds">"</span>us_gnp.csv<span class="pl-pds">"</span></span>,df)
<span class="pl-k">end</span>
df <span class="pl-k">=</span> CSV<span class="pl-k">.</span><span class="pl-c1">read</span>(<span class="pl-s"><span class="pl-pds">"</span>us_gnp.csv<span class="pl-pds">"</span></span>)</pre></div>
<p>one then runs the <code>update_us_gnp_per_cap()</code> function only when needed.</p>
</article></div>