<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1><a id="user-content-world-bank-data-in-julia" class="anchor" aria-hidden="true" href="#world-bank-data-in-julia"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>World Bank Data in Julia</h1>
<p>The World Bank provides access to global development data at
<a href="https://data.worldbank.org" rel="nofollow">data.worldbank.org</a>.</p>
<p>The primary collection of development indicators is called World
Development Indicators (WDI).</p>
<p>This module provides two functions to access and download the data:
<code>search_wdi()</code> and <code>wdi()</code>. These functions return
<a href="https://github.com/JuliaData/DataFrames.jl">DataFrames</a>.</p>
<p>It follows roughly the
<a href="https://cran.r-project.org/web/packages/WDI/index.html" rel="nofollow">R WDI package</a>.</p>
<h2><a id="user-content-build-status" class="anchor" aria-hidden="true" href="#build-status"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Build Status</h2>
<p><a href="https://github.com/4gh/WorldBankData.jl/actions?query=workflow%3A%22WorldBankData.jl+Continous+Integration%22"><img src="https://github.com/4gh/WorldBankData.jl/workflows/WorldBankData.jl%20Continous%20Integration/badge.svg" alt="GitHub Build Status" style="max-width:100%;"></a></p>
<h2><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="using Pkg
Pkg.add(&quot;WorldBankData&quot;)
"><pre><span class="pl-k">using</span> Pkg
Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-s"><span class="pl-pds">"</span>WorldBankData<span class="pl-pds">"</span></span>)</pre></div>
<h2><a id="user-content-basic-examples" class="anchor" aria-hidden="true" href="#basic-examples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Basic Examples</h2>
<p>Get a DataFrame of the U.S. population:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="julia&gt; using WorldBankData
julia&gt; df = wdi(&quot;SP.POP.TOTL&quot;, &quot;US&quot;)
60×4 DataFrame
│ Row │ iso2c  │ country       │ year    │ SP_POP_TOTL │
│     │ String │ String        │ Float64 │ Float64?    │
├─────┼────────┼───────────────┼─────────┼─────────────┤
│ 1   │ US     │ United States │ 1960.0  │ 1.80671e8   │
│ 2   │ US     │ United States │ 1961.0  │ 1.83691e8   │
⋮
│ 59  │ US     │ United States │ 2018.0  │ 3.26688e8   │
│ 60  │ US     │ United States │ 2019.0  │ 3.2824e8    │
"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> WorldBankData
julia<span class="pl-k">&gt;</span> df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>SP.POP.TOTL<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>)
<span class="pl-c1">60</span><span class="pl-k">×</span><span class="pl-c1">4</span> DataFrame
│ Row │ iso2c  │ country       │ year    │ SP_POP_TOTL │
│     │ String │ String        │ Float64 │ Float64?    │
├─────┼────────┼───────────────┼─────────┼─────────────┤
│ <span class="pl-c1">1</span>   │ US     │ United States │ <span class="pl-c1">1960.0</span>  │ <span class="pl-c1">1.80671e8</span>   │
│ <span class="pl-c1">2</span>   │ US     │ United States │ <span class="pl-c1">1961.0</span>  │ <span class="pl-c1">1.83691e8</span>   │
⋮
│ <span class="pl-c1">59</span>  │ US     │ United States │ <span class="pl-c1">2018.0</span>  │ <span class="pl-c1">3.26688e8</span>   │
│ <span class="pl-c1">60</span>  │ US     │ United States │ <span class="pl-c1">2019.0</span>  │ <span class="pl-c1">3.2824e8</span>    │</pre></div>
<p>The WDI indicator <code>SP.POP.TOTL</code> becomes the column <code>SP_POP_TOTL</code> in the
DataFrame, i.e. <code>.</code> gets replaced by <code>_</code>.</p>
<p>Get a DataFrame of the U.S. population from 1980 until 2012 including region data:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="julia&gt; df = wdi(&quot;SP.POP.TOTL&quot;, &quot;US&quot;, 1980, 2012, extra=true)
33×12 DataFrame. Omitted printing of 5 columns
│ Row │ iso2c  │ country       │ SP_POP_TOTL │ year    │ iso3c  │ name          │ region        │
│     │ String │ String        │ Float64?    │ Float64 │ String │ String        │ String        │
├─────┼────────┼───────────────┼─────────────┼─────────┼────────┼───────────────┼───────────────┤
│ 1   │ US     │ United States │ 2.27225e8   │ 1980.0  │ USA    │ United States │ North America │
│ 2   │ US     │ United States │ 2.29466e8   │ 1981.0  │ USA    │ United States │ North America │
⋮
│ 32  │ US     │ United States │ 3.11557e8   │ 2011.0  │ USA    │ United States │ North America │
│ 33  │ US     │ United States │ 3.13831e8   │ 2012.0  │ USA    │ United States │ North America │
"><pre>julia<span class="pl-k">&gt;</span> df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>SP.POP.TOTL<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>, <span class="pl-c1">1980</span>, <span class="pl-c1">2012</span>, extra<span class="pl-k">=</span><span class="pl-c1">true</span>)
<span class="pl-c1">33</span><span class="pl-k">×</span><span class="pl-c1">12</span> DataFrame. Omitted printing of <span class="pl-c1">5</span> columns
│ Row │ iso2c  │ country       │ SP_POP_TOTL │ year    │ iso3c  │ name          │ region        │
│     │ String │ String        │ Float64?    │ Float64 │ String │ String        │ String        │
├─────┼────────┼───────────────┼─────────────┼─────────┼────────┼───────────────┼───────────────┤
│ <span class="pl-c1">1</span>   │ US     │ United States │ <span class="pl-c1">2.27225e8</span>   │ <span class="pl-c1">1980.0</span>  │ USA    │ United States │ North America │
│ <span class="pl-c1">2</span>   │ US     │ United States │ <span class="pl-c1">2.29466e8</span>   │ <span class="pl-c1">1981.0</span>  │ USA    │ United States │ North America │
⋮
│ <span class="pl-c1">32</span>  │ US     │ United States │ <span class="pl-c1">3.11557e8</span>   │ <span class="pl-c1">2011.0</span>  │ USA    │ United States │ North America │
│ <span class="pl-c1">33</span>  │ US     │ United States │ <span class="pl-c1">3.13831e8</span>   │ <span class="pl-c1">2012.0</span>  │ USA    │ United States │ North America │</pre></div>
<p>ISO 3 letter country codes are also supported:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="df = wdi(&quot;SP.POP.TOTL&quot;, &quot;USA&quot;, 1980, 2012)
"><pre>df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>SP.POP.TOTL<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>USA<span class="pl-pds">"</span></span>, <span class="pl-c1">1980</span>, <span class="pl-c1">2012</span>)</pre></div>
<p>Multiple indicators and countries can be requested:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="julia&gt; df = wdi([&quot;SP.POP.TOTL&quot;, &quot;NY.GDP.MKTP.CD&quot;], [&quot;US&quot;,&quot;BR&quot;], 1980, 2012)
66×5 DataFrame
│ Row │ iso2c  │ country       │ year    │ NY_GDP_MKTP_CD │ SP_POP_TOTL │
│     │ String │ String        │ Float64 │ Float64?       │ Float64?    │
├─────┼────────┼───────────────┼─────────┼────────────────┼─────────────┤
│ 1   │ BR     │ Brazil        │ 1980.0  │ 2.35025e11     │ 1.20694e8   │
│ 2   │ BR     │ Brazil        │ 1981.0  │ 2.63561e11     │ 1.2357e8    │
⋮
│ 65  │ US     │ United States │ 2011.0  │ 1.55426e13     │ 3.11557e8   │
│ 66  │ US     │ United States │ 2012.0  │ 1.6197e13      │ 3.13831e8   │
"><pre>julia<span class="pl-k">&gt;</span> df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>([<span class="pl-s"><span class="pl-pds">"</span>SP.POP.TOTL<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>NY.GDP.MKTP.CD<span class="pl-pds">"</span></span>], [<span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>BR<span class="pl-pds">"</span></span>], <span class="pl-c1">1980</span>, <span class="pl-c1">2012</span>)
<span class="pl-c1">66</span><span class="pl-k">×</span><span class="pl-c1">5</span> DataFrame
│ Row │ iso2c  │ country       │ year    │ NY_GDP_MKTP_CD │ SP_POP_TOTL │
│     │ String │ String        │ Float64 │ Float64?       │ Float64?    │
├─────┼────────┼───────────────┼─────────┼────────────────┼─────────────┤
│ <span class="pl-c1">1</span>   │ BR     │ Brazil        │ <span class="pl-c1">1980.0</span>  │ <span class="pl-c1">2.35025e11</span>     │ <span class="pl-c1">1.20694e8</span>   │
│ <span class="pl-c1">2</span>   │ BR     │ Brazil        │ <span class="pl-c1">1981.0</span>  │ <span class="pl-c1">2.63561e11</span>     │ <span class="pl-c1">1.2357e8</span>    │
⋮
│ <span class="pl-c1">65</span>  │ US     │ United States │ <span class="pl-c1">2011.0</span>  │ <span class="pl-c1">1.55426e13</span>     │ <span class="pl-c1">3.11557e8</span>   │
│ <span class="pl-c1">66</span>  │ US     │ United States │ <span class="pl-c1">2012.0</span>  │ <span class="pl-c1">1.6197e13</span>      │ <span class="pl-c1">3.13831e8</span>   │</pre></div>
<p>By default a wide DataFrame is returned (indicators are columns). The data can also be returned in long format which might be more useful if many indicators are requested:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="julia&gt; df = wdi([&quot;SP.POP.TOTL&quot;, &quot;NY.GDP.MKTP.CD&quot;], [&quot;US&quot;,&quot;BR&quot;], 1980, 2012, dflong=true)
132×5 DataFrame
│ Row │ iso2c  │ country       │ year    │ indicator      │ value      │
│     │ String │ String        │ Float64 │ String         │ Float64?   │
├─────┼────────┼───────────────┼─────────┼────────────────┼────────────┤
│ 1   │ BR     │ Brazil        │ 1980.0  │ SP.POP.TOTL    │ 1.20694e8  │
│ 2   │ BR     │ Brazil        │ 1980.0  │ NY.GDP.MKTP.CD │ 2.35025e11 │
⋮
│ 131 │ US     │ United States │ 2012.0  │ SP.POP.TOTL    │ 3.13831e8  │
│ 132 │ US     │ United States │ 2012.0  │ NY.GDP.MKTP.CD │ 1.6197e13  │
"><pre>julia<span class="pl-k">&gt;</span> df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>([<span class="pl-s"><span class="pl-pds">"</span>SP.POP.TOTL<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>NY.GDP.MKTP.CD<span class="pl-pds">"</span></span>], [<span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>BR<span class="pl-pds">"</span></span>], <span class="pl-c1">1980</span>, <span class="pl-c1">2012</span>, dflong<span class="pl-k">=</span><span class="pl-c1">true</span>)
<span class="pl-c1">132</span><span class="pl-k">×</span><span class="pl-c1">5</span> DataFrame
│ Row │ iso2c  │ country       │ year    │ indicator      │ value      │
│     │ String │ String        │ Float64 │ String         │ Float64?   │
├─────┼────────┼───────────────┼─────────┼────────────────┼────────────┤
│ <span class="pl-c1">1</span>   │ BR     │ Brazil        │ <span class="pl-c1">1980.0</span>  │ SP<span class="pl-k">.</span>POP<span class="pl-k">.</span>TOTL    │ <span class="pl-c1">1.20694e8</span>  │
│ <span class="pl-c1">2</span>   │ BR     │ Brazil        │ <span class="pl-c1">1980.0</span>  │ NY<span class="pl-k">.</span>GDP<span class="pl-k">.</span>MKTP<span class="pl-k">.</span>CD │ <span class="pl-c1">2.35025e11</span> │
⋮
│ <span class="pl-c1">131</span> │ US     │ United States │ <span class="pl-c1">2012.0</span>  │ SP<span class="pl-k">.</span>POP<span class="pl-k">.</span>TOTL    │ <span class="pl-c1">3.13831e8</span>  │
│ <span class="pl-c1">132</span> │ US     │ United States │ <span class="pl-c1">2012.0</span>  │ NY<span class="pl-k">.</span>GDP<span class="pl-k">.</span>MKTP<span class="pl-k">.</span>CD │ <span class="pl-c1">1.6197e13</span>  │</pre></div>
<p>Get a DataFrame of the total population for all countries from 1980 to 2012:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="using WorldBankData
df = wdi(&quot;SP.POP.TOTL&quot;, &quot;all&quot;, 1980, 2012)
"><pre><span class="pl-k">using</span> WorldBankData
df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>SP.POP.TOTL<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>all<span class="pl-pds">"</span></span>, <span class="pl-c1">1980</span>, <span class="pl-c1">2012</span>)</pre></div>
<h2><a id="user-content-arguments" class="anchor" aria-hidden="true" href="#arguments"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Arguments</h2>
<p>The <code>wdi</code> function has the following arguments:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="function wdi(indicators::Union{String,Array{String,1}}, countries::Union{String,Array{String,1}},
             startyear::Integer=-1, endyear::Integer=-1;
             extra::Bool=false, sourceid::Integer=2, dflong::Bool=false, verbose::Bool=false)::DataFrame
"><pre><span class="pl-k">function</span> <span class="pl-en">wdi</span>(indicators<span class="pl-k">::</span><span class="pl-c1">Union{String,Array{String,1}}</span>, countries<span class="pl-k">::</span><span class="pl-c1">Union{String,Array{String,1}}</span>,
             startyear<span class="pl-k">::</span><span class="pl-c1">Integer</span><span class="pl-k">=</span><span class="pl-k">-</span><span class="pl-c1">1</span>, endyear<span class="pl-k">::</span><span class="pl-c1">Integer</span><span class="pl-k">=</span><span class="pl-k">-</span><span class="pl-c1">1</span>;
             extra<span class="pl-k">::</span><span class="pl-c1">Bool</span><span class="pl-k">=</span><span class="pl-c1">false</span>, sourceid<span class="pl-k">::</span><span class="pl-c1">Integer</span><span class="pl-k">=</span><span class="pl-c1">2</span>, dflong<span class="pl-k">::</span><span class="pl-c1">Bool</span><span class="pl-k">=</span><span class="pl-c1">false</span>, verbose<span class="pl-k">::</span><span class="pl-c1">Bool</span><span class="pl-k">=</span><span class="pl-c1">false</span>)<span class="pl-k">::</span><span class="pl-c1">DataFrame</span></pre></div>
<p>It needs a minimum of two arguments: the <code>indicators</code> (from the WDI
database) and the <code>countries</code> (ISO two or three letter country codes or <code>"all"</code> for all countries). The rest
are optional arguments.</p>
<p><code>startyear</code>: First year to include.</p>
<p><code>endyear</code>: Last year to include.</p>
<p><code>extra</code>: If <code>extra=true</code>, <code>wdi()</code> attaches extra country data to the returned DataFrame.</p>
<p><code>sourceid</code>: Database source number, see <a href="https://api.worldbank.org/v2/sources" rel="nofollow">https://api.worldbank.org/v2/sources</a></p>
<p><code>dflong</code>: If <code>dflong=true</code> return long DataFrame format. Default is wide. If many indicators are requested <code>long</code> might be preferable.</p>
<p><code>verbose</code>: If <code>verbose=true</code>, <code>wdi()</code> will print URL download information.</p>
<h2><a id="user-content-searching" class="anchor" aria-hidden="true" href="#searching"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Searching</h2>
<p>The most convenient way to explore the database is probably through a
web browser at <a href="https://data.worldbank.org" rel="nofollow">data.worldbank.org</a>.</p>
<p>However, the module does provide a search function: <code>search_wdi()</code>.</p>
<p>One can search for "countries" or "indicators" data.</p>
<h3><a id="user-content-example-for-country-search-by-name" class="anchor" aria-hidden="true" href="#example-for-country-search-by-name"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Example for country search by name</h3>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="julia&gt; using WorldBankData
julia&gt; res=search_wdi(&quot;countries&quot;,&quot;name&quot;,r&quot;united&quot;i)
julia&gt; res[!, :name]
3-element DataArray{UTF8String,1}:
 &quot;United Arab Emirates&quot;
 &quot;United Kingdom&quot;
 &quot;United States&quot;
julia&gt; res[!, :iso2c]
3-element DataArray{ASCIIString,1}:
 &quot;AE&quot;
 &quot;GB&quot;
 &quot;US&quot;
"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> WorldBankData
julia<span class="pl-k">&gt;</span> res<span class="pl-k">=</span><span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>countries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>united<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
julia<span class="pl-k">&gt;</span> res[<span class="pl-k">!</span>, <span class="pl-c1">:name</span>]
<span class="pl-c1">3</span><span class="pl-k">-</span>element DataArray{UTF8String,<span class="pl-c1">1</span>}<span class="pl-k">:</span>
 <span class="pl-s"><span class="pl-pds">"</span>United Arab Emirates<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>United Kingdom<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>United States<span class="pl-pds">"</span></span>
julia<span class="pl-k">&gt;</span> res[<span class="pl-k">!</span>, <span class="pl-c1">:iso2c</span>]
<span class="pl-c1">3</span><span class="pl-k">-</span>element DataArray{ASCIIString,<span class="pl-c1">1</span>}<span class="pl-k">:</span>
 <span class="pl-s"><span class="pl-pds">"</span>AE<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>GB<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span></pre></div>
<h3><a id="user-content-example-for-indicator-search-by-description" class="anchor" aria-hidden="true" href="#example-for-indicator-search-by-description"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Example for indicator search by description</h3>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="julia&gt; using WorldBankData
julia&gt; res=search_wdi(&quot;indicators&quot;,&quot;description&quot;,r&quot;gross national expenditure&quot;i)
6x5 DataFrame
...
julia&gt; res[!, :name]
6-element DataArray{UTF8String,1}:
 &quot;Gross national expenditure deflator (base year varies by country)&quot;
 &quot;Gross national expenditure (current US\$)&quot;
 &quot;Gross national expenditure (current LCU)&quot;
 &quot;Gross national expenditure (constant 2005 US\$)&quot;
 &quot;Gross national expenditure (constant LCU)&quot;
 &quot;Gross national expenditure (% of GDP)&quot;

julia&gt; res[!, :indicator]
6-element DataArray{UTF8String,1}:
 &quot;NE.DAB.DEFL.ZS&quot;
 &quot;NE.DAB.TOTL.CD&quot;
 &quot;NE.DAB.TOTL.CN&quot;
 &quot;NE.DAB.TOTL.KD&quot;
 &quot;NE.DAB.TOTL.KN&quot;
 &quot;NE.DAB.TOTL.ZS&quot;
"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> WorldBankData
julia<span class="pl-k">&gt;</span> res<span class="pl-k">=</span><span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>indicators<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>gross national expenditure<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-c1">6</span>x5 DataFrame
<span class="pl-k">...</span>
julia<span class="pl-k">&gt;</span> res[<span class="pl-k">!</span>, <span class="pl-c1">:name</span>]
<span class="pl-c1">6</span><span class="pl-k">-</span>element DataArray{UTF8String,<span class="pl-c1">1</span>}<span class="pl-k">:</span>
 <span class="pl-s"><span class="pl-pds">"</span>Gross national expenditure deflator (base year varies by country)<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>Gross national expenditure (current US<span class="pl-cce">\$</span>)<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>Gross national expenditure (current LCU)<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>Gross national expenditure (constant 2005 US<span class="pl-cce">\$</span>)<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>Gross national expenditure (constant LCU)<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>Gross national expenditure (% of GDP)<span class="pl-pds">"</span></span>

julia<span class="pl-k">&gt;</span> res[<span class="pl-k">!</span>, <span class="pl-c1">:indicator</span>]
<span class="pl-c1">6</span><span class="pl-k">-</span>element DataArray{UTF8String,<span class="pl-c1">1</span>}<span class="pl-k">:</span>
 <span class="pl-s"><span class="pl-pds">"</span>NE.DAB.DEFL.ZS<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>NE.DAB.TOTL.CD<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>NE.DAB.TOTL.CN<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>NE.DAB.TOTL.KD<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>NE.DAB.TOTL.KN<span class="pl-pds">"</span></span>
 <span class="pl-s"><span class="pl-pds">"</span>NE.DAB.TOTL.ZS<span class="pl-pds">"</span></span></pre></div>
<h3><a id="user-content-the-search_wdi-function" class="anchor" aria-hidden="true" href="#the-search_wdi-function"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>The search_wdi() function</h3>
<p>The <code>search_wdi()</code> function has the following arguments</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="search_wdi(data::String, entry::String, regx::Regex)::DataFrame
"><pre><span class="pl-c1">search_wdi</span>(data<span class="pl-k">::</span><span class="pl-c1">String</span>, entry<span class="pl-k">::</span><span class="pl-c1">String</span>, regx<span class="pl-k">::</span><span class="pl-c1">Regex</span>)<span class="pl-k">::</span><span class="pl-c1">DataFrame</span></pre></div>
<p><code>data</code>: Either <code>countries</code> or <code>indicators</code>.</p>
<p><code>entry</code>: One of the attributes (like name).</p>
<p><code>regex</code>: Regular expression to search for.</p>
<p>"countries" can be searched for "name", "region", "capital", "iso2c",
"iso3c", "income", and "lending".</p>
<p>"indicators" can be searched for "name", "description", "topics",
"source_database", and "source_organization".</p>
<p>The search function uses two DataFrames <code>country_cache</code> and
<code>indicator_cache</code> and searches through these. On the first search it
will download the data from the World Bank website. This takes much
longer for the larger indicators data. This only happens once per
session. After the first use the data is cached.</p>
<p>Note that the last argument to <code>search_wdi()</code> is a regular expression
denoted by <code>r"..."</code> and an <code>i</code> at the end means that it is case
insensitive.</p>
<h3><a id="user-content-examples-of-country-searches" class="anchor" aria-hidden="true" href="#examples-of-country-searches"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Examples of country searches</h3>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="julia&gt; search_wdi(&quot;countries&quot;,&quot;iso2c&quot;,r&quot;TZ&quot;i)
1×9 DataFrame. Omitted printing of 2 columns
│ Row │ iso3c  │ iso2c  │ name     │ region              │ capital │ longitude │ latitude │
│     │ String │ String │ String   │ String              │ String  │ Float64?  │ Float64? │
├─────┼────────┼────────┼──────────┼─────────────────────┼─────────┼───────────┼──────────┤
│ 1   │ TZA    │ TZ     │ Tanzania │ Sub-Saharan Africa  │ Dodoma  │ 35.7382   │ -6.17486 │

julia&gt; search_wdi(&quot;countries&quot;,&quot;income&quot;,r&quot;upper middle&quot;i)
...

julia&gt; search_wdi(&quot;countries&quot;,&quot;region&quot;,r&quot;Latin America&quot;i)
...

julia&gt; search_wdi(&quot;countries&quot;,&quot;capital&quot;,r&quot;^Ka&quot;i)
3×9 DataFrame. Omitted printing of 2 columns
│ Row │ iso3c  │ iso2c  │ name        │ region              │ capital   │ longitude │ latitude │
│     │ String │ String │ String      │ String              │ String    │ Float64?  │ Float64? │
├─────┼────────┼────────┼─────────────┼─────────────────────┼───────────┼───────────┼──────────┤
│ 1   │ AFG    │ AF     │ Afghanistan │ South Asia          │ Kabul     │ 69.1761   │ 34.5228  │
│ 2   │ NPL    │ NP     │ Nepal       │ South Asia          │ Kathmandu │ 85.3157   │ 27.6939  │
│ 3   │ UGA    │ UG     │ Uganda      │ Sub-Saharan Africa  │ Kampala   │ 32.5729   │ 0.314269 │

julia&gt; search_wdi(&quot;countries&quot;,&quot;lending&quot;,r&quot;IBRD&quot;i)
...

"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>countries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>iso2c<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>TZ<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-c1">1</span><span class="pl-k">×</span><span class="pl-c1">9</span> DataFrame. Omitted printing of <span class="pl-c1">2</span> columns
│ Row │ iso3c  │ iso2c  │ name     │ region              │ capital │ longitude │ latitude │
│     │ String │ String │ String   │ String              │ String  │ Float64?  │ Float64? │
├─────┼────────┼────────┼──────────┼─────────────────────┼─────────┼───────────┼──────────┤
│ <span class="pl-c1">1</span>   │ TZA    │ TZ     │ Tanzania │ Sub<span class="pl-k">-</span>Saharan Africa  │ Dodoma  │ <span class="pl-c1">35.7382</span>   │ <span class="pl-k">-</span><span class="pl-c1">6.17486</span> │

julia<span class="pl-k">&gt;</span> <span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>countries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>income<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>upper middle<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-k">...</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>countries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>region<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>Latin America<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-k">...</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>countries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>capital<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>^Ka<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-c1">3</span><span class="pl-k">×</span><span class="pl-c1">9</span> DataFrame. Omitted printing of <span class="pl-c1">2</span> columns
│ Row │ iso3c  │ iso2c  │ name        │ region              │ capital   │ longitude │ latitude │
│     │ String │ String │ String      │ String              │ String    │ Float64?  │ Float64? │
├─────┼────────┼────────┼─────────────┼─────────────────────┼───────────┼───────────┼──────────┤
│ <span class="pl-c1">1</span>   │ AFG    │ AF     │ Afghanistan │ South Asia          │ Kabul     │ <span class="pl-c1">69.1761</span>   │ <span class="pl-c1">34.5228</span>  │
│ <span class="pl-c1">2</span>   │ NPL    │ NP     │ Nepal       │ South Asia          │ Kathmandu │ <span class="pl-c1">85.3157</span>   │ <span class="pl-c1">27.6939</span>  │
│ <span class="pl-c1">3</span>   │ UGA    │ UG     │ Uganda      │ Sub<span class="pl-k">-</span>Saharan Africa  │ Kampala   │ <span class="pl-c1">32.5729</span>   │ <span class="pl-c1">0.314269</span> │

julia<span class="pl-k">&gt;</span> <span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>countries<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>lending<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>IBRD<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-k">...</span>
</pre></div>
<h3><a id="user-content-examples-of-indicator-searches" class="anchor" aria-hidden="true" href="#examples-of-indicator-searches"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Examples of indicator searches</h3>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="julia&gt; search_wdi(&quot;indicators&quot;,&quot;name&quot;,r&quot;gross national expenditure&quot;i)
...
julia&gt; search_wdi(&quot;indicators&quot;,&quot;description&quot;,r&quot;gross national expenditure&quot;i)
...
julia&gt; search_wdi(&quot;indicators&quot;,&quot;source_database&quot;,r&quot;Sustainable&quot;i)
...
julia&gt; search_wdi(&quot;indicators&quot;,&quot;source_organization&quot;,r&quot;Global Partnership&quot;i)

"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>indicators<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>gross national expenditure<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-k">...</span>
julia<span class="pl-k">&gt;</span> <span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>indicators<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>gross national expenditure<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-k">...</span>
julia<span class="pl-k">&gt;</span> <span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>indicators<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>source_database<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>Sustainable<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
<span class="pl-k">...</span>
julia<span class="pl-k">&gt;</span> <span class="pl-c1">search_wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>indicators<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>source_organization<span class="pl-pds">"</span></span>,<span class="pl-sr"><span class="pl-pds">r"</span>Global Partnership<span class="pl-pds">"</span><span class="pl-k">i</span></span>)
</pre></div>
<h2><a id="user-content-tips-and-tricks" class="anchor" aria-hidden="true" href="#tips-and-tricks"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Tips and Tricks</h2>
<h3><a id="user-content-extracting-country-data-from-results" class="anchor" aria-hidden="true" href="#extracting-country-data-from-results"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Extracting country data from results</h3>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="df = wdi(&quot;SP.POP.TOTL&quot;, [&quot;US&quot;,&quot;BR&quot;], 1980, 2012, extra=true)
us_pop = df[df[!, :iso2c] .== &quot;US&quot;, :]
"><pre>df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>SP.POP.TOTL<span class="pl-pds">"</span></span>, [<span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>BR<span class="pl-pds">"</span></span>], <span class="pl-c1">1980</span>, <span class="pl-c1">2012</span>, extra<span class="pl-k">=</span><span class="pl-c1">true</span>)
us_pop <span class="pl-k">=</span> df[df[<span class="pl-k">!</span>, <span class="pl-c1">:iso2c</span>] <span class="pl-k">.==</span> <span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>, :]</pre></div>
<h3><a id="user-content-year-format" class="anchor" aria-hidden="true" href="#year-format"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Year format</h3>
<p>For similarity with the
<a href="https://cran.r-project.org/web/packages/WDI/index.html" rel="nofollow">R WDI package</a> the <code>:year</code>
column is in Float64 format. WDI data is yearly.</p>
<p>You can easily convert this to a Date series:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="using WorldBankData
using Dates

df = wdi(&quot;AG.LND.ARBL.HA.PC&quot;, &quot;US&quot;, 1900, 2011)
df[!, :year] = map(Date, df[!, :year])
"><pre><span class="pl-k">using</span> WorldBankData
<span class="pl-k">using</span> Dates

df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>AG.LND.ARBL.HA.PC<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>, <span class="pl-c1">1900</span>, <span class="pl-c1">2011</span>)
df[<span class="pl-k">!</span>, <span class="pl-c1">:year</span>] <span class="pl-k">=</span> <span class="pl-c1">map</span>(Date, df[<span class="pl-k">!</span>, <span class="pl-c1">:year</span>])</pre></div>
<h3><a id="user-content-plotting" class="anchor" aria-hidden="true" href="#plotting"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Plotting</h3>
<p>Install the <a href="https://github.com/JuliaPlots/StatsPlots.jl">StatsPlots.jl</a> package with
<code>import Pkg; Pkg.add("StatsPlots")</code>.</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="using WorldBankData
using StatsPlots

df = wdi(&quot;SP.POP.TOTL&quot;, &quot;US&quot;, 1980, 2010)

@df df scatter(:year, :SP_POP_TOTL)
"><pre><span class="pl-k">using</span> WorldBankData
<span class="pl-k">using</span> StatsPlots

df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>SP.POP.TOTL<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>, <span class="pl-c1">1980</span>, <span class="pl-c1">2010</span>)

<span class="pl-c1">@df</span> df <span class="pl-c1">scatter</span>(<span class="pl-c1">:year</span>, <span class="pl-c1">:SP_POP_TOTL</span>)</pre></div>
<h3><a id="user-content-emptymissing-results" class="anchor" aria-hidden="true" href="#emptymissing-results"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Empty/Missing results</h3>
<p><code>wdi</code> will return a DataFrame with missing values if there is no data:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="julia&gt; df = wdi(&quot;EN.ATM.CO2E.KT&quot;, &quot;AS&quot;)
60×4 DataFrames.DataFrame
│ Row │ iso2c  │ country        │ EN_ATM_CO2E_KT │ year    │
│     │ String │ String         │ Missing        │ Float64 │
├─────┼────────┼────────────────┼────────────────┼─────────┤
│ 1   │ AS     │ American Samoa │ missing        │ 1960.0  │
│ 2   │ AS     │ American Samoa │ missing        │ 1961.0  │
│ 3   │ AS     │ American Samoa │ missing        │ 1962.0  │
...

julia&gt; df = wdi(&quot;EN.ATM.CO2E.KT&quot;, [&quot;AS&quot;,&quot;US&quot;])
120×4 DataFrames.DataFrame
│ Row │ iso2c  │ country        │ EN_ATM_CO2E_KT │ year    │
│     │ String │ String         │ Float64⍰       │ Float64 │
├─────┼────────┼────────────────┼────────────────┼─────────┤
│ 1   │ AS     │ American Samoa │ missing        │ 1960.0  │
│ 2   │ AS     │ American Samoa │ missing        │ 1961.0  │
...
│ 114 │ US     │ United States  │ 5.15916e6      │ 2013.0  │
│ 115 │ US     │ United States  │ 5.25428e6      │ 2014.0  │
│ 116 │ US     │ United States  │ missing        │ 2015.0  │
│ 120 │ US     │ United States  │ missing        │ 2019.0  │
...
"><pre>julia<span class="pl-k">&gt;</span> df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>EN.ATM.CO2E.KT<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>AS<span class="pl-pds">"</span></span>)
<span class="pl-c1">60</span><span class="pl-k">×</span><span class="pl-c1">4</span> DataFrames<span class="pl-k">.</span>DataFrame
│ Row │ iso2c  │ country        │ EN_ATM_CO2E_KT │ year    │
│     │ String │ String         │ Missing        │ Float64 │
├─────┼────────┼────────────────┼────────────────┼─────────┤
│ <span class="pl-c1">1</span>   │ AS     │ American Samoa │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">1960.0</span>  │
│ <span class="pl-c1">2</span>   │ AS     │ American Samoa │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">1961.0</span>  │
│ <span class="pl-c1">3</span>   │ AS     │ American Samoa │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">1962.0</span>  │
<span class="pl-k">...</span>

julia<span class="pl-k">&gt;</span> df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>EN.ATM.CO2E.KT<span class="pl-pds">"</span></span>, [<span class="pl-s"><span class="pl-pds">"</span>AS<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>])
<span class="pl-c1">120</span><span class="pl-k">×</span><span class="pl-c1">4</span> DataFrames<span class="pl-k">.</span>DataFrame
│ Row │ iso2c  │ country        │ EN_ATM_CO2E_KT │ year    │
│     │ String │ String         │ Float64⍰       │ Float64 │
├─────┼────────┼────────────────┼────────────────┼─────────┤
│ <span class="pl-c1">1</span>   │ AS     │ American Samoa │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">1960.0</span>  │
│ <span class="pl-c1">2</span>   │ AS     │ American Samoa │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">1961.0</span>  │
<span class="pl-k">...</span>
│ <span class="pl-c1">114</span> │ US     │ United States  │ <span class="pl-c1">5.15916e6</span>      │ <span class="pl-c1">2013.0</span>  │
│ <span class="pl-c1">115</span> │ US     │ United States  │ <span class="pl-c1">5.25428e6</span>      │ <span class="pl-c1">2014.0</span>  │
│ <span class="pl-c1">116</span> │ US     │ United States  │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">2015.0</span>  │
│ <span class="pl-c1">120</span> │ US     │ United States  │ <span class="pl-c1">missing</span>        │ <span class="pl-c1">2019.0</span>  │
<span class="pl-k">...</span></pre></div>
<h3><a id="user-content-cache" class="anchor" aria-hidden="true" href="#cache"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Cache</h3>
<p>The data in the World Bank database changes infrequently. Therefore it
makes little sense to download it every time a script is run.</p>
<h4><a id="user-content-metadata" class="anchor" aria-hidden="true" href="#metadata"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Metadata</h4>
<p>The <code>search_wdi()</code> function internally caches the country and
indicator metadata and therefore downloads the country and indicator
data only once per session. Even that is usually not necessary. This
data can easily be stored on local disk.</p>
<p>Download and store the country and indicator information in csv files:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="using WorldBankData
using DataFrames
using CSV
CSV.write(&quot;country_cache.csv&quot;,WorldBankData.get_countries())
CSV.write(&quot;indicator_cache.csv&quot;, WorldBankData.get_indicators())
"><pre><span class="pl-k">using</span> WorldBankData
<span class="pl-k">using</span> DataFrames
<span class="pl-k">using</span> CSV
CSV<span class="pl-k">.</span><span class="pl-c1">write</span>(<span class="pl-s"><span class="pl-pds">"</span>country_cache.csv<span class="pl-pds">"</span></span>,WorldBankData<span class="pl-k">.</span><span class="pl-c1">get_countries</span>())
CSV<span class="pl-k">.</span><span class="pl-c1">write</span>(<span class="pl-s"><span class="pl-pds">"</span>indicator_cache.csv<span class="pl-pds">"</span></span>, WorldBankData<span class="pl-k">.</span><span class="pl-c1">get_indicators</span>())</pre></div>
<p>These can be used in the script to set the WorldBankData cache
variables <code>WorldBankData.country_cache</code> and
<code>WorldBankData.indicator_cache</code> (which are initialized to <code>false</code>)
using the <code>WorldBankData.set_country_cache()</code> and
<code>WorldBankData.set_indicator_cache()</code> functions:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="using WorldBankData
using DataFrames
WorldBankData.set_country_cache(CSV.read(&quot;country_cache.csv&quot;))
WorldBankData.set_indicator_cache(CSV.read(&quot;indicator_cache.csv&quot;))
"><pre><span class="pl-k">using</span> WorldBankData
<span class="pl-k">using</span> DataFrames
WorldBankData<span class="pl-k">.</span><span class="pl-c1">set_country_cache</span>(CSV<span class="pl-k">.</span><span class="pl-c1">read</span>(<span class="pl-s"><span class="pl-pds">"</span>country_cache.csv<span class="pl-pds">"</span></span>))
WorldBankData<span class="pl-k">.</span><span class="pl-c1">set_indicator_cache</span>(CSV<span class="pl-k">.</span><span class="pl-c1">read</span>(<span class="pl-s"><span class="pl-pds">"</span>indicator_cache.csv<span class="pl-pds">"</span></span>))</pre></div>
<p>From then on the <code>search_wdi()</code> function will use the data read from
disk.</p>
<p>The caches can be reset with <code>WorldBankData.reset_country_cache()</code>
and <code>WorldBankData.reset_indicator_cache()</code>.</p>
<h4><a id="user-content-indicator-data" class="anchor" aria-hidden="true" href="#indicator-data"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Indicator data</h4>
<p>In a similar way the indicator data itself can be cached.</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="using WorldBankData
using DataFrames
using CSV

function update_us_pop_totl()
    df = wdi(&quot;SP.POP.TOTL&quot;, &quot;US&quot;)
    CSV.write(&quot;us_pop_totl.csv&quot;,df)
end
df = CSV.read(&quot;us_pop_totl.csv&quot;)
"><pre><span class="pl-k">using</span> WorldBankData
<span class="pl-k">using</span> DataFrames
<span class="pl-k">using</span> CSV

<span class="pl-k">function</span> <span class="pl-en">update_us_pop_totl</span>()
    df <span class="pl-k">=</span> <span class="pl-c1">wdi</span>(<span class="pl-s"><span class="pl-pds">"</span>SP.POP.TOTL<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>US<span class="pl-pds">"</span></span>)
    CSV<span class="pl-k">.</span><span class="pl-c1">write</span>(<span class="pl-s"><span class="pl-pds">"</span>us_pop_totl.csv<span class="pl-pds">"</span></span>,df)
<span class="pl-k">end</span>
df <span class="pl-k">=</span> CSV<span class="pl-k">.</span><span class="pl-c1">read</span>(<span class="pl-s"><span class="pl-pds">"</span>us_pop_totl.csv<span class="pl-pds">"</span></span>)</pre></div>
<p>Occasionally update the data by running the <code>update_us_pop_totl()</code> function.</p>
</article></div>