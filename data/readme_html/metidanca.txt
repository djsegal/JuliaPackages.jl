<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-metidanca" class="anchor" aria-hidden="true" href="#metidanca"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>MetidaNCA</h1>
<p dir="auto">This program comes with absolutely no warranty. No liability is accepted for any loss and risk to public health resulting from use of this software.</p>
<table>
<thead>
<tr>
<th>Version</th>
<th>Cover</th>
<th>Build</th>
<th>Docs</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://juliahub.com/ui/Packages/MetidaNCA/p2tSH" rel="nofollow"><img src="https://camo.githubusercontent.com/5275c628e854773039cf7194605ff043426f61fea84b2c41e215fa5fc304bc62/68747470733a2f2f6a756c69616875622e636f6d2f646f63732f4d65746964614e43412f76657273696f6e2e737667" alt="version" data-canonical-src="https://juliahub.com/docs/MetidaNCA/version.svg" style="max-width: 100%;"></a></td>
<td><a href="https://codecov.io/gh/PharmCat/MetidaNCA.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/082484ca5e83e5941034e55426a2aca8842f18a3becd79f8178cba3c0adfc734/68747470733a2f2f636f6465636f762e696f2f67682f506861726d4361742f4d65746964614e43412e6a6c2f6272616e63682f6d61696e2f67726170682f62616467652e7376673f746f6b656e3d4139657954396730575a" alt="codecov" data-canonical-src="https://codecov.io/gh/PharmCat/MetidaNCA.jl/branch/main/graph/badge.svg?token=A9eyT9g0WZ" style="max-width: 100%;"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/PharmCat/MetidaNCA.jl/workflows/Tier%201/badge.svg"><img src="https://github.com/PharmCat/MetidaNCA.jl/workflows/Tier%201/badge.svg" alt="Tier 1" style="max-width: 100%;"></a></td>
<td><a href="https://pharmcat.github.io/MetidaNCA.jl/dev/" rel="nofollow"><img src="https://camo.githubusercontent.com/56f8252ba8e9d3f0b810769543f77823d2fe031ce560d4c2d69fb1fcad800383/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6c61746573742d626c75652e737667" alt="Latest docs" data-canonical-src="https://img.shields.io/badge/docs-latest-blue.svg" style="max-width: 100%;"></a> <a href="https://pharmcat.github.io/MetidaNCA.jl/stable/" rel="nofollow"><img src="https://camo.githubusercontent.com/c97f0a5f2ae95755f64a27f1aa8d9a17462941fd3d6c907c7630abd5d3e60acf/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d737461626c652d626c75652e737667" alt="Stable docs" data-canonical-src="https://img.shields.io/badge/docs-stable-blue.svg" style="max-width: 100%;"></a></td>
</tr>
</tbody>
</table>
<p dir="auto">Non-compartment PK analysis (NCA).</p>
<p dir="auto">Pharmacokinetics, sometimes abbreviated as PK, is a branch of pharmacology dedicated to determine the fate of substances administered to a living organism.</p>
<p dir="auto">When analyzing pharmacokinetic data, one generally employs either model fitting using nonlinear regression analysis or non-compartmental analysis techniques (NCA). The method one actually employs depends on what is required from the analysis. If the primary requirement is to determine the degree of exposure following administration of a drug (such as AUC), and perhaps the drug's associated pharmacokinetic parameters, such as clearance, elimination half-life, T (max), C (max), etc., then NCA is generally the preferred methodology to use in that it requires fewer assumptions than model-based approaches.[*]</p>
<p dir="auto">PK urine parameters and PD parameters such as Time Above/Below  Baseline/Threshold can be also calculated.</p>
<p dir="auto">Also this package include recipes for plotting PK/PD data.</p>
<ul dir="auto">
<li>Gabrielsson J, Weiner D. Non-compartmental analysis. Methods Mol Biol. 2012;929:377-89. doi: 10.1007/978-1-62703-050-2_16. PMID: 23007438.</li>
</ul>
<h2 dir="auto"><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import Pkg; Pkg.add(&quot;MetidaNCA&quot;)"><pre><span class="pl-k">import</span> Pkg; Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-s"><span class="pl-pds">"</span>MetidaNCA<span class="pl-pds">"</span></span>)</pre></div>
<h2 dir="auto"><a id="user-content-test" class="anchor" aria-hidden="true" href="#test"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Test</h2>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Pkg.test(&quot;MetidaNCA&quot;)"><pre>Pkg<span class="pl-k">.</span><span class="pl-c1">test</span>(<span class="pl-s"><span class="pl-pds">"</span>MetidaNCA<span class="pl-pds">"</span></span>)</pre></div>
<h2 dir="auto"><a id="user-content-first-step" class="anchor" aria-hidden="true" href="#first-step"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>First step</h2>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using DataFrames, CSV, MetidaNCA

pkdata2  = CSV.File(joinpath(dirname(pathof(MetidaNCA)), &quot;..&quot;, &quot;test&quot;, &quot;csv&quot;, &quot;pkdata2.csv&quot;)) |&gt; DataFrame

ds = MetidaNCA.pkimport(pkdata2, :Time, :Concentration, [:Subject, :Formulation]; dosetime = MetidaNCA.DoseTime(dose = 100, time = 0))

sort!(ds, :Subject)

dsnca = MetidaNCA.nca!(ds, adm = :ev, calcm = :lint, verbose = 2)"><pre><span class="pl-k">using</span> DataFrames, CSV, MetidaNCA

pkdata2  <span class="pl-k">=</span> CSV<span class="pl-k">.</span><span class="pl-c1">File</span>(<span class="pl-c1">joinpath</span>(<span class="pl-c1">dirname</span>(<span class="pl-c1">pathof</span>(MetidaNCA)), <span class="pl-s"><span class="pl-pds">"</span>..<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>csv<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>pkdata2.csv<span class="pl-pds">"</span></span>)) <span class="pl-k">|&gt;</span> DataFrame

ds <span class="pl-k">=</span> MetidaNCA<span class="pl-k">.</span><span class="pl-c1">pkimport</span>(pkdata2, <span class="pl-c1">:Time</span>, <span class="pl-c1">:Concentration</span>, [<span class="pl-c1">:Subject</span>, <span class="pl-c1">:Formulation</span>]; dosetime <span class="pl-k">=</span> MetidaNCA<span class="pl-k">.</span><span class="pl-c1">DoseTime</span>(dose <span class="pl-k">=</span> <span class="pl-c1">100</span>, time <span class="pl-k">=</span> <span class="pl-c1">0</span>))

<span class="pl-c1">sort!</span>(ds, <span class="pl-c1">:Subject</span>)

dsnca <span class="pl-k">=</span> MetidaNCA<span class="pl-k">.</span><span class="pl-c1">nca!</span>(ds, adm <span class="pl-k">=</span> <span class="pl-c1">:ev</span>, calcm <span class="pl-k">=</span> <span class="pl-c1">:lint</span>, verbose <span class="pl-k">=</span> <span class="pl-c1">2</span>)</pre></div>
<h2 dir="auto"><a id="user-content-plots" class="anchor" aria-hidden="true" href="#plots"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Plots</h2>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/PharmCat/MetidaNCA.jl/main/img/plot2.png"><img src="https://raw.githubusercontent.com/PharmCat/MetidaNCA.jl/main/img/plot2.png" alt="Plot 1" style="max-width: 100%;"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/PharmCat/MetidaNCA.jl/main/img/plot5.png"><img src="https://raw.githubusercontent.com/PharmCat/MetidaNCA.jl/main/img/plot5.png" alt="Plot 2" style="max-width: 100%;"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/PharmCat/MetidaNCA.jl/main/img/plot6.png"><img src="https://raw.githubusercontent.com/PharmCat/MetidaNCA.jl/main/img/plot6.png" alt="Plot 3" style="max-width: 100%;"></a></p>
</article></div>