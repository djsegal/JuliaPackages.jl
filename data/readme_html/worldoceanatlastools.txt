<div id="readme" class="md" data-path="ReadMe.md"><article class="markdown-body entry-content container-lg" itemprop="text"><a href="https://github.com/briochemc/WorldOceanAtlasTools.jl">
  <img src="https://user-images.githubusercontent.com/4486578/59411626-07e2ed00-8dff-11e9-8daf-e823f61124d9.png" width="100%" align="center" style="max-width: 100%;">
</a>
<h1 dir="auto"><a id="user-content-world-ocean-atlas-tools" class="anchor" aria-hidden="true" href="#world-ocean-atlas-tools"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>World Ocean Atlas Tools</h1>
<p dir="auto">
  <a href="https://github.com/briochemc/WorldOceanAtlasTools.jl/actions">
    <img src="https://camo.githubusercontent.com/b93734b783f22be49b044479f639e1ac71f4e2ad238817f5994083a3debc9a73/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f776f726b666c6f772f7374617475732f6272696f6368656d632f576f726c644f6365616e41746c6173546f6f6c732e6a6c2f4d61632532304f53253230583f6c6162656c3d4f5358266c6f676f3d4170706c65266c6f676f436f6c6f723d7768697465267374796c653d666c61742d737175617265" data-canonical-src="https://img.shields.io/github/workflow/status/briochemc/WorldOceanAtlasTools.jl/Mac%20OS%20X?label=OSX&amp;logo=Apple&amp;logoColor=white&amp;style=flat-square" style="max-width: 100%;">
  </a>
  <a href="https://github.com/briochemc/WorldOceanAtlasTools.jl/actions">
    <img src="https://camo.githubusercontent.com/00704c1f218741854435cf4a51125dbc4e7b9a4e38a9413a4f05368be33aae4e/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f776f726b666c6f772f7374617475732f6272696f6368656d632f576f726c644f6365616e41746c6173546f6f6c732e6a6c2f4c696e75783f6c6162656c3d4c696e7578266c6f676f3d4c696e7578266c6f676f436f6c6f723d7768697465267374796c653d666c61742d737175617265" data-canonical-src="https://img.shields.io/github/workflow/status/briochemc/WorldOceanAtlasTools.jl/Linux?label=Linux&amp;logo=Linux&amp;logoColor=white&amp;style=flat-square" style="max-width: 100%;">
  </a>
  <a href="https://github.com/briochemc/WorldOceanAtlasTools.jl/actions">
    <img src="https://camo.githubusercontent.com/e62ac03099fa064e25186fb74f23344c5af535eb38a4d1e5f21a100e480ae9a0/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f776f726b666c6f772f7374617475732f6272696f6368656d632f576f726c644f6365616e41746c6173546f6f6c732e6a6c2f57696e646f77733f6c6162656c3d57696e646f7773266c6f676f3d57696e646f7773266c6f676f436f6c6f723d7768697465267374796c653d666c61742d737175617265" data-canonical-src="https://img.shields.io/github/workflow/status/briochemc/WorldOceanAtlasTools.jl/Windows?label=Windows&amp;logo=Windows&amp;logoColor=white&amp;style=flat-square" style="max-width: 100%;">
  </a>
  <a href="https://codecov.io/gh/briochemc/WorldOceanAtlasTools.jl" rel="nofollow">
    <img src="https://camo.githubusercontent.com/674ba8989189be1041de6039ef23838657fcba2e1271b8e1122ec958ed98d34e/68747470733a2f2f696d672e736869656c64732e696f2f636f6465636f762f632f6769746875622f6272696f6368656d632f576f726c644f6365616e41746c6173546f6f6c732e6a6c2f6d61737465723f6c6162656c3d436f6465636f76266c6f676f3d636f6465636f76266c6f676f436f6c6f723d7768697465267374796c653d666c61742d737175617265" data-canonical-src="https://img.shields.io/codecov/c/github/briochemc/WorldOceanAtlasTools.jl/master?label=Codecov&amp;logo=codecov&amp;logoColor=white&amp;style=flat-square" style="max-width: 100%;">
  </a>
</p>
<p dir="auto">
  <a href="https://briochemc.github.io/WorldOceanAtlasTools.jl/stable/" rel="nofollow">
    <img src="https://camo.githubusercontent.com/b12f1d58b1cc1e6ae30f22899ebfbcf6f4325ebab7f52a5dd53bd8c82fd3ffd7/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f776f726b666c6f772f7374617475732f6272696f6368656d632f576f726c644f6365616e41746c6173546f6f6c732e6a6c2f446f63756d656e746174696f6e3f7374796c653d666f722d7468652d6261646765266c6162656c3d446f63756d656e746174696f6e266c6f676f3d52656164253230746865253230446f6373266c6f676f436f6c6f723d7768697465" data-canonical-src="https://img.shields.io/github/workflow/status/briochemc/WorldOceanAtlasTools.jl/Documentation?style=for-the-badge&amp;label=Documentation&amp;logo=Read%20the%20Docs&amp;logoColor=white" style="max-width: 100%;">
  </a>
</p>
<p dir="auto">
  <a href="https://doi.org/10.5281/zenodo.2677666" rel="nofollow">
    <img src="https://camo.githubusercontent.com/30059f479e1860da0fa5f5ba2ef1a69e4207f975022d1cc485c70fa2a8bd6f72/68747470733a2f2f7a656e6f646f2e6f72672f62616467652f444f492f31302e353238312f7a656e6f646f2e323637373636362e737667" alt="DOI" data-canonical-src="https://zenodo.org/badge/DOI/10.5281/zenodo.2677666.svg" style="max-width: 100%;">
  </a>
  <a href="https://github.com/briochemc/WorldOceanAtlasTools.jl/blob/master/LICENSE">
    <img alt="License: MIT" src="https://camo.githubusercontent.com/78f47a09877ba9d28da1887a93e5c3bc2efb309c1e910eb21135becd2998238a/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d4d49542d79656c6c6f772e737667" data-canonical-src="https://img.shields.io/badge/License-MIT-yellow.svg" style="max-width: 100%;">
  </a>
</p>
<h3 dir="auto"><a id="user-content-simple-usage" class="anchor" aria-hidden="true" href="#simple-usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Simple usage</h3>
<p dir="auto">Just add WorldOceanAtlasTools like any other Julia package, and then you can grab the data with, e.g.,</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; WorldOceanAtlasTools.observations(&quot;PO₄&quot;)
Registering World Ocean Atlas data with DataDeps
┌ Warning: You are about to use World Ocean Atlas data.
│ Please cite the following corresponding reference(s):
│ Garcia, H. E., K. Weathers, C. R. Paver, I. Smolyar, T. P. Boyer, R. A. Locarnini, M. M. Zweng, A. V. Mishonov, O. K. Baranova, D. Seidov, and J. R. Reagan, 2018. World Ocean Atlas 2018, Volume 4: Dissolved Inorganic Nutrients (phosphate, nitrate and nitrate+nitrite, silicate). A. Mishonov Technical Ed.; in preparation.)
└ @ WorldOceanAtlasTools ~/.julia/dev/WorldOceanAtlasTools/src/functions.jl:218
1312523×4 DataFrame
     Row │ lat      lon      depth      PO₄
         │ Float32  Float32  Quantity…  Quantity…
─────────┼────────────────────────────────────────────────
       1 │   -77.5   -178.5      0.0 m  1.35075 μmol kg⁻¹
       2 │   -77.5   -177.5      0.0 m  1.28211 μmol kg⁻¹
       3 │   -77.5   -176.5      0.0 m  1.37447 μmol kg⁻¹
    ⋮    │    ⋮        ⋮         ⋮              ⋮
 1312521 │    52.5   -165.5   5500.0 m  2.4566 μmol kg⁻¹
 1312522 │    52.5   -163.5   5500.0 m  2.42341 μmol kg⁻¹
 1312523 │    53.5   -158.5   5500.0 m  2.45224 μmol kg⁻¹
                                      1312517 rows omitted"><pre>julia<span class="pl-k">&gt;</span> WorldOceanAtlasTools<span class="pl-k">.</span><span class="pl-c1">observations</span>(<span class="pl-s"><span class="pl-pds">"</span>PO₄<span class="pl-pds">"</span></span>)
Registering World Ocean Atlas data with DataDeps
┌ Warning<span class="pl-k">:</span> You are about to use World Ocean Atlas data.
│ Please cite the following corresponding <span class="pl-c1">reference</span>(s)<span class="pl-k">:</span>
│ Garcia, H. E., K. Weathers, C. R. Paver, I. Smolyar, T. P. Boyer, R. A. Locarnini, M. M. Zweng, A. V. Mishonov, O. K. Baranova, D. Seidov, and J. R. Reagan, <span class="pl-c1">2018.</span> World Ocean Atlas <span class="pl-c1">2018</span>, Volume <span class="pl-c1">4</span><span class="pl-k">:</span> Dissolved Inorganic Nutrients (phosphate, nitrate and nitrate<span class="pl-k">+</span>nitrite, silicate)<span class="pl-k">.</span> A. Mishonov Technical Ed.; <span class="pl-k">in</span> preparation.)
└ @ WorldOceanAtlasTools <span class="pl-k">~</span><span class="pl-k">/</span><span class="pl-k">.</span>julia<span class="pl-k">/</span>dev<span class="pl-k">/</span>WorldOceanAtlasTools<span class="pl-k">/</span>src<span class="pl-k">/</span>functions<span class="pl-k">.</span>jl<span class="pl-k">:</span><span class="pl-c1">218</span>
<span class="pl-c1">1312523</span><span class="pl-k">×</span><span class="pl-c1">4</span> DataFrame
     Row │ lat      lon      depth      PO₄
         │ Float32  Float32  Quantity…  Quantity…
─────────┼────────────────────────────────────────────────
       <span class="pl-c1">1</span> │   <span class="pl-k">-</span><span class="pl-c1">77.5</span>   <span class="pl-k">-</span><span class="pl-c1">178.5</span>      <span class="pl-c1">0.0</span> m  <span class="pl-c1">1.35075</span> μmol kg⁻¹
       <span class="pl-c1">2</span> │   <span class="pl-k">-</span><span class="pl-c1">77.5</span>   <span class="pl-k">-</span><span class="pl-c1">177.5</span>      <span class="pl-c1">0.0</span> m  <span class="pl-c1">1.28211</span> μmol kg⁻¹
       <span class="pl-c1">3</span> │   <span class="pl-k">-</span><span class="pl-c1">77.5</span>   <span class="pl-k">-</span><span class="pl-c1">176.5</span>      <span class="pl-c1">0.0</span> m  <span class="pl-c1">1.37447</span> μmol kg⁻¹
    ⋮    │    ⋮        ⋮         ⋮              ⋮
 <span class="pl-c1">1312521</span> │    <span class="pl-c1">52.5</span>   <span class="pl-k">-</span><span class="pl-c1">165.5</span>   <span class="pl-c1">5500.0</span> m  <span class="pl-c1">2.4566</span> μmol kg⁻¹
 <span class="pl-c1">1312522</span> │    <span class="pl-c1">52.5</span>   <span class="pl-k">-</span><span class="pl-c1">163.5</span>   <span class="pl-c1">5500.0</span> m  <span class="pl-c1">2.42341</span> μmol kg⁻¹
 <span class="pl-c1">1312523</span> │    <span class="pl-c1">53.5</span>   <span class="pl-k">-</span><span class="pl-c1">158.5</span>   <span class="pl-c1">5500.0</span> m  <span class="pl-c1">2.45224</span> μmol kg⁻¹
                                      <span class="pl-c1">1312517</span> rows omitted</pre></div>
<h3 dir="auto"><a id="user-content-why-this-package" class="anchor" aria-hidden="true" href="#why-this-package"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Why this package?</h3>
<p dir="auto"><a href="https://github.com/briochemc/WorldOceanAtlasTools.jl">WorldOceanAtlasTools.jl</a> was developed for the purpose of downloading and using data from the World Ocean Atlas (WOA) database to be used by the <a href="https://github.com/briochemc/AIBECS.jl">AIBECS.jl</a> package.
The more generic ambition is for <a href="https://github.com/briochemc/WorldOceanAtlasTools.jl">WorldOceanAtlasTools.jl</a> to provide an API that can fetch data from <a href="https://www.nodc.noaa.gov/OC5/indprod.html" rel="nofollow">this list</a> of WOA data sets and products (located on the National Oceanic and Atmospheric Administration (NOAA) wesbite) and fit it to any model's grid.</p>
<p dir="auto">This is a work in progress, therefore PRs, suggestions, and generally help are, of course, more than welcome!</p>
<h3 dir="auto"><a id="user-content-how-it-works" class="anchor" aria-hidden="true" href="#how-it-works"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>How it works</h3>
<p dir="auto"><a href="https://github.com/briochemc/WorldOceanAtlasTools.jl">WorldOceanAtlasTools.jl</a> essentially defines the nomenclature and URLs used by the WOA and then relies on the <a href="https://github.com/oxinabox/DataDeps.jl">DataDeps.jl</a> package developed by <a href="https://arxiv.org/abs/1808.01091" rel="nofollow">White et al. (2018)</a> to download the corresponding NetCDF files.
(NetCDF files are read using the <a href="https://github.com/Alexander-Barth/NCDatasets.jl">NCDatasets.jl</a> package.)</p>
<p dir="auto">In order to facilitate the use of WOA data in <a href="https://github.com/briochemc/AIBECS.jl">AIBECS.jl</a>, the <a href="https://github.com/briochemc/WorldOceanAtlasTools.jl">WorldOceanAtlasTools.jl</a> package can use a <code>grid</code> from the <a href="https://github.com/briochemc/OceanGrids.jl">OceanGrids.jl</a> package and bin a WOA tracer into that grid, and uses the <a href="https://github.com/KristofferC/NearestNeighbors.jl">NearestNeighbors.jl</a> package to decide where to bin each observation.</p>
<p dir="auto">But you can also use it as in the example snippet above by simply calling the function <code>observations</code>.</p>
<h3 dir="auto"><a id="user-content-cite-me-if-you-use-me" class="anchor" aria-hidden="true" href="#cite-me-if-you-use-me"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Cite me if you use me!</h3>
<p dir="auto">If you use this package, please cite it using the <a href="./CITATION.bib">CITATION.bib</a> file, and cite the WOA references using the <code>citation</code> function or use the corresponding bibtex entries in the <a href="./CITATION.bib">CITATION.bib</a> file.</p>
</article></div>