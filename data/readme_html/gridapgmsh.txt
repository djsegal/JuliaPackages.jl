<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1><a id="user-content-gridapgmsh" class="anchor" aria-hidden="true" href="#gridapgmsh"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>GridapGmsh</h1>
<p><a href="https://travis-ci.com/gridap/GridapGmsh.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/3c34f597ec86df3bcb4295cc007c028d434ba66c/68747470733a2f2f7472617669732d63692e636f6d2f6772696461702f477269646170476d73682e6a6c2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.com/gridap/GridapGmsh.jl.svg?branch=master" style="max-width:100%;"></a>
<a href="https://codecov.io/gh/gridap/GridapGmsh.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/45596cbcc1d6327d2ac01fdea58e290843818060/68747470733a2f2f636f6465636f762e696f2f67682f6772696461702f477269646170476d73682e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="Codecov" data-canonical-src="https://codecov.io/gh/gridap/GridapGmsh.jl/branch/master/graph/badge.svg" style="max-width:100%;"></a></p>
<h2><a id="user-content-demo" class="anchor" aria-hidden="true" href="#demo"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Demo</h2>
<p><a target="_blank" rel="noopener noreferrer" href="demo/demo-gmsh.png"><img src="demo/demo-gmsh.png" alt="" style="max-width:100%;"></a></p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> Gridap
<span class="pl-k">using</span> GridapGmsh

model <span class="pl-k">=</span> <span class="pl-c1">GmshDiscreteModel</span>(<span class="pl-s"><span class="pl-pds">"</span>demo/demo.msh<span class="pl-pds">"</span></span>)

order <span class="pl-k">=</span> <span class="pl-c1">1</span>
diritags <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">"</span>boundary1<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>boundary2<span class="pl-pds">"</span></span>]

V <span class="pl-k">=</span> <span class="pl-c1">TestFESpace</span>(
  reffe<span class="pl-k">=</span><span class="pl-c1">:Lagrangian</span>,
  order<span class="pl-k">=</span><span class="pl-c1">1</span>,
  valuetype<span class="pl-k">=</span>Float64,
  model<span class="pl-k">=</span>model,
  dirichlet_tags<span class="pl-k">=</span>[<span class="pl-s"><span class="pl-pds">"</span>boundary1<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>boundary2<span class="pl-pds">"</span></span>])

U <span class="pl-k">=</span> <span class="pl-c1">TrialFESpace</span>(V,[<span class="pl-c1">0</span>,<span class="pl-c1">1</span>])

trian <span class="pl-k">=</span> <span class="pl-c1">Triangulation</span>(model)
degree <span class="pl-k">=</span> <span class="pl-c1">2</span>
quad <span class="pl-k">=</span> <span class="pl-c1">CellQuadrature</span>(trian,degree)

<span class="pl-en">a</span>(u,v) <span class="pl-k">=</span> <span class="pl-c1">∇</span>(v)<span class="pl-k">*</span><span class="pl-c1">∇</span>(u)
t_Ω <span class="pl-k">=</span> <span class="pl-c1">LinearFETerm</span>(a,trian,quad)

op <span class="pl-k">=</span> <span class="pl-c1">AffineFEOperator</span>(U,V,t_Ω)

uh <span class="pl-k">=</span> <span class="pl-c1">solve</span>(op)
<span class="pl-c1">writevtk</span>(trian,<span class="pl-s"><span class="pl-pds">"</span>demo<span class="pl-pds">"</span></span>,cellfields<span class="pl-k">=</span>[<span class="pl-s"><span class="pl-pds">"</span>uh<span class="pl-pds">"</span></span><span class="pl-k">=&gt;</span>uh])</pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="demo/demo.png"><img src="demo/demo.png" alt="" style="max-width:100%;"></a></p>
<h2><a id="user-content-gotchas" class="anchor" aria-hidden="true" href="#gotchas"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Gotchas</h2>
<ul>
<li>
<p>Gmsh does not allow to include entities of different dimension in the same physical group. In order to overcome this limitation, all phsysical groups defined in Gmesh with the same name will be merged in the same physical tag independently of their dimension.</p>
</li>
<li>
<p>Vertices are always assigned to the corresponding CAD entity. However, this is not true for higher dimensional objects (i.e., edges, faces, cells). The later objects are associated with the right CAD entity if and only if thay are present in a physical group of the same dimension of the object. If the object does not belong to a physical group of the same dimension, but it belongs to the clousure of a higher dimensional object appearing in a physical group, then the low dimensional object receives the CAD id of the high dimensional object. If several high dimensional objects fullfill this requirement, we choose one arbitrary of the lowest dimension possible. This ensures, that edges and faces are assigned to the right CAD entity if the are in the interior of the CAD entity. The same is not true if the object is on the boundary of the CAD entity. In this case, include the corresponding object in a physical group if the right CAD ids are required.</p>
</li>
</ul>
</article></div>