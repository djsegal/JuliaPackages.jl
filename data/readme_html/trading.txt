<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-tradingjl" class="anchor" aria-hidden="true" href="#tradingjl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Trading.jl</h1>
<p dir="auto"><a href="https://github.com/louisponet/Trading.jl/actions?query=workflow%3ACI"><img src="https://github.com/louisponet/Trading.jl/workflows/CI/badge.svg" alt="Build Status" style="max-width: 100%;"></a>
<a href="https://codecov.io/gh/louisponet/Trading.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/a0062743cfe4e5d8db82c20f3b2485b45668e7c9877ded564d33cedff11f5e01/68747470733a2f2f636f6465636f762e696f2f67682f6c6f756973706f6e65742f54726164696e672e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e7376673f746f6b656e3d3836583351464a4c3550" alt="codecov" data-canonical-src="https://codecov.io/gh/louisponet/Trading.jl/branch/master/graph/badge.svg?token=86X3QFJL5P" style="max-width: 100%;"></a>
<a href="https://louisponet.github.io/Trading.jl/dev/" rel="nofollow"><img src="https://camo.githubusercontent.com/56f8252ba8e9d3f0b810769543f77823d2fe031ce560d4c2d69fb1fcad800383/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6c61746573742d626c75652e737667" alt="" data-canonical-src="https://img.shields.io/badge/docs-latest-blue.svg" style="max-width: 100%;"></a>
<a href="https://louisponet.github.io/Trading.jl/stable/" rel="nofollow"><img src="https://camo.githubusercontent.com/c97f0a5f2ae95755f64a27f1aa8d9a17462941fd3d6c907c7630abd5d3e60acf/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d737461626c652d626c75652e737667" alt="" data-canonical-src="https://img.shields.io/badge/docs-stable-blue.svg" style="max-width: 100%;"></a>
<a href="https://pkgs.genieframework.com?packages=Trading" rel="nofollow"><img src="https://camo.githubusercontent.com/cab8e7f2ed72d159e56bb852f728473bbfbd9a8a335a1e10e96b5761307768ad/68747470733a2f2f736869656c64732e696f2f656e64706f696e743f75726c3d68747470733a2f2f706b67732e67656e69656672616d65776f726b2e636f6d2f6170692f76312f62616467652f54726164696e67" alt="Package Downloads" data-canonical-src="https://shields.io/endpoint?url=https://pkgs.genieframework.com/api/v1/badge/Trading" style="max-width: 100%;"></a></p>
<p dir="auto">This is an algorithmic trading and backtesting package written in Julia. It provides a framework for defining and executing trading strategies based on technical indicators, as well as backtesting these strategies on historical data.
Behind the scenes it relies on an ECS paradigm as implemented by <a href="https://github.com/louisponet/Overseer.jl">Overseer.jl</a>, making it extremely easy to extend.</p>
<h1 dir="auto"><a id="user-content-simple-example" class="anchor" aria-hidden="true" href="#simple-example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Simple Example</h1>
<p dir="auto">To define a trading strategy, users need to implement a Julia struct with an update function that defines the trading logic. The update function is called periodically by the framework, and has access to tick data for the specified assets, as well as any technical indicators requested by the strategy.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="struct StratSys &lt;: System end

Overseer.requested_components(::StratSys) = (Open, Close, SMA{20, Close}, SMA{200, Close})

function Overseer.update(s::StratSys, trader, asset_ledgers)
   for ledger in asset_ledgers
        for e in new_entities(ledger, s)
            #Trading logic goes here
        end
    end
end"><pre><span class="pl-k">struct</span> StratSys <span class="pl-k">&lt;:</span> <span class="pl-c1">System</span> <span class="pl-k">end</span>

Overseer<span class="pl-k">.</span><span class="pl-en">requested_components</span>(<span class="pl-k">::</span><span class="pl-c1">StratSys</span>) <span class="pl-k">=</span> (Open, Close, SMA{<span class="pl-c1">20</span>, Close}, SMA{<span class="pl-c1">200</span>, Close})

<span class="pl-k">function</span> Overseer<span class="pl-k">.</span><span class="pl-en">update</span>(s<span class="pl-k">::</span><span class="pl-c1">StratSys</span>, trader, asset_ledgers)
   <span class="pl-k">for</span> ledger <span class="pl-k">in</span> asset_ledgers
        <span class="pl-k">for</span> e <span class="pl-k">in</span> <span class="pl-c1">new_entities</span>(ledger, s)
            <span class="pl-c"><span class="pl-c">#</span>Trading logic goes here</span>
        <span class="pl-k">end</span>
    <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>
<p dir="auto">The package includes several built-in technical indicators, such as simple moving averages, relative strength index, and exponential moving averages, but users can also define their own custom indicators.</p>
<p dir="auto">To execute a trading strategy in real-time, users can create a Trader object with the desired strategies and assets, and connect it to a real-time data source through the different broker APIs.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="broker = AlpacaBroker(&quot;&lt;key_id&gt;&quot;, &quot;&lt;secret&gt;&quot;)

strategy = Strategy(:strat, [StratSys()], assets=[Stock(&quot;AAPL&quot;)])

trader = Trader(broker, strategies=[strategy])

start(trader)"><pre>broker <span class="pl-k">=</span> <span class="pl-c1">AlpacaBroker</span>(<span class="pl-s"><span class="pl-pds">"</span>&lt;key_id&gt;<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>&lt;secret&gt;<span class="pl-pds">"</span></span>)

strategy <span class="pl-k">=</span> <span class="pl-c1">Strategy</span>(<span class="pl-c1">:strat</span>, [<span class="pl-c1">StratSys</span>()], assets<span class="pl-k">=</span>[<span class="pl-c1">Stock</span>(<span class="pl-s"><span class="pl-pds">"</span>AAPL<span class="pl-pds">"</span></span>)])

trader <span class="pl-k">=</span> <span class="pl-c1">Trader</span>(broker, strategies<span class="pl-k">=</span>[strategy])

<span class="pl-c1">start</span>(trader)</pre></div>
<p dir="auto">If one wants to backtest a trading strategy on historical data, users can instead use <code>BackTester</code> instead of <code>Trader</code> with the desired data range, interval, and strategies. The backtester will simulate the behavior of a realtime trader on the specified data. Afterwards a <a href="https://github.com/JuliaStats/TimeSeries.jl"><code>TimeArray</code></a> can be created with the data from the <code>trader</code>, and used for performance analysis.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="trader = BackTester(HistoricalBroker(broker), 
                    strategies=[strategy], 
                    start = &lt;start date&gt;, 
                    stop  = &lt;stop date&gt;, 
                    dt    = &lt;data timeframe&gt;)

start(trader)

ta = TimeArray(trader)

using Plots
plot(ta[:value])"><pre>trader <span class="pl-k">=</span> <span class="pl-c1">BackTester</span>(<span class="pl-c1">HistoricalBroker</span>(broker), 
                    strategies<span class="pl-k">=</span>[strategy], 
                    start <span class="pl-k">=</span> <span class="pl-k">&lt;</span>start date<span class="pl-k">&gt;</span>, 
                    stop  <span class="pl-k">=</span> <span class="pl-k">&lt;</span>stop date<span class="pl-k">&gt;</span>, 
                    dt    <span class="pl-k">=</span> <span class="pl-k">&lt;</span>data timeframe<span class="pl-k">&gt;</span>)

<span class="pl-c1">start</span>(trader)

ta <span class="pl-k">=</span> <span class="pl-c1">TimeArray</span>(trader)

<span class="pl-k">using</span> Plots
<span class="pl-c1">plot</span>(ta[<span class="pl-c1">:value</span>])</pre></div>
<p dir="auto">The package is designed to be flexible and customizable, and can be extended with new technical indicators, trading strategies, and data sources.</p>
<p dir="auto">See <a href="https://louisponet.github.io/Trading.jl/dev" rel="nofollow">Documentation</a> for more details.</p>
<h1 dir="auto"><a id="user-content-future-roadmap" class="anchor" aria-hidden="true" href="#future-roadmap"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Future Roadmap</h1>
<ul dir="auto">
<li>Improved performance analysis, statistics</li>
<li>Implement standard plotting functionality</li>
<li><a href="@ref"><code>Trader</code></a> loading and saving</li>
<li>Implement further signals and <a href="@ref"><code>Indicators</code></a></li>
<li>Backtest comparisons</li>
<li>Support for different <a href="@ref"><code>Brokers</code></a></li>
</ul>
</article></div>