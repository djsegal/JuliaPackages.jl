<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-cdsapijl" class="anchor" aria-hidden="true" href="#cdsapijl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>CDSAPI.jl</h1>
<p dir="auto"><a href="https://github.com/JuliaClimate/CDSAPI.jl/actions"><img src="https://camo.githubusercontent.com/a4e71b01030abd8516439887f51b06878378ef6b1179fa955ad1aeb9b74e45fd/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f616374696f6e732f776f726b666c6f772f7374617475732f4a756c6961436c696d6174652f4344534150492e6a6c2f43492e796d6c3f6272616e63683d6d6173746572267374796c653d666c61742d737175617265" alt="" data-canonical-src="https://img.shields.io/github/actions/workflow/status/JuliaClimate/CDSAPI.jl/CI.yml?branch=master&amp;style=flat-square" style="max-width: 100%;"></a> <a href="https://codecov.io/gh/JuliaClimate/CDSAPI.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/1d431566245d4b37990c2e241a738f63b531ceefa47c897f29da7a8d56f14af0/68747470733a2f2f696d672e736869656c64732e696f2f636f6465636f762f632f6769746875622f4a756c6961436c696d6174652f4344534150492e6a6c3f7374796c653d666c61742d737175617265" alt="" data-canonical-src="https://img.shields.io/codecov/c/github/JuliaClimate/CDSAPI.jl?style=flat-square" style="max-width: 100%;"></a></p>
<p dir="auto">This package provides access to the <a href="https://cds.climate.copernicus.eu" rel="nofollow">Climate Data Store</a> (a.k.a. CDS) service.</p>
<p dir="auto">The CDS website provides a <a href="https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-pressure-levels-monthly-means?tab=form" rel="nofollow">Show API request</a>
button at the bottom of the download tab of each dataset. This button generates the code to download the dataset with the Python cdsapi module.
We've designed this Julia package so that one could copy/paste the generated Python code with minimum modification in Julia.</p>
<h2 dir="auto"><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<p dir="auto">Please install the package with Julia's package manager:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="] add CDSAPI"><pre>] add CDSAPI</pre></div>
<h2 dir="auto"><a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Usage</h2>
<p dir="auto">Make sure your <code>~/.cdsapirc</code> file exists. Instructions on how to create the file for your user account can be found
<a href="https://cds.climate.copernicus.eu/api-how-to" rel="nofollow">here</a>.</p>
<p dir="auto">Suppose that the <code>Show API request</code> button generated the following Python code:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="#!/usr/bin/env python
import cdsapi
c = cdsapi.Client()
c.retrieve(&quot;insitu-glaciers-elevation-mass&quot;,
{
&quot;variable&quot;: &quot;all&quot;,
&quot;product_type&quot;: &quot;elevation_change&quot;,
&quot;file_version&quot;: &quot;20170405&quot;,
&quot;format&quot;: &quot;tgz&quot;
},
&quot;download.tar.gz&quot;)"><pre><span class="pl-c">#!/usr/bin/env python</span>
<span class="pl-k">import</span> <span class="pl-s1">cdsapi</span>
<span class="pl-s1">c</span> <span class="pl-c1">=</span> <span class="pl-s1">cdsapi</span>.<span class="pl-v">Client</span>()
<span class="pl-s1">c</span>.<span class="pl-en">retrieve</span>(<span class="pl-s">"insitu-glaciers-elevation-mass"</span>,
{
<span class="pl-s">"variable"</span>: <span class="pl-s">"all"</span>,
<span class="pl-s">"product_type"</span>: <span class="pl-s">"elevation_change"</span>,
<span class="pl-s">"file_version"</span>: <span class="pl-s">"20170405"</span>,
<span class="pl-s">"format"</span>: <span class="pl-s">"tgz"</span>
},
<span class="pl-s">"download.tar.gz"</span>)</pre></div>
<p dir="auto">You can obtain the same results in Julia with the following code:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using CDSAPI

CDSAPI.retrieve(&quot;insitu-glaciers-elevation-mass&quot;,
CDSAPI.py2ju(&quot;&quot;&quot;
{
&quot;variable&quot;: &quot;all&quot;,
&quot;product_type&quot;: &quot;elevation_change&quot;,
&quot;file_version&quot;: &quot;20170405&quot;,
&quot;format&quot;: &quot;tgz&quot;
}
&quot;&quot;&quot;),
&quot;download.tar.gz&quot;)"><pre><span class="pl-k">using</span> CDSAPI

CDSAPI<span class="pl-k">.</span><span class="pl-c1">retrieve</span>(<span class="pl-s"><span class="pl-pds">"</span>insitu-glaciers-elevation-mass<span class="pl-pds">"</span></span>,
CDSAPI<span class="pl-k">.</span><span class="pl-c1">py2ju</span>(<span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">{</span>
<span class="pl-s">"variable": "all",</span>
<span class="pl-s">"product_type": "elevation_change",</span>
<span class="pl-s">"file_version": "20170405",</span>
<span class="pl-s">"format": "tgz"</span>
<span class="pl-s">}</span>
<span class="pl-s"><span class="pl-pds">"""</span></span>),
<span class="pl-s"><span class="pl-pds">"</span>download.tar.gz<span class="pl-pds">"</span></span>)</pre></div>
<p dir="auto">We've copied/pasted the code and called the <code>py2ju</code> function on the second argument of the <code>retrieve</code> function.
The <code>py2ju</code> function simply converts the string containing a Python dictionary to an actual Julia dictionary.</p>
<p dir="auto">Besides the downloaded file, the <code>retrieve</code> function also returns a dictionary with the following entries:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="Dict{String,Any} with 6 entries:
  &quot;result_provided_by&quot; =&gt; &quot;8a3eb001-c8e3-4a9c-8170-28191ebea14b&quot;
  &quot;location&quot;           =&gt; &quot;http://136.156.133.36/cache-compute-0010/cache/data0/dataset-insitu-glaciers-elevation-mass-8a3eb001a14b.tar.gz&quot;
  &quot;content_type&quot;       =&gt; &quot;application/gzip&quot;
  &quot;request_id&quot;         =&gt; &quot;04534ef1-874d-4c81-bb59-9b5effe63e9e&quot;
  &quot;content_length&quot;     =&gt; 193660
  &quot;state&quot;              =&gt; &quot;completed&quot;"><pre class="notranslate"><code>Dict{String,Any} with 6 entries:
  "result_provided_by" =&gt; "8a3eb001-c8e3-4a9c-8170-28191ebea14b"
  "location"           =&gt; "http://136.156.133.36/cache-compute-0010/cache/data0/dataset-insitu-glaciers-elevation-mass-8a3eb001a14b.tar.gz"
  "content_type"       =&gt; "application/gzip"
  "request_id"         =&gt; "04534ef1-874d-4c81-bb59-9b5effe63e9e"
  "content_length"     =&gt; 193660
  "state"              =&gt; "completed"
</code></pre></div>
</article></div>