<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-gnuplotjl" class="anchor" aria-hidden="true" href="#gnuplotjl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Gnuplot.jl</h1>
<h2><a id="user-content-a-julia-interface-to-gnuplot" class="anchor" aria-hidden="true" href="#a-julia-interface-to-gnuplot"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>A Julia interface to Gnuplot.</h2>
<p><a href="https://travis-ci.org/gcalderone/Gnuplot.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/7de055e2a078082dad511562b32f47937dfe8658/68747470733a2f2f7472617669732d63692e6f72672f6763616c6465726f6e652f476e75706c6f742e6a6c2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/gcalderone/Gnuplot.jl.svg?branch=master" style="max-width:100%;"></a></p>
<p><strong>Gnuplot.jl</strong> allows easy and fast use of <a href="http://gnuplot.info/" rel="nofollow">Gnuplot</a> as a data visualization tool in Julia.  Its main features are:</p>
<ul>
<li>
<p>transparent interface between Julia and Gnuplot to exploit all functionalities of the latter, both present and future ones;</p>
</li>
<li>
<p>fast data transmission to gnuplot through system pipes (no temporary files involved);</p>
</li>
<li>
<p>handles multiple Gnuplot process simultaneously;</p>
</li>
<li>
<p>support for multiplots;</p>
</li>
<li>
<p>save sessions into gnuplot scripts;</p>
</li>
<li>
<p>extremely concise syntax (see examples below) makes it ideal for interactive data exploration;</p>
</li>
<li>
<p>very easy to use: if you know Gnuplot you're ready to go.</p>
</li>
</ul>
<p>The purpose is similar to the <a href="https://github.com/mbaz/Gaston.jl">Gaston</a> package, but <strong>Gnuplot.jl</strong> main focus is on on the syntax conciseness and ease of use.</p>
<h2><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2>
<p>In the Julia REPL type:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> Pkg
Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-s"><span class="pl-pds">"</span>Gnuplot<span class="pl-pds">"</span></span>)</pre></div>
<p>You'll also need <a href="http://gnuplot.info/" rel="nofollow">gnuplot</a> (ver. &gt;= 4.7) installed on your system, and its executable available in your path.</p>
<h2><a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage:</h2>
<p>The simplemost plot ever can be generated with just 7 characters:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> Gnuplot
<span class="pl-c1">@gp</span> <span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">9</span></pre></div>
<p>A slightly more complicated one showing a parabola with a solid line and a legend:</p>
<div class="highlight highlight-source-julia"><pre>x <span class="pl-k">=</span> <span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">100</span>
<span class="pl-c1">@gp</span> x x<span class="pl-k">.^</span><span class="pl-c1">2</span> <span class="pl-s"><span class="pl-pds">"</span>w l tit 'Parabola'<span class="pl-pds">"</span></span></pre></div>
<p>A real life example showing some random noise generated data:</p>
<div class="highlight highlight-source-julia"><pre>x <span class="pl-k">=</span> <span class="pl-c1">range</span>(<span class="pl-k">-</span><span class="pl-c1">2</span>pi, stop<span class="pl-k">=</span><span class="pl-c1">2</span>pi, length<span class="pl-k">=</span><span class="pl-c1">100</span>);
y <span class="pl-k">=</span> <span class="pl-c1">1.5</span> <span class="pl-k">.*</span> <span class="pl-c1">sin</span>.(<span class="pl-c1">0.3</span> <span class="pl-k">.+</span> <span class="pl-c1">0.7</span>x) ;
noise <span class="pl-k">=</span> <span class="pl-c1">randn</span>(<span class="pl-c1">length</span>(x))<span class="pl-k">./</span><span class="pl-c1">2</span>;
e <span class="pl-k">=</span> <span class="pl-c1">0.5</span> <span class="pl-k">*</span> <span class="pl-c1">fill</span>(<span class="pl-c1">1.</span>, <span class="pl-c1">length</span>(x));

<span class="pl-c1">@gp</span>(<span class="pl-s"><span class="pl-pds">"</span>set key horizontal<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>set grid<span class="pl-pds">"</span></span>, title<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>My title<span class="pl-pds">"</span></span>,
    xrange<span class="pl-k">=</span>(<span class="pl-k">-</span><span class="pl-c1">7</span>,<span class="pl-c1">7</span>), ylabel<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>Y label<span class="pl-pds">"</span></span>, xlab<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>X label<span class="pl-pds">"</span></span>,
    x, y, <span class="pl-s"><span class="pl-pds">"</span>w l t 'Real model' dt 2 lw 2 lc rgb 'red'<span class="pl-pds">"</span></span>,
    x, y<span class="pl-k">+</span>noise, e, <span class="pl-s"><span class="pl-pds">"</span>w errorbars t 'Data'<span class="pl-pds">"</span></span>)</pre></div>
<p>The syntax should be familiar to most gnuplot users.  With the code above we:</p>
<ul>
<li>set a few gnuplot properties (<code>key</code> and <code>grid</code>);</li>
<li>set the X axis range and Y axis label;</li>
<li>send the data to Gnuplot;</li>
<li>plot two data sets specifying a few details (style, line width, color, legend, etc...).</li>
</ul>
<p>Note that this simple example already covers the vast majority of use cases, since the remaining details of the plot can be easily tweaked by adding the appropriate Gnuplot commands.  Also note that you would barely recognize the Julia language by just looking at the <code>@gp</code> call since <strong>Gnuplot.jl</strong> aims to be mostly transparent: the user is supposed to focus only on the data and on the Gnuplot commands, rather than the package interface.</p>
<p>If you set the verbose option (<code>Gnuplot.setverbose(true)</code>, which is <code>false</code> by default) you'll be able to see all the communication taking place between the <strong>Gnuplot.jl</strong> package and the underlyng Gnuplot process.  Repeating the last command:</p>
<div class="highlight highlight-source-julia"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">@gp</span>(<span class="pl-s"><span class="pl-pds">"</span>set key horizontal<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>set grid<span class="pl-pds">"</span></span>, title<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>My title<span class="pl-pds">"</span></span>,
    xrange<span class="pl-k">=</span>(<span class="pl-k">-</span><span class="pl-c1">7</span>,<span class="pl-c1">7</span>), ylabel<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>Y label<span class="pl-pds">"</span></span>, xlab<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>X label<span class="pl-pds">"</span></span>,
    x, y, <span class="pl-s"><span class="pl-pds">"</span>w l t 'Real model' dt 2 lw 2 lc rgb 'red'<span class="pl-pds">"</span></span>,
    x, y<span class="pl-k">+</span>noise, e, <span class="pl-s"><span class="pl-pds">"</span>w errorbars t 'Data'<span class="pl-pds">"</span></span>)
GNUPLOT (default) print GPVAL_TERM
GNUPLOT (default) <span class="pl-k">-&gt;</span> wxt
GNUPLOT (default) print GPVAL_TERMOPTIONS
GNUPLOT (default) <span class="pl-k">-&gt;</span> <span class="pl-c1">0</span> enhanced
GNUPLOT (default) set term wxt <span class="pl-c1">0</span> enhanced title <span class="pl-s"><span class="pl-pds">'</span>Gnuplot.jl: default<span class="pl-pds">'</span></span>
GNUPLOT (default) reset session
GNUPLOT (default) set key horizontal
GNUPLOT (default) set grid
GNUPLOT (default) set title  <span class="pl-s"><span class="pl-pds">"</span>My title<span class="pl-pds">"</span></span>
GNUPLOT (default) set xrange  [<span class="pl-k">-</span><span class="pl-c1">7</span><span class="pl-k">:</span><span class="pl-c1">7</span>]
GNUPLOT (default) set ylabel <span class="pl-s"><span class="pl-pds">"</span>Y label<span class="pl-pds">"</span></span>
GNUPLOT (default) set xlabel <span class="pl-s"><span class="pl-pds">"</span>X label<span class="pl-pds">"</span></span>
GNUPLOT (default) <span class="pl-k">$</span>data0 <span class="pl-k">&lt;&lt;</span> EOD
GNUPLOT (default)  <span class="pl-k">-</span><span class="pl-c1">6.283185307179586</span> <span class="pl-c1">1.2258873407968363</span>
GNUPLOT (default)  <span class="pl-k">-</span><span class="pl-c1">6.156252270670907</span> <span class="pl-c1">1.1443471266509504</span>
GNUPLOT (default)  <span class="pl-k">-</span><span class="pl-c1">6.029319234162229</span> <span class="pl-c1">1.05377837392046</span>
GNUPLOT (default)  <span class="pl-k">-</span><span class="pl-c1">5.90238619765355</span> <span class="pl-c1">0.9548956415530343</span>
GNUPLOT (default) <span class="pl-k">...</span>
GNUPLOT (default) EOD
GNUPLOT (default) <span class="pl-k">$</span>data1 <span class="pl-k">&lt;&lt;</span> EOD
GNUPLOT (default)  <span class="pl-k">-</span><span class="pl-c1">6.283185307179586</span> <span class="pl-c1">2.4842815808516905</span> <span class="pl-c1">0.5</span>
GNUPLOT (default)  <span class="pl-k">-</span><span class="pl-c1">6.156252270670907</span> <span class="pl-c1">1.2062036112716572</span> <span class="pl-c1">0.5</span>
GNUPLOT (default)  <span class="pl-k">-</span><span class="pl-c1">6.029319234162229</span> <span class="pl-c1">1.206937328889227</span> <span class="pl-c1">0.5</span>
GNUPLOT (default)  <span class="pl-k">-</span><span class="pl-c1">5.90238619765355</span> <span class="pl-c1">0.23435472973538996</span> <span class="pl-c1">0.5</span>
GNUPLOT (default) <span class="pl-k">...</span>
GNUPLOT (default) EOD
GNUPLOT (default) set key horizontal
GNUPLOT (default) set grid
GNUPLOT (default) set title  <span class="pl-s"><span class="pl-pds">"</span>My title<span class="pl-pds">"</span></span>
GNUPLOT (default) set xrange  [<span class="pl-k">-</span><span class="pl-c1">7</span><span class="pl-k">:</span><span class="pl-c1">7</span>]
GNUPLOT (default) set ylabel <span class="pl-s"><span class="pl-pds">"</span>Y label<span class="pl-pds">"</span></span>
GNUPLOT (default) set xlabel <span class="pl-s"><span class="pl-pds">"</span>X label<span class="pl-pds">"</span></span>
GNUPLOT (default) plot  <span class="pl-k">\</span>
  <span class="pl-k">$</span>data0 w l t <span class="pl-s"><span class="pl-pds">'</span>Real model<span class="pl-pds">'</span></span> dt <span class="pl-c1">2</span> lw <span class="pl-c1">2</span> lc rgb <span class="pl-s"><span class="pl-pds">'</span>red<span class="pl-pds">'</span></span>, <span class="pl-k">\</span>
  <span class="pl-k">$</span>data1 w errorbars t <span class="pl-s"><span class="pl-pds">'</span>Data<span class="pl-pds">'</span></span></pre></div>
<p>The <strong>Gnuplot.jl</strong> package (note the leading <code>GNUPLOT</code>...) tells us which commands are being sent to the gnuplot process and the name of the current gnuplot session (<code>default</code>).  The <strong>Gnuplot.jl</strong> package will also print the replies from gnuplot, e.g.:</p>
<div class="highlight highlight-source-julia"><pre>julia<span class="pl-k">&gt;</span> Gnuplot<span class="pl-k">.</span><span class="pl-c1">exec</span>(<span class="pl-s"><span class="pl-pds">"</span>print GPVAL_TERM<span class="pl-pds">"</span></span>);
GNUPLOT (default) print GPVAL_TERM
GNUPLOT (default) <span class="pl-k">-&gt;</span> qt</pre></div>
<p>Note the different color in the reply (if your terminal is able to display colors).</p>
<p>So far we have shown how to produce plots with a single command, however such task can also be performed using multiple statements.  The syntax is exactly the same, but we should use the <code>:-</code> symbol at the beginning of each statement (except the first) and at the end of each statement (except the last), e.g.:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c"><span class="pl-c">#</span> Reset the gnuplot session and use a dataset named `MyDataSet1`</span>
name <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\$</span>MyDataSet1<span class="pl-pds">"</span></span>
<span class="pl-c1">@gp</span> x y<span class="pl-k">+</span>noise e name :<span class="pl-k">-</span>

<span class="pl-c"><span class="pl-c">#</span> Define a model function to be fitted</span>
<span class="pl-c1">@gp</span> :<span class="pl-k">-</span> <span class="pl-s"><span class="pl-pds">"</span>f(x) = a * sin(b + c*x); a = 1; b = 1; c = 1;<span class="pl-pds">"</span></span>  :<span class="pl-k">-</span>

<span class="pl-c"><span class="pl-c">#</span> Fit the function to the dataset</span>
<span class="pl-c1">@gp</span> :<span class="pl-k">-</span> <span class="pl-s"><span class="pl-pds">"</span>fit f(x) <span class="pl-v">$name</span> u 1:2:3 via a, b, c;<span class="pl-pds">"</span></span> :<span class="pl-k">-</span>

<span class="pl-c"><span class="pl-c">#</span> Prepare a multiplot showing the data, the model...</span>
<span class="pl-c1">@gp</span> :<span class="pl-k">-</span> <span class="pl-s"><span class="pl-pds">"</span>set multiplot layout 2,1<span class="pl-pds">"</span></span> :<span class="pl-k">-</span>
<span class="pl-c1">@gp</span> :<span class="pl-k">-</span> <span class="pl-s"><span class="pl-pds">"</span>plot <span class="pl-v">$name</span> w points tit 'Data'<span class="pl-pds">"</span></span> ylab<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>Data and model<span class="pl-pds">"</span></span> :<span class="pl-k">-</span>
<span class="pl-c1">@gp</span> :<span class="pl-k">-</span> <span class="pl-s"><span class="pl-pds">"</span>plot <span class="pl-v">$name</span> u 1:(f(<span class="pl-cce">\$</span>1)) w lines tit 'Best fit'<span class="pl-pds">"</span></span> :<span class="pl-k">-</span>

<span class="pl-c"><span class="pl-c">#</span> ... and the residuals (the `2` here refer to the second plot in the multiplot).</span>
<span class="pl-c1">@gp</span> :<span class="pl-k">-</span> <span class="pl-c1">2</span> xlab<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>X label<span class="pl-pds">"</span></span> ylab<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>Residuals<span class="pl-pds">"</span></span> :<span class="pl-k">-</span>
<span class="pl-c1">@gp</span> :<span class="pl-k">-</span> <span class="pl-s"><span class="pl-pds">"</span>plot <span class="pl-v">$name</span> u 1:((f(<span class="pl-cce">\$</span>1)-<span class="pl-cce">\$</span>2) / <span class="pl-cce">\$</span>3):(1) w errorbars notit<span class="pl-pds">"</span></span></pre></div>
<p>As discussed above, <strong>Gnuplot.jl</strong> allows to trasparently exploit all gnuplot functionalities.  E.g., we can show a random image with:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">@gp</span> <span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">30</span> <span class="pl-c1">2</span><span class="pl-k">:</span><span class="pl-c1">50</span> <span class="pl-c1">randn</span>(Float64, <span class="pl-c1">30</span>, <span class="pl-c1">50</span>) <span class="pl-s"><span class="pl-pds">"</span>w image<span class="pl-pds">"</span></span></pre></div>
<p>or show an interactive 3D plots using the <code>@gsp</code> macro in place of <code>@gp</code>, e.g.:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">@gsp</span> <span class="pl-c1">randn</span>(Float64, <span class="pl-c1">30</span>, <span class="pl-c1">50</span>)</pre></div>
<p>Further documentation for the <code>@gp</code> and <code>@gsp</code> macros is available in the REPL by means of the <code>@doc</code> macro or by typing <code>?</code> in the REPL followed by the macro name.</p>
<h3><a id="user-content-export-to-image" class="anchor" aria-hidden="true" href="#export-to-image"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Export to image</h3>
<p>TODO</p>
<h3><a id="user-content-save-a-script-file" class="anchor" aria-hidden="true" href="#save-a-script-file"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Save a script file</h3>
<p>TODO</p>
<h3><a id="user-content-multiple-gnuplot-istances" class="anchor" aria-hidden="true" href="#multiple-gnuplot-istances"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Multiple gnuplot istances</h3>
<p>The <strong>Gnuplot.jl</strong> package can handle multiple Gnuplot istances simultaneously, each idenitified by a unique session name (actually a Julia symbol).  To use a specific session simply name it in a <code>@gp</code> or <code>@gsp</code> call.  If the session is not yet created it will be automatically started:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c"><span class="pl-c">#</span> Plot using a session named GP1</span>
x <span class="pl-k">=</span> <span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">10</span>
<span class="pl-c1">@gp</span> <span class="pl-c1">:GP1</span> x x<span class="pl-k">.^</span><span class="pl-c1">2</span>

<span class="pl-c"><span class="pl-c">#</span> Plot using a session named GP2</span>
<span class="pl-c1">@gp</span> x x<span class="pl-k">.^</span><span class="pl-c1">2</span> <span class="pl-c1">:GP2</span>

<span class="pl-c"><span class="pl-c">#</span> Plot using default session (i.e. do not specify any session name)</span>
<span class="pl-c1">@gp</span> x x<span class="pl-k">.^</span><span class="pl-c1">2</span></pre></div>
<h3><a id="user-content-terminating-a-session" class="anchor" aria-hidden="true" href="#terminating-a-session"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Terminating a session</h3>
<p>A session and the associated gnuplot process can be terminated by a call to <code>quit</code>, specifying the session name, e.g.:</p>
<div class="highlight highlight-source-julia"><pre>julia<span class="pl-k">&gt;</span> Gnuplot<span class="pl-k">.</span><span class="pl-c1">quit</span>(<span class="pl-c1">:GP1</span>)</pre></div>
<p>A call to <code>Gnuplot.quitall()</code> will terminate all active sessions.</p>
<h2><a id="user-content-direct-execution-of-gnuplot-commands" class="anchor" aria-hidden="true" href="#direct-execution-of-gnuplot-commands"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Direct execution of gnuplot commands</h2>
<p>Both the <code>@gp</code> and <code>@gsp</code> macros store data and commands in the package state to allow using multiple statements for a single plot, or to save all data and commands on a script file.  However the user may directly execute command on the underlying Gnuplot process using the <code>Gnuplot.exec</code> function.  E.g., we can retrieve the values of the fitting parameters of the previous example:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c"><span class="pl-c">#</span> Retrieve values fr a, b and c</span>
a <span class="pl-k">=</span> Meta<span class="pl-k">.</span><span class="pl-c1">parse</span>(Gnuplot<span class="pl-k">.</span><span class="pl-c1">exec</span>(<span class="pl-s"><span class="pl-pds">"</span>print a<span class="pl-pds">"</span></span>))
b <span class="pl-k">=</span> Meta<span class="pl-k">.</span><span class="pl-c1">parse</span>(Gnuplot<span class="pl-k">.</span><span class="pl-c1">exec</span>(<span class="pl-s"><span class="pl-pds">"</span>print b<span class="pl-pds">"</span></span>))
c <span class="pl-k">=</span> Meta<span class="pl-k">.</span><span class="pl-c1">parse</span>(Gnuplot<span class="pl-k">.</span><span class="pl-c1">exec</span>(<span class="pl-s"><span class="pl-pds">"</span>print c<span class="pl-pds">"</span></span>))</pre></div>
<h2><a id="user-content-customization" class="anchor" aria-hidden="true" href="#customization"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Customization</h2>
<p>A custom command to start a Gnuplot process can be specified as follows</p>
<div class="highlight highlight-source-julia"><pre>Gnuplot<span class="pl-k">.</span>options<span class="pl-k">.</span>cmd <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>/path/to/gnuplot/executable<span class="pl-pds">"</span></span></pre></div>
<p>Also, the package may work in <em>dry</em> mode, i.e. without any underlying Gnuplot process:</p>
<div class="highlight highlight-source-julia"><pre>Gnuplot<span class="pl-k">.</span>options<span class="pl-k">.</span>dry  <span class="pl-k">=</span> <span class="pl-c1">true</span></pre></div>
<p>The prupose is to create gnuplot scripts without running them, e.g:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">@gp</span> x x<span class="pl-k">.^</span><span class="pl-c1">2</span> <span class="pl-s"><span class="pl-pds">"</span>w l<span class="pl-pds">"</span></span>
<span class="pl-c1">save</span>(<span class="pl-s"><span class="pl-pds">"</span>test.gp<span class="pl-pds">"</span></span>)</pre></div>
<p>The <code>test.gp</code> can then be loaded directly in gnuplot with:</p>
<pre><code>gnuplot&gt; load 'test.gp'
</code></pre>
<p>Finally, you can specify initialising commands to be executed when the Gnuplot process starts, in the same way as you use <code>.gnuplotrc</code>.  For instance, to set up a default terminal:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">push!</span>(Gnuplot<span class="pl-k">.</span>options<span class="pl-k">.</span>init, <span class="pl-s"><span class="pl-pds">"</span>set term sixelgd<span class="pl-pds">"</span></span>)</pre></div>
<p>The above command should be executed <em>BEFORE</em> starting a new session. (use <code>Gnuplot.quitall()</code> will terminate all active sessions).</p>
<h2><a id="user-content-plot-in-a-terminal-no-x11" class="anchor" aria-hidden="true" href="#plot-in-a-terminal-no-x11"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Plot in a terminal (no X11)</h2>
<p>Gnuplot supports displaying plot in a terminal application, with no need for X11 or other window frameworks.  This is very useful when you run Julia on a remote shell through <code>ssh</code>, through a slow network link.</p>
<p>The Gnuplot terminals able to operate on "terminal" applications are <code>dumb</code> and <code>sixelgd</code>.  You can use them as default with:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">push!</span>(Gnuplot<span class="pl-k">.</span>options<span class="pl-k">.</span>init, <span class="pl-s"><span class="pl-pds">"</span>set term dumb<span class="pl-pds">"</span></span>)</pre></div>
<p>or</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">push!</span>(Gnuplot<span class="pl-k">.</span>options<span class="pl-k">.</span>init, <span class="pl-s"><span class="pl-pds">"</span>set term sixelgd<span class="pl-pds">"</span></span>)</pre></div>
<p>Note that the latter requires Sixel graphics to be enabled (e.g. <code>xterm -ti vt340</code>).</p>
<h2><a id="user-content-line-styles-and-palettes" class="anchor" aria-hidden="true" href="#line-styles-and-palettes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Line styles and palettes</h2>
<p>The <strong>Gnuplot.jl</strong> package comes with all the <a href="https://juliagraphics.github.io/ColorSchemes.jl/stable/basics/#Pre-defined-schemes-1" rel="nofollow">ColorSchemes</a> palettes readily available.</p>
<p>A gnuplot-compliant palette can be retrieved with <code>palette()</code> and used as any other command, as in the following example:</p>
<div class="highlight highlight-source-julia"><pre>pal1 <span class="pl-k">=</span> <span class="pl-c1">palette</span>(<span class="pl-c1">:deepsea</span>)
pal2 <span class="pl-k">=</span> <span class="pl-c1">palette</span>(<span class="pl-c1">:viridis</span>)

x <span class="pl-k">=</span> <span class="pl-k">-</span><span class="pl-c1">8</span><span class="pl-k">:</span><span class="pl-c1">0.25</span><span class="pl-k">:</span><span class="pl-c1">8</span>
y <span class="pl-k">=</span> <span class="pl-k">-</span><span class="pl-c1">8</span><span class="pl-k">:</span><span class="pl-c1">0.25</span><span class="pl-k">:</span><span class="pl-c1">8</span>
r <span class="pl-k">=</span> [x<span class="pl-k">.^</span><span class="pl-c1">2</span> <span class="pl-k">.+</span> y<span class="pl-k">.^</span><span class="pl-c1">2</span> <span class="pl-k">for</span> x <span class="pl-k">in</span> x, y <span class="pl-k">in</span> y]
z <span class="pl-k">=</span> <span class="pl-c1">sin</span>.(<span class="pl-c1">sqrt</span>.(r)) <span class="pl-k">./</span> <span class="pl-c1">sqrt</span>.(r)

<span class="pl-c1">@gsp</span> <span class="pl-s"><span class="pl-pds">"</span>set multiplot layout 1,2<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>set pm3d depthorder<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>set border 0<span class="pl-pds">"</span></span>
<span class="pl-c1">@gsp</span> :<span class="pl-k">-</span> <span class="pl-s"><span class="pl-pds">"</span>unset key<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>unset xtics<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>unset ytics<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>unset ztics<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>unset colorbox<span class="pl-pds">"</span></span>
<span class="pl-c1">@gsp</span> :<span class="pl-k">-</span> <span class="pl-s"><span class="pl-pds">"</span>set view 60, 30, 1.5, 0.9<span class="pl-pds">"</span></span>
<span class="pl-c1">@gsp</span> :<span class="pl-k">-</span> <span class="pl-c1">1</span> title<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>deepsea (discrete)<span class="pl-pds">"</span></span> pal1 x y z <span class="pl-s"><span class="pl-pds">"</span>w pm3d<span class="pl-pds">"</span></span> <span class="pl-c1">2</span> tit<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>viridis (continuous)<span class="pl-pds">"</span></span> pal2 x y z <span class="pl-s"><span class="pl-pds">"</span>w pm3d<span class="pl-pds">"</span></span></pre></div>
<p>The <a href="https://juliagraphics.github.io/ColorSchemes.jl/stable/basics/#Pre-defined-schemes-1" rel="nofollow">ColorSchemes</a> palettes can also be used to generate line styles, e.g.</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">@gp</span> <span class="pl-c1">linestyles</span>(<span class="pl-c1">:deepsea</span>)
x <span class="pl-k">=</span> <span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">0.1</span><span class="pl-k">:</span><span class="pl-c1">4</span>pi
<span class="pl-k">for</span> i <span class="pl-k">in</span> <span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">5</span>
    <span class="pl-c1">@gp</span> :<span class="pl-k">-</span> x i<span class="pl-k">.*</span> <span class="pl-c1">sin</span>.(x) <span class="pl-s"><span class="pl-pds">"</span>w l notit ls <span class="pl-v">$i</span> lw 10<span class="pl-pds">"</span></span>
<span class="pl-k">end</span></pre></div>
</article></div>