<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><p><a href="https://travis-ci.com/xhub/ReSHOP.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/2cc44e8786975b114eca9eec4bfe8ccd1b9c11ca8dc4bea2562284da227cd77f/68747470733a2f2f7472617669732d63692e636f6d2f786875622f526553484f502e6a6c2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.com/xhub/ReSHOP.jl.svg?branch=master" style="max-width:100%;"></a>
<a href="https://ci.appveyor.com/project/xhub/reshop-jl" rel="nofollow"><img src="https://camo.githubusercontent.com/af59fe3c50a7c6a7960f80d647bbcf8894d196d25e09697b6f4f338e368491f4/68747470733a2f2f63692e6170707665796f722e636f6d2f6170692f70726f6a656374732f7374617475732f3331737661663963316b3567396d76723f7376673d74727565" alt="Build status" data-canonical-src="https://ci.appveyor.com/api/projects/status/31svaf9c1k5g9mvr?svg=true" style="max-width:100%;"></a>
<a href="https://coveralls.io/github/xhub/ReSHOP.jl?branch=master" rel="nofollow"><img src="https://camo.githubusercontent.com/cbdfe9a7e6200c26294d72e720d93e5b9d72ad6eedeae971a3415d334771047b/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f786875622f526553484f502e6a6c2f62616467652e7376673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/github/xhub/ReSHOP.jl/badge.svg?branch=master" style="max-width:100%;"></a>
<a href="https://codecov.io/gh/xhub/ReSHOP.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/69e46249e6d5b1f14791c4083c1bc7d21dc21f396314f673ce964265aa10d9bf/68747470733a2f2f636f6465636f762e696f2f67682f786875622f526553484f502e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/xhub/ReSHOP.jl/branch/master/graph/badge.svg" style="max-width:100%;"></a></p>
<h1><a id="user-content-reshop" class="anchor" aria-hidden="true" href="#reshop"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>ReSHOP</h1>
<p>This package enables the use of the ReSHOP reformulation solver for JuMP models.
ReSHOP stands for <strong>Re</strong>formulation <strong>S</strong>olver for <strong>H</strong>ierrachical <strong>O</strong>ptimization <strong>P</strong>roblems.</p>
<p>It is mostly a reformulation engine, that it performs model transformations to bring a model into a form amenable to computation.
This includes models with Optimal Value functions, bilevel, MPEC, and Equilibrium (Nash Games) problems.
This class of mathematical programs falls into the <a href="https://en.wikipedia.org/wiki/Extended_Mathematical_Programming" rel="nofollow">Extended Mathematical Programming</a>
umbrella. See also this <a href="https://www.gams.com/latest/docs/UG_EMP.html" rel="nofollow">GAMS documentation page</a>, and the <a href="https://github.com/xhub/EMP.jl">EMP.jl</a> Julia package,
as presented in this <a href="https://www.youtube.com/watch?v=u7vASGAJYlY" rel="nofollow">video presentation</a> from the JuMP-dev 2018 workshop.</p>
<p>One side-effect of implementing those model transformations is that ReSHOP has a full-fledged model representation.
This implies that it is capable of acting as a full MOI backend, with direct model capabilities.</p>
<h2><a id="user-content-design" class="anchor" aria-hidden="true" href="#design"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Design</h2>
<p>ReSHOP aims at being efficient in the model transformation. In particular, most of the work is done in memory,
as opposed to writing down the model to a file.</p>
<p>The following figure illustrate the design and workflow of ReSHOP:</p>
<p><a target="_blank" rel="noopener noreferrer" href="./reshop_architecture.svg"><img src="./reshop_architecture.svg" alt="ReSHOP architecture" style="max-width:100%;"></a></p>
<p>The shaded blocks are the functionalities on the roadmap or work in progress.</p>
<p>Note that the link for GAMS is done in memory, without writing a file to be parsed by the <code>gams</code> executable.
This is also planned for the JuMP export.</p>
<h2><a id="user-content-installing" class="anchor" aria-hidden="true" href="#installing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installing</h2>
<p>This package requires a valid GAMS install, with the <code>gams</code> executable in the system path,
that is the <code>gams</code> command be executed in a shell or <code>cmd.exe</code> session.
The user can refer to the GAMS installation instructions.</p>
<h2><a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<p>As of now, there are the following options:</p>
<ul>
<li>the GAMS solver is specified via the <code>solver</code> keyword.</li>
</ul>
<p>The function <code>ReSHOP.setsolverlog</code> switches the display of the GAMS solver log on the standard output.</p>
<p>This solver can be used in the <em>direct model</em> way. It is mostly done, some functions are not implemented, but those are mostly for display purposes.
Testing is unfortunately not as easy with this kind of solver.</p>
<p>Option passing to GAMS (for solver.opt files) is a work in progress.</p>
<h2><a id="user-content-updating" class="anchor" aria-hidden="true" href="#updating"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Updating</h2>
<h3><a id="user-content-updating-reshopjl" class="anchor" aria-hidden="true" href="#updating-reshopjl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Updating ReSHOP.jl</h3>
<p>The package depends on the libreshop library binary. A JLL package for Julia 1.3 and above is in the works.
For now, the libreshop does not get updated with the julia files. After the update, the command <code>] build ReSHOP</code>
needs to be run to also update the library.</p>
<h3><a id="user-content-updating-gams" class="anchor" aria-hidden="true" href="#updating-gams"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Updating GAMS</h3>
<p>ReSHOP needs to bootstrap GAMS via a file. The latter is automatically generated the first time the solver is run.
If the GAMS distribution/license is changed, one needs to run <code>ReSHOP.reshop_init_gams_solverdata(true)</code> to update
the GAMS bootstrap file.</p>
<h2><a id="user-content-limitations" class="anchor" aria-hidden="true" href="#limitations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Limitations</h2>
<ul>
<li>Some GAMS solver seem to misbehave during test, but not when used in some simple cases.
This may be due to some global variable or other kind of memory issue.
Please report such bugs.</li>
</ul>
<h2><a id="user-content-acknowledgements" class="anchor" aria-hidden="true" href="#acknowledgements"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Acknowledgements</h2>
<p>The MBP codepath package is heavily based on AmplNLWriter.jl</p>
<p><em>Note: This package is developed independently of the GAMS corporation</em></p>
</article></div>