<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-richdem" class="anchor" aria-hidden="true" href="#richdem"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>RichDEM</h1>
<p dir="auto"><a href="https://richdem.readthedocs.io/" rel="nofollow"><img src="https://camo.githubusercontent.com/915508cf7e58409f8a2fa6cd8336cd48454a0fd1f69662915dcd09bde4ed7120/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f7269636864656d2f62616467652f3f76657273696f6e3d6c6174657374" alt="ReadTheDocs" data-canonical-src="https://readthedocs.org/projects/richdem/badge/?version=latest" style="max-width: 100%;"></a>
<a href="https://travis-ci.org/r-barnes/richdem" rel="nofollow"><img src="https://camo.githubusercontent.com/86f802032812d488b5c9e83d3624834a12de0e5a83ee4e062057432c11f5ceb0/68747470733a2f2f7472617669732d63692e6f72672f722d6261726e65732f7269636864656d2e7376673f6272616e63683d6d6173746572" alt="Travis" data-canonical-src="https://travis-ci.org/r-barnes/richdem.svg?branch=master" style="max-width: 100%;"></a>
<a href="https://zenodo.org/badge/latestdoi/7469158" rel="nofollow"><img src="https://camo.githubusercontent.com/8647aee38757a805b08b7e20ae1e44597973ab922816a60b9fd1173bd592e15e/68747470733a2f2f7a656e6f646f2e6f72672f62616467652f373436393135382e737667" alt="DOI" data-canonical-src="https://zenodo.org/badge/7469158.svg" style="max-width: 100%;"></a></p>
<p dir="auto">Author: Richard Barnes (<a href="mailto:rbarnes@umn.edu">rbarnes@umn.edu</a>)</p>
<p dir="auto">RichDEM is a set of digital elevation model (DEM) hydrologic analysis tools.
RichDEM uses parallel processing and state of the art algorithms to quickly
process even very large DEMs.</p>
<p dir="auto">RichDEM offers a variety of flow metrics, such as D8 and D∞. It can flood or
breach depressions. It can calculate flow accumulation, slops, curvatures, &amp;c.</p>
<p dir="auto">RichDEM is available as a performant C++ library, a low-dependency Python
package, and a set of command-line tools.</p>
<p dir="auto">Please cite RichDEM (see below).</p>
<h1 dir="auto"><a id="user-content-using-it" class="anchor" aria-hidden="true" href="#using-it"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Using It</h1>
<h2 dir="auto"><a id="user-content-citing-it" class="anchor" aria-hidden="true" href="#citing-it"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Citing It</h2>
<p dir="auto">As of 883ea734e957, David A. Wheeler's SLOCCount estimates the value of RichDEM
at $240,481 and 1.78 person-years of development effort. This value is yours to
use, but citations are encouraged as they provide justification of continued
development.</p>
<p dir="auto">General usage of the library can be cited as:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="Barnes, Richard. 2016. RichDEM: Terrain Analysis Software. http://github.com/r-barnes/richdem"><pre class="notranslate"><code>Barnes, Richard. 2016. RichDEM: Terrain Analysis Software. http://github.com/r-barnes/richdem
</code></pre></div>
<p dir="auto">An example BibTeX entry is:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="@manual{RichDEM,
  title        = {RichDEM: Terrain Analysis Software},
  author       = {Richard Barnes},
  year         = {2016},
  url          = {http://github.com/r-barnes/richdem},
}"><pre class="notranslate"><code>@manual{RichDEM,
  title        = {RichDEM: Terrain Analysis Software},
  author       = {Richard Barnes},
  year         = {2016},
  url          = {http://github.com/r-barnes/richdem},
}
</code></pre></div>
<p dir="auto">This information will be updated as versioned releases become available.</p>
<p dir="auto">Although I have written all of the code in this library, some of the algorithms
were discovered or invented by others, and they deserve credit for their good
work. Citations to particular algorithms will be printed whenever an app,
program, or library function is run. Such citations are prefixed by the
character <code>C</code> and look like:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="C Barnes, R., Lehman, C., Mulla, D., 2014. Priority-flood: An optimal depression-filling and watershed-labeling algorithm for digital elevation models. Computers &amp; Geosciences 62, 117–127. doi:10.1016/j.cageo.2013.04.024"><pre class="notranslate"><code>C Barnes, R., Lehman, C., Mulla, D., 2014. Priority-flood: An optimal depression-filling and watershed-labeling algorithm for digital elevation models. Computers &amp; Geosciences 62, 117–127. doi:10.1016/j.cageo.2013.04.024
</code></pre></div>
<p dir="auto">A typical academic citation might read as follows:</p>
<blockquote>
<p dir="auto">We performed hydrological corrections on our DEM using the Zhou (2016) algorithm implemented in RichDEM (Barnes 2016).</p>
</blockquote>
<h2 dir="auto"><a id="user-content-compilation" class="anchor" aria-hidden="true" href="#compilation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Compilation</h2>
<p dir="auto">To compile, first acquire the source code:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="git clone --recursive https://github.com/r-barnes/richdem"><pre class="notranslate"><code>git clone --recursive https://github.com/r-barnes/richdem
</code></pre></div>
<p dir="auto">You will need a C++ compiler, <em>cmake</em>, and, optionally, <em>libgdal</em>. If you are
using <em>conda</em>, you can install these requirements in a new environment with
the following commands:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ conda create -n richdem
$ conda activate richdem
$ conda install --file=requirements.txt -c conda-forge"><pre class="notranslate"><code>$ conda create -n richdem
$ conda activate richdem
$ conda install --file=requirements.txt -c conda-forge
</code></pre></div>
<p dir="auto">Then compile using the standard <code>cmake</code> sequence:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ mkdir build
$ cd build
$ cmake -DCMAKE_BUILD_TYPE=RelWithDebInfo ..
$ make -j 6    # Adjust to use more or fewer processors"><pre class="notranslate"><code>$ mkdir build
$ cd build
$ cmake -DCMAKE_BUILD_TYPE=RelWithDebInfo ..
$ make -j 6    # Adjust to use more or fewer processors
</code></pre></div>
<p dir="auto">If you do not want to build <em>richdem</em> with <em>gdal</em>, use the <code>-DUSE_GDAL=OFF</code>
option. To install <em>richdem</em>:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ cmake --install . --prefix /my/install/prefix"><pre class="notranslate"><code>$ cmake --install . --prefix /my/install/prefix
</code></pre></div>
<p dir="auto">If you are using <em>conda</em>, <code>/my/install/prefix</code> should be <code>$CONDA_PREFIX</code>.</p>
<p dir="auto">RichDEM includes some programs to process extremely large digital elevation
models, as well as for handling many DEM formats. Special prerequisites,
automatically detected by cmake, are needed for these to compile: GDAL, MPI, and
Boost. To install these on a Debian machine use:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="sudo apt install openmpi-bin libgdal-dev libopenmpi-dev libboost-iostreams-dev"><pre class="notranslate"><code>sudo apt install openmpi-bin libgdal-dev libopenmpi-dev libboost-iostreams-dev
</code></pre></div>
<h2 dir="auto"><a id="user-content-as-a-python-package" class="anchor" aria-hidden="true" href="#as-a-python-package"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>As A Python Package</h2>
<h3 dir="auto"><a id="user-content-from-source" class="anchor" aria-hidden="true" href="#from-source"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>From source</h3>
<p dir="auto">After installing the <em>richdem</em> library (as described above), you can build
<em>richdem</em> as a Python package. To do this, you will of course need Python
(3.7+), which you can install with <em>conda</em>,</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ conda install python"><pre class="notranslate"><code>$ conda install python
</code></pre></div>
<p dir="auto">You can now build the <em>richdem</em> Python package,</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ cd wrappers/pyrichdem
$ pip install -e ."><pre class="notranslate"><code>$ cd wrappers/pyrichdem
$ pip install -e .
</code></pre></div>
<h3 dir="auto"><a id="user-content-from-conda" class="anchor" aria-hidden="true" href="#from-conda"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>From conda</h3>
<p dir="auto">To install a pre-built version of <em>richdem</em> using <em>conda</em>,</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ conda install richdem -c conda-forge"><pre class="notranslate"><code>$ conda install richdem -c conda-forge
</code></pre></div>
<h3 dir="auto"><a id="user-content-from-pypi-using-pip" class="anchor" aria-hidden="true" href="#from-pypi-using-pip"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>From PyPI using pip</h3>
<p dir="auto">Get the package with:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ pip install richdem"><pre class="notranslate"><code>$ pip install richdem
</code></pre></div>
<p dir="auto">And use:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; import richdem"><pre class="notranslate"><code>&gt;&gt;&gt; import richdem
</code></pre></div>
<p dir="auto">The command:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; help(richdem)"><pre class="notranslate"><code>&gt;&gt;&gt; help(richdem)
</code></pre></div>
<p dir="auto">provides all the relevant documentation.</p>
<h2 dir="auto"><a id="user-content-as-a-command-line-tool" class="anchor" aria-hidden="true" href="#as-a-command-line-tool"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>As A Command-line Tool</h2>
<p dir="auto">To get the command-line tools, install the Python package with:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="pip3 install richdem"><pre class="notranslate"><code>pip3 install richdem
</code></pre></div>
<p dir="auto">The command-line tools are all named <code>rd_*</code>, so typing <code>rd_</code> on your command-
line and hitting tab a few times should give you the full list of what's
available.</p>
<h2 dir="auto"><a id="user-content-as-a-library" class="anchor" aria-hidden="true" href="#as-a-library"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>As A Library</h2>
<p dir="auto">Upon compilation, point your library search path to the <code>include</code> directory.
Include various files using, e.g.</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="#include &quot;richdem/common/Array2D.hpp&quot;"><pre class="notranslate"><code>#include "richdem/common/Array2D.hpp"
</code></pre></div>
<p dir="auto">All files include extensive documentation. At this stage the location of certain
functions may be subject to change. This will be noted in the <code>NEWS</code> file. (TODO)</p>
<h2 dir="auto"><a id="user-content-as-a-handy-collection-of-tools" class="anchor" aria-hidden="true" href="#as-a-handy-collection-of-tools"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>As A Handy Collection of Tools</h2>
<p dir="auto">Running <code>make</code> in the <code>apps</code> directory will produce a large number of useful
scripts which are essentially wrappers around standard uses of the RichDEM
libraries. The <a href="apps/README.md">apps/README.md</a> file and the apps themselves
contain documentation explaining what they all do.</p>
<h2 dir="auto"><a id="user-content-for-processing-large-datasets" class="anchor" aria-hidden="true" href="#for-processing-large-datasets"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>For Processing Large Datasets</h2>
<p dir="auto">The <code>programs</code> directory contains several programs which have not been converted
to libraries. This is usually because their functionality is specific and they
are unlikely to be useful as a library. Each directory contains a makefile and a
readme explaining the purpose of the program.</p>
<h2 dir="auto"><a id="user-content-documentation" class="anchor" aria-hidden="true" href="#documentation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Documentation</h2>
<p dir="auto">Documentation is available at <a href="http://richdem.com/doc/index.html" rel="nofollow">richdem.com</a>.
The documentation is auto-generated from the many <code>README.md</code> files throughout
the codebase and the extensive comments in the source code.</p>
<h1 dir="auto"><a id="user-content-design-philosophy" class="anchor" aria-hidden="true" href="#design-philosophy"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Design Philosophy</h1>
<p dir="auto">The design of RichDEM is guided by these principles:</p>
<ul dir="auto">
<li>
<p dir="auto"><strong>Algorithms will be well-tested.</strong> Every algorithm is verified by a rigorous
testing procedure. See below.</p>
</li>
<li>
<p dir="auto"><strong>Algorithms will be fast, without compromising safety and accuracy.</strong> The
algorithms used in RichDEM are state of the art, permitting analyses that
would take days on other systems to be performed in hours, or even minutes.</p>
</li>
<li>
<p dir="auto"><strong>Algorithms will be available as libraries, whenever possible.</strong> RichDEM is
designed as a set of header-only C++ libraries, making it easy to include in
your projects and easy to incorporate into other programming languages.
RichDEM also includes apps, which are simple wrappers around the algorithms,
and a limited, but growing, set of algorithms which may have special
requirements, like MPI, that make them unsuitable as libraries. These are
available as programs.</p>
</li>
<li>
<p dir="auto"><strong>Programs will have a command-line interface, not a GUI.</strong> Command-line
interfaces are simple to use and offer extreme flexibility for both users and
programmers. They are available on every type of operating system. RichDEM
does not officially support any GUI. Per the above, encapsulating RichDEM in
a high-level interface of your own is not difficult.</p>
</li>
<li>
<p dir="auto"><strong>Algorithms and programs will be portable.</strong> Linux, Mac, and Windows should
all be supported.</p>
</li>
<li>
<p dir="auto"><strong>The code will be beautiful.</strong> RichDEM's code utilizes sensible variable
names and reasonable abstractions to make it easy to understand, use, and
design algorithms. The code contains extensive internal documentation which is
DOxygen compatible.</p>
</li>
<li>
<p dir="auto"><strong>Programs and algorithms will provide useful feedback.</strong> Progress bars will
appear if desired and the output will be optimized for machine parsing.</p>
</li>
<li>
<p dir="auto"><strong>Analyses will be reproducible.</strong> Every time you run a RichDEM command that
command is logged and timestamped in the output data, along with the version
of the program you created the output with. Additionally, a history of all
previous manipulations to the data is kept. Use <code>rd_view_processing_history</code>
to see this.**</p>
</li>
</ul>
<h1 dir="auto"><a id="user-content-testing-methodology" class="anchor" aria-hidden="true" href="#testing-methodology"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Testing Methodology</h1>
<p dir="auto">Simple algorithms are shown to be correct through visual inspection and
comparison against hand-crafted examples. Correctness for more complex
algorithms is often "boot-strapped" by comparing the results of simple
algorithms versus the complex algorithms on a large number of randomly-generated
datasets.</p>
<p dir="auto">This is a work in progress. TODO</p>
<h1 dir="auto"><a id="user-content-correctness" class="anchor" aria-hidden="true" href="#correctness"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Correctness</h1>
<p dir="auto">Correctness is established via a number of methodologies building from code
inspection in the simplest cases to output comparison between simple and complex
implementations.</p>
<p dir="auto">Correctness is noted in source code comments under <code>@correctness</code> sections.
These are, in turn, printed to the Doxygen documentation output.</p>
<p dir="auto">A master list of how correctness was established for each algorithm is available
at <a href="tests/README.md">tests/README.md</a>.</p>
<h1 dir="auto"><a id="user-content-parsable-output" class="anchor" aria-hidden="true" href="#parsable-output"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Parsable Output</h1>
<p dir="auto">Every line of output from RichDEM begins with one of the following characters,
making it easy to parse with a machine.</p>
<ul dir="auto">
<li>
<p dir="auto"><strong>A</strong>: Algorithm name</p>
</li>
<li>
<p dir="auto"><strong>a</strong>: Analysis command: the command line used to run the program</p>
</li>
<li>
<p dir="auto"><strong>c</strong>: Configuration information: program version, input files, and command
line options, &amp;c.</p>
</li>
<li>
<p dir="auto"><strong>C</strong>: Citation for algorithm</p>
</li>
<li>
<p dir="auto"><strong>d</strong>: Debugging info</p>
</li>
<li>
<p dir="auto"><strong>E</strong>: Indicates an error condition</p>
</li>
<li>
<p dir="auto"><strong>i</strong>: I/O: Amount of data loaded from disk</p>
</li>
<li>
<p dir="auto"><strong>m</strong>: Miscallaneous counts</p>
</li>
<li>
<p dir="auto"><strong>n</strong>: I/O: Amount of data transferred through a network</p>
</li>
<li>
<p dir="auto"><strong>p</strong>: Progress information: inform the user to keep calm because we're
carrying on.</p>
</li>
<li>
<p dir="auto"><strong>r</strong>: Amount of RAM used</p>
</li>
<li>
<p dir="auto"><strong>t</strong>: Timing information: How long stuff took</p>
</li>
<li>
<p dir="auto"><strong>W</strong>: Indicates a warning</p>
</li>
</ul>
<p dir="auto">All output data shall have the form:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="&lt;INDICATOR CHARACTER&gt; &lt;MESSAGE/MEASUREMENT NAME&gt; [= &lt;VALUE&gt; [UNIT]]"><pre class="notranslate"><code>&lt;INDICATOR CHARACTER&gt; &lt;MESSAGE/MEASUREMENT NAME&gt; [= &lt;VALUE&gt; [UNIT]]
</code></pre></div>
<p dir="auto">The amount of whitespace may very for aesthetic purposes.</p>
<h1 dir="auto"><a id="user-content-specific-algorithms" class="anchor" aria-hidden="true" href="#specific-algorithms"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Specific Algorithms</h1>
<p dir="auto">Many of the algorithms used in RichDEM are documented in journal or conference
publications. In the case of older algorithms by other authors, it is often
possible to find the paper in the literature. Some of the newer algorithms I
developed have not yet had a chance to be widely utilized. These algorithms are
listed below.</p>
<p dir="auto">Additionally, each publication has its own GitHub repository featuring
easily-compiled, minimum working examples of the algorithms, along with examples
and test data sets.</p>
<p dir="auto">These are available as follows:</p>
<ul dir="auto">
<li>Flat-resolution algorithm. <a href="https://github.com/r-barnes/Barnes2013-FlatSurfaces">Link</a></li>
<li>Depression-filling algorithm. <a href="https://github.com/r-barnes/Barnes2013-Depressions">Link</a></li>
<li>Large dataset depression-filling algorithm. <a href="https://github.com/r-barnes/Barnes2016-ParallelPriorityFlood">Link</a></li>
<li>Large dataset flow accumulation algorithm. <a href="https://github.com/r-barnes/Barnes2016-ParallelFlowAccum">Link</a></li>
</ul>
<h1 dir="auto"><a id="user-content-publications" class="anchor" aria-hidden="true" href="#publications"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Publications</h1>
<p dir="auto">The algorithms used in RichDEM have been published in the following articles. Every algorithm/program will provide its relevant citation information when run.</p>
<ul dir="auto">
<li>
<p dir="auto">Barnes, R., 2017. Parallel non-divergent flow accumulation for trillion cell digital elevation models on desktops or clusters. Environmental Modelling &amp; Software 92, 202–212. doi:<a href="https://doi.org/10.1016/j.envsoft.2017.02.022" rel="nofollow">10.1016/j.envsoft.2017.02.022</a></p>
</li>
<li>
<p dir="auto">Barnes, R., 2016. Parallel priority-flood depression filling for trillion cell digital elevation models on desktops or clusters. Computers &amp; Geosciences 96, 56–68. doi:<a href="https://doi.org/10.1016/j.cageo.2016.07.001" rel="nofollow">10.1016/j.cageo.2016.07.001</a></p>
</li>
<li>
<p dir="auto">Barnes, R., Lehman, C., Mulla, D., 2014a. An efficient assignment of drainage direction over flat surfaces in raster digital elevation models. Computers &amp; Geosciences 62, 128–135. doi:<a href="https://doi.org/10.1016/j.cageo.2013.01.009" rel="nofollow">10.1016/j.cageo.2013.01.009</a></p>
</li>
<li>
<p dir="auto">Barnes, R., Lehman, C., Mulla, D., 2014b. Priority-flood: An optimal depression-filling and watershed-labeling algorithm for digital elevation models. Computers &amp; Geosciences 62, 117–127. doi:<a href="https://doi.org/10.1016/j.cageo.2013.04.024" rel="nofollow">10.1016/j.cageo.2013.04.024</a></p>
</li>
<li>
<p dir="auto">Barnes, Lehman, Mulla. 2011. "Distributed Parallel D8 Up-Slope Area Calculation in Digital Elevation Models". Intn'l Conf. on Parallel &amp; Distributed Processing Techniques &amp; Applications. <a href="http://rbarnes.org/section/sci/2011_barnes_distributed.pdf" rel="nofollow">Link</a></p>
</li>
<li>
<p dir="auto">Horn, B.K.P., 1981. Hill shading and the reflectance map. Proceedings of the IEEE 69, 14–47. doi:<a href="http://dx.doi.org/10.1109/PROC.1981.11918" rel="nofollow">10.1109/PROC.1981.11918</a></p>
</li>
<li>
<p dir="auto">Mulla et al. including Barnes. 2012. "Strategic Planning for Minnesota’s Natural and Artificial Watersheds". Report to the Minnesota LCCMR.</p>
</li>
<li>
<p dir="auto">Tarboton, D.G. 1997. A new method for the determination of flow directions and upslope areas in grid digital elevation models. Water Resources Research. Vol. 33. pp 309-319.</p>
</li>
<li>
<p dir="auto">Zevenbergen, L.W., Thorne, C.R., 1987. Quantitative analysis of land surface topography. Earth surface processes and landforms 12, 47–56.</p>
</li>
<li>
<p dir="auto">Zhou, G., Sun, Z., Fu, S., 2016. An efficient variant of the Priority-Flood algorithm for filling depressions in raster digital elevation models. Computers &amp; Geosciences 90, Part A, 87 – 96. doi:<a href="http://dx.doi.org/10.1016/j.cageo.2016.02.021" rel="nofollow">10.1016/j.cageo.2016.02.021</a></p>
</li>
</ul>
<h1 dir="auto"><a id="user-content-credits" class="anchor" aria-hidden="true" href="#credits"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Credits</h1>
<p dir="auto">RichDEM has been developed and tested using computational resources provided by
the <a href="https://www.msi.umn.edu/" rel="nofollow">Minnesota Supercomputing Institute</a> (MSI) and the
U.S. National Science Foundation's <a href="https://www.xsede.org/" rel="nofollow">XSEDE</a>.</p>
<p dir="auto">Funding for the development of RichDEM has been provided by the <a href="http://www.lccmr.leg.mn/" rel="nofollow">Legislative-Citizen Commission on Minnesota Resources</a> (LCCMR), the U.S. National Science
Foundation <a href="https://www.nsfgrfp.org/" rel="nofollow">Graduate Research Fellowship</a>, and the U.S. Department of Energy
<a href="https://www.krellinst.org/csgf/" rel="nofollow">Computational Science Graduate Fellowship</a>.</p>
<h1 dir="auto"><a id="user-content-feedback" class="anchor" aria-hidden="true" href="#feedback"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Feedback</h1>
<p dir="auto"><em>If you see something, say something.</em></p>
<p dir="auto">Users are encouraged to report any issues experienced with the code via Github's
issue tracker. Feedback is also accepted via email (<a href="mailto:rbarnes@umn.edu">rbarnes@umn.edu</a>), though
this is highly discouraged as it does not provide a resource for others.</p>
</article></div>