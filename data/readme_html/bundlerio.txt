<div id="readme" class="md" data-path="Readme.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-bundlerio" class="anchor" aria-hidden="true" href="#bundlerio"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>BundlerIO</h1>
<p dir="auto">This Julia package loads and saves <a href="https://www.cs.cornell.edu/~snavely/bundler/bundler-v0.4-manual.html" rel="nofollow">Bundler files</a>, used in the context of Photogrammetry and Struture from Motion.</p>
<h2 dir="auto"><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<p dir="auto">The package is available in the Julia package repository and can be installed in the Julia REPL package mode:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="pkg&gt; add FileIO BundlerIO"><pre>pkg<span class="pl-k">&gt;</span> add FileIO BundlerIO</pre></div>
<p dir="auto">The dependencies are installed automatically. The package depends on <a href="https://github.com/JuliaGeometry/Meshes.jl">Meshes.jl</a> for the geometry representation, <a href="https://github.com/peterkovesi/ImageProjectiveGeometry.jl">ImageProjectiveGeometry.jl</a> for the representation of the cameras.</p>
<h2 dir="auto"><a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Usage</h2>
<p dir="auto">The loading and writing is done via the <a href="https://github.com/JuliaIO/FileIO.jl">FileIO.jl</a> interface:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using FileIO
bundle = load(&quot;bundle.out&quot;)
save(&quot;new_bundle.out&quot;, bundle)"><pre><span class="pl-k">using</span> FileIO
bundle <span class="pl-k">=</span> <span class="pl-c1">load</span>(<span class="pl-s"><span class="pl-pds">"</span>bundle.out<span class="pl-pds">"</span></span>)
<span class="pl-c1">save</span>(<span class="pl-s"><span class="pl-pds">"</span>new_bundle.out<span class="pl-pds">"</span></span>, bundle)</pre></div>
<p dir="auto">The loaded data is in a <code>Bundle</code> struct, that contains the points, cameras, views, and optionally colors and keypoints. The cameras are an array of <code>Camera</code> objects from <a href="https://github.com/peterkovesi/ImageProjectiveGeometry.jl">ImageProjectiveGeometry.jl</a>, the 3D points are an array of <code>Point3</code> objects from  <a href="https://github.com/JuliaGeometry/Meshes.jl">Meshes.jl</a> and the views are a <code>Dictionary</code> with a tuple of <code>(camera_id, point_id)</code> as keys and the pixel coordinates of the projection of that point into the image of that camera as value. The colors are an array of <code>Color</code> objects from <a href="https://github.com/JuliaGraphics/ColorTypes.jl">ColorTypes.jl</a>. The keypoints are in a similar dict to the views, where the values are the ID of the SIFT keypoints that have been computed during SfM. This data is not always present and only kept for completeness.</p>
</article></div>