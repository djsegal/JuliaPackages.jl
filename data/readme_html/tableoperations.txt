<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1><a id="user-content-tableoperations" class="anchor" aria-hidden="true" href="#tableoperations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>TableOperations</h1>
<p><em>Common table operations on Tables.jl compatible sources</em></p>
<p><a href="https://github.com/JuliaData/TableOperations.jl/actions?query=workflow%3ACI"><img src="https://github.com/JuliaData/TableOperations.jl/workflows/CI/badge.svg" alt="CI" style="max-width:100%;"></a>
<a href="https://codecov.io/gh/JuliaData/TableOperations.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/0edb0899454068b607ca16e23ca3dba24315ef7d2cad414981528203e75c2807/68747470733a2f2f636f6465636f762e696f2f67682f4a756c6961446174612f5461626c654f7065726174696f6e732e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/JuliaData/TableOperations.jl/branch/master/graph/badge.svg" style="max-width:100%;"></a>
<a href="https://juliahub.com/ui/Packages/TableOperations/5GGWt?t=2" rel="nofollow"><img src="https://camo.githubusercontent.com/6a497bdcacad380a1411e16b15f49bff7c5dcf391adfd10c76d73c0541986267/68747470733a2f2f6a756c69616875622e636f6d2f646f63732f5461626c654f7065726174696f6e732f646570732e737667" alt="deps" data-canonical-src="https://juliahub.com/docs/TableOperations/deps.svg" style="max-width:100%;"></a>
<a href="https://juliahub.com/ui/Packages/TableOperations/5GGWt" rel="nofollow"><img src="https://camo.githubusercontent.com/05a35722024435fba0f725079594ea3d09c303987f94e27f2aa8b9b07d9e5472/68747470733a2f2f6a756c69616875622e636f6d2f646f63732f5461626c654f7065726174696f6e732f76657273696f6e2e737667" alt="version" data-canonical-src="https://juliahub.com/docs/TableOperations/version.svg" style="max-width:100%;"></a>
<a href="https://juliahub.com/ui/Packages/TableOperations/5GGWt" rel="nofollow"><img src="https://camo.githubusercontent.com/05a35722024435fba0f725079594ea3d09c303987f94e27f2aa8b9b07d9e5472/68747470733a2f2f6a756c69616875622e636f6d2f646f63732f5461626c654f7065726174696f6e732f76657273696f6e2e737667" alt="version" data-canonical-src="https://juliahub.com/docs/TableOperations/version.svg" style="max-width:100%;"></a></p>
<p><strong>Installation</strong>: at the Julia REPL, <code>import Pkg; Pkg.add("TableOperations")</code></p>
<p><strong>Maintenance</strong>: TableOperations is maintained collectively by the <a href="https://github.com/orgs/JuliaData/people">JuliaData collaborators</a>.
Responsiveness to pull requests and issues can vary, depending on the availability of key collaborators.</p>
<h2><a id="user-content-documentation" class="anchor" aria-hidden="true" href="#documentation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Documentation</h2>
<h3><a id="user-content-tableoperationsselect" class="anchor" aria-hidden="true" href="#tableoperationsselect"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>TableOperations.select</code></h3>
<p>The <code>TableOperations.select</code> function allows specifying a custom subset and order of columns from a Tables.jl source, like:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="ctable = (A=[1, missing, 3], B=[1.0, 2.0, 3.0], C=[&quot;hey&quot;, &quot;there&quot;, &quot;sailor&quot;])

table_subset = ctable |&gt; TableOperations.select(:C, :A) |&gt; Tables.columntable
"><pre>ctable <span class="pl-k">=</span> (A<span class="pl-k">=</span>[<span class="pl-c1">1</span>, <span class="pl-c1">missing</span>, <span class="pl-c1">3</span>], B<span class="pl-k">=</span>[<span class="pl-c1">1.0</span>, <span class="pl-c1">2.0</span>, <span class="pl-c1">3.0</span>], C<span class="pl-k">=</span>[<span class="pl-s"><span class="pl-pds">"</span>hey<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>there<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>sailor<span class="pl-pds">"</span></span>])

table_subset <span class="pl-k">=</span> ctable <span class="pl-k">|&gt;</span> TableOperations<span class="pl-k">.</span><span class="pl-c1">select</span>(<span class="pl-c1">:C</span>, <span class="pl-c1">:A</span>) <span class="pl-k">|&gt;</span> Tables<span class="pl-k">.</span>columntable</pre></div>
<p>This "selects" the <code>C</code> and <code>A</code> columns from the original table, and re-orders them with <code>C</code> first. The column names can be provided as <code>String</code>s, <code>Symbol</code>s, or <code>Integer</code>s.</p>
<h3><a id="user-content-tableoperationstransform" class="anchor" aria-hidden="true" href="#tableoperationstransform"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>TableOperations.transform</code></h3>
<p>The <code>TableOperations.transform</code> function allows specifying a "transform" function per column that will be applied per element. This is handy
when a simple transformation is needed for a specific column (or columns). Note that this doesn't allow the creation of new columns,
but only applies the transform function to the specified column, and thus, replacing the original column. Usage is like:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="ctable = (A=[1, missing, 3], B=[1.0, 2.0, 3.0], C=[&quot;hey&quot;, &quot;there&quot;, &quot;sailor&quot;])

table = ctable |&gt; TableOperations.transform(C=x-&gt;Symbol(x)) |&gt; Tables.columntable
"><pre>ctable <span class="pl-k">=</span> (A<span class="pl-k">=</span>[<span class="pl-c1">1</span>, <span class="pl-c1">missing</span>, <span class="pl-c1">3</span>], B<span class="pl-k">=</span>[<span class="pl-c1">1.0</span>, <span class="pl-c1">2.0</span>, <span class="pl-c1">3.0</span>], C<span class="pl-k">=</span>[<span class="pl-s"><span class="pl-pds">"</span>hey<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>there<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>sailor<span class="pl-pds">"</span></span>])

table <span class="pl-k">=</span> ctable <span class="pl-k">|&gt;</span> TableOperations<span class="pl-k">.</span><span class="pl-c1">transform</span>(C<span class="pl-k">=</span>x<span class="pl-k">-&gt;</span><span class="pl-c1">Symbol</span>(x)) <span class="pl-k">|&gt;</span> Tables<span class="pl-k">.</span>columntable</pre></div>
<p>Here, we're providing the transform function <code>x-&gt;Symbol(x)</code>, which turns an argument into a <code>Symbol</code>, and saying we should apply it to the <code>C</code> column.
Multiple tranfrom functions can be provided for multiple columns and the column to transform function can also be provided in <code>Dict</code>s that
map column names as <code>String</code>s, <code>Symbol</code>s, or even <code>Int</code>s (referring to the column index).</p>
<h3><a id="user-content-tableoperationsfilter" class="anchor" aria-hidden="true" href="#tableoperationsfilter"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>TableOperations.filter</code></h3>
<p>The <code>TableOperations.filter</code> function allows applying a "filter" function to each row in the input table source, keeping rows for which <code>f(row)</code> is <code>true</code>.
Usage is like:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="ctable = (A=[1, missing, 3], B=[1.0, 2.0, 3.0], C=[&quot;hey&quot;, &quot;there&quot;, &quot;sailor&quot;])

table = ctable |&gt; TableOperations.filter(x-&gt;Tables.getcolumn(x, :B) &gt; 2.0) |&gt; Tables.columntable
"><pre>ctable <span class="pl-k">=</span> (A<span class="pl-k">=</span>[<span class="pl-c1">1</span>, <span class="pl-c1">missing</span>, <span class="pl-c1">3</span>], B<span class="pl-k">=</span>[<span class="pl-c1">1.0</span>, <span class="pl-c1">2.0</span>, <span class="pl-c1">3.0</span>], C<span class="pl-k">=</span>[<span class="pl-s"><span class="pl-pds">"</span>hey<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>there<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>sailor<span class="pl-pds">"</span></span>])

table <span class="pl-k">=</span> ctable <span class="pl-k">|&gt;</span> TableOperations<span class="pl-k">.</span><span class="pl-c1">filter</span>(x<span class="pl-k">-&gt;</span>Tables<span class="pl-k">.</span><span class="pl-c1">getcolumn</span>(x, <span class="pl-c1">:B</span>) <span class="pl-k">&gt;</span> <span class="pl-c1">2.0</span>) <span class="pl-k">|&gt;</span> Tables<span class="pl-k">.</span>columntable</pre></div>
<h3><a id="user-content-tableoperationsmap" class="anchor" aria-hidden="true" href="#tableoperationsmap"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>TableOperations.map</code></h3>
<p>The <code>TableOperations.map</code> function allows applying a "mapping" function to each row in the input table source; the function <code>f</code> should take and
return a Tables.jl <code>Row</code> compatible object. Usage is like:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="ctable = (A=[1, missing, 3], B=[1.0, 2.0, 3.0], C=[&quot;hey&quot;, &quot;there&quot;, &quot;sailor&quot;])

table = ctable |&gt; TableOperations.map(x-&gt;(A=Tables.getcolumn(x, :A), C=Tables.getcolumn(x, :C), B=Tables.getcolumn(x, :B) * 2)) |&gt; Tables.columntable
"><pre>ctable <span class="pl-k">=</span> (A<span class="pl-k">=</span>[<span class="pl-c1">1</span>, <span class="pl-c1">missing</span>, <span class="pl-c1">3</span>], B<span class="pl-k">=</span>[<span class="pl-c1">1.0</span>, <span class="pl-c1">2.0</span>, <span class="pl-c1">3.0</span>], C<span class="pl-k">=</span>[<span class="pl-s"><span class="pl-pds">"</span>hey<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>there<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>sailor<span class="pl-pds">"</span></span>])

table <span class="pl-k">=</span> ctable <span class="pl-k">|&gt;</span> TableOperations<span class="pl-k">.</span><span class="pl-c1">map</span>(x<span class="pl-k">-&gt;</span>(A<span class="pl-k">=</span>Tables<span class="pl-k">.</span><span class="pl-c1">getcolumn</span>(x, <span class="pl-c1">:A</span>), C<span class="pl-k">=</span>Tables<span class="pl-k">.</span><span class="pl-c1">getcolumn</span>(x, <span class="pl-c1">:C</span>), B<span class="pl-k">=</span>Tables<span class="pl-k">.</span><span class="pl-c1">getcolumn</span>(x, <span class="pl-c1">:B</span>) <span class="pl-k">*</span> <span class="pl-c1">2</span>)) <span class="pl-k">|&gt;</span> Tables<span class="pl-k">.</span>columntable</pre></div>
<h2><a id="user-content-contributing-and-questions" class="anchor" aria-hidden="true" href="#contributing-and-questions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Contributing and Questions</h2>
<p>Contributions are very welcome, as are feature requests and suggestions. Please open an
<a href="https://github.com/JuliaData/TableOperations.jl/issues">issue</a> if you encounter any problems or would just like to ask a question.</p>
</article></div>