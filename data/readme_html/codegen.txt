<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-codegen" class="anchor" aria-hidden="true" href="#codegen"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CodeGen</h1>
<p><strong>This package is experimental and a work in progress.</strong></p>
<p>The main purpose of this package is to generate LLVM IR from Julia code. It is targeted (for now) at static code. The resulting IR can be save to a bitcode (.bc) file that can be compiled with Clang. It requires Julia dev-0.7.</p>
<p>Example:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-en">myfun</span>(x) <span class="pl-k">=</span> <span class="pl-c1">sum</span>((x, x, <span class="pl-c1">1.0</span>))

llvm_module <span class="pl-k">=</span> <span class="pl-c1">codegen</span>(myfun, Tuple{Float64})
<span class="pl-c1">write</span>(llvm_module, <span class="pl-s"><span class="pl-pds">"</span>myfun.bc<span class="pl-pds">"</span></span>)</pre></div>
<p>For some code, you can also test it in Julia. It generates code but uses LLVM's JIT compiler to compile and run it. Here is an example:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">@jitrun</span>(myfun, <span class="pl-c1">2.3</span>) <span class="pl-k">==</span> <span class="pl-c1">myfun</span>(<span class="pl-c1">2.3</span>)</pre></div>
<p>This package uses the awesome <a href="https://github.com/maleadt/LLVM.jl">LLVM.jl package</a>. LLVM.jl requires special installation instructions--it requires a source build of Julia (see their site for more info).</p>
<p>The approach here is much simpler than the codegen in base Julia. Here, the main language constructs and intrinsics are converted to LLVM IR. Generic functions and other constructs are coded using the C API.</p>
</article></div>