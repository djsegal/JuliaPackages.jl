<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1><a id="user-content-cyclicarrays" class="anchor" aria-hidden="true" href="#cyclicarrays"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>CyclicArrays</h1>
<p><a href="https://udistr.github.io/CyclicArrays.jl/stable" rel="nofollow"><img src="https://camo.githubusercontent.com/f7b92a177c912c1cc007fc9b40f17ff3ee3bb414/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d737461626c652d626c75652e737667" alt="Stable" data-canonical-src="https://img.shields.io/badge/docs-stable-blue.svg" style="max-width:100%;"></a>
<a href="https://udistr.github.io/CyclicArrays.jl/dev" rel="nofollow"><img src="https://camo.githubusercontent.com/3e353c26ddfe819150acbc732248f4f2a37f5175/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6465762d626c75652e737667" alt="Dev" data-canonical-src="https://img.shields.io/badge/docs-dev-blue.svg" style="max-width:100%;"></a>
<a href="https://travis-ci.org/udistr/CyclicArrays.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/09319566a979815e0307d4a79a7fe18af459c203/68747470733a2f2f7472617669732d63692e6f72672f7564697374722f4379636c69634172726179732e6a6c2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/udistr/CyclicArrays.jl.svg?branch=master" style="max-width:100%;"></a>
<a href="https://codecov.io/gh/udistr/CyclicArrays.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/7da4312f2a131769f5f6771e08f9fcd622062320/68747470733a2f2f636f6465636f762e696f2f67682f7564697374722f4379636c69634172726179732e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="Codecov" data-canonical-src="https://codecov.io/gh/udistr/CyclicArrays.jl/branch/master/graph/badge.svg" style="max-width:100%;"></a>
<a href="https://coveralls.io/github/udistr/CyclicArrays.jl?branch=master" rel="nofollow"><img src="https://camo.githubusercontent.com/3b7a924775e01cf7b66898156e9c3c633242bbd7/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f7564697374722f4379636c69634172726179732e6a6c2f62616467652e7376673f6272616e63683d6d6173746572" alt="Coveralls" data-canonical-src="https://coveralls.io/repos/github/udistr/CyclicArrays.jl/badge.svg?branch=master" style="max-width:100%;"></a>
<a href="https://zenodo.org/badge/latestdoi/248079407" rel="nofollow"><img src="https://camo.githubusercontent.com/1ed6a0ce9f17d9670e9b6341a4204ad07ca8c42b/68747470733a2f2f7a656e6f646f2e6f72672f62616467652f3234383037393430372e737667" alt="DOI" data-canonical-src="https://zenodo.org/badge/248079407.svg" style="max-width:100%;"></a></p>
<p>CyclicArrays allow for the intuitive definition of circular domain composed of one or more faces, and each face has two directions for each dimension. After the definition of the connection between different faces, out-of-boundary indexes will be permitted. The CyclicArray structure includes two fields - data array and connection array. The data array containing the data values and the connection array containing the information on the connections between faces and their sides.</p>
<h2><a id="user-content-the-connection-array" class="anchor" aria-hidden="true" href="#the-connection-array"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>The connection array</h2>
<p>The connection array is a four-dimensional array defining the connections between faces:</p>
<ol>
<li>Face dimension - 1:(number of faces)</li>
<li>Spatial dimensions, size up to three - x=1, y=2, z=3</li>
<li>Direction, size 2 (negative direction = 1, positive direction = 2)</li>
<li>Target - four values pointing each (1) face, (2) dimension, and (3) direction to its neighbor. The fourth value (4) indicates whether there is a need to flip the face upside-down (0 - no-flip, 1 - flip).</li>
</ol>
<h3><a id="user-content-1d-1-face-example" class="anchor" aria-hidden="true" href="#1d-1-face-example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1D, 1 face example</h3>
<p align="center"><a target="_blank" rel="noopener noreferrer" href="Images/CyclicArrayExample1D.png"><img src="Images/CyclicArrayExample1D.png" height="100" style="max-width:100%;"></a></p>
<p>One face (size N) with one circular x dimention will have a 1x1x2x4 connection array where:<br>
connections[1,1,:,:]=<br>
1  1  2  0<br>
1  1  1  0</p>
<p>The first row (array indexes [1,1,1,:]) indicates that face one, x dimension, negative direction is pointing to face one, x-direction, positive direction. The second row (array indexes [1,1,2,:]) indicates that face one, x dimension, positive direction is pointing to face one, x-direction, negative direction. Array fliping is not relevant in 1D array and should be set to zero (connection[:,:,:,4]=0).</p>
<h3><a id="user-content-2d-1-face-example" class="anchor" aria-hidden="true" href="#2d-1-face-example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2D, 1 face example</h3>
<p align="center"><a target="_blank" rel="noopener noreferrer" href="Images/CyclicArrayExample2D.png"><img src="Images/CyclicArrayExample2D.png" height="400" style="max-width:100%;"></a></p>
<p>One face (size NxN) with circular x and y dimentions will have a 1x2x2x4 connection array where:<br>
connections[1,1,:,:]=<br>
1  1  2  0<br>
1  1  1  0<br>
connections[1,2,:,:]=<br>
1  2  2  0<br>
1  2  1  0</p>
<p>connections[1,1,:,:] - The first row (array indexes [1,1,1,:]) indicates that face one, x dimension, negative direction is pointing to face one, x-direction, positive direction. The second row (array indexes [1,1,2,:]) indicates that face one, x dimension, positive direction is pointing to face one, x-direction, negative direction.<br>
connections[1,2,:,:] -  The first row (array indexes [1,2,1,:]) indicates that face one, y dimension, negative direction is pointing to face one, y-direction, positive direction. The second row (array indexes [1,2,2,:]) indicates that face one, y dimension, positive direction is pointing to face one, x dimension, negative direction. No array fliping here.</p>
<h2><a id="user-content-use-examples" class="anchor" aria-hidden="true" href="#use-examples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Use examples</h2>
<h3><a id="user-content-diffusion-1d" class="anchor" aria-hidden="true" href="#diffusion-1d"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Diffusion 1D</h3>
<p>Example examples/Diffusion_1D.jl will run a simple 1D diffustion equations:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://render.githubusercontent.com/render/math?math=%5Cfrac%7B%5Cpartial%20%5Crho%7D%7B%5Cpartial%20t%7D%20%3D%20%5Cfrac%7B%5Cpartial%5E2%20%5Crho%7D%7B%5Cpartial%20x%5E2%7D"><img src="https://render.githubusercontent.com/render/math?math=%5Cfrac%7B%5Cpartial%20%5Crho%7D%7B%5Cpartial%20t%7D%20%3D%20%5Cfrac%7B%5Cpartial%5E2%20%5Crho%7D%7B%5Cpartial%20x%5E2%7D" alt="\frac{\partial \rho}{\partial t} = \frac{\partial^2 \rho}{\partial x^2}" style="max-width:100%;"></a>,<br>
where, <a target="_blank" rel="noopener noreferrer" href="https://render.githubusercontent.com/render/math?math=%5Crho%20(x%2Ct)"><img src="https://render.githubusercontent.com/render/math?math=%5Crho%20(x%2Ct)" alt="\rho (x,t)" style="max-width:100%;"></a> is the density.</p>
<p>Using the embedded function shiftc which which returns a shifted value of the array, this example integrated for 12 seconds results:</p>
<p align="center"><a target="_blank" rel="noopener noreferrer" href="examples/Diffusion1D.png"><img src="examples/Diffusion1D.png" height="400" style="max-width:100%;"></a></p>
<h3><a id="user-content-advection-1d" class="anchor" aria-hidden="true" href="#advection-1d"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Advection 1D</h3>
<p>Example examples/Advection_1D.jl will run a simple 1D Advection equations:</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://render.githubusercontent.com/render/math?math=%5Cfrac%7B%5Cpartial%20(%20%5Crho%20%5Ccdot%20%5Cu)%7D%7B%5Cpartial%20t%7D%20%3D%20-u%20%5Ccdot%20%5Cfrac%7B%5Cpartial%20(%20%5Crho%20%5Ccdot%20%5Cu)%7D%7B%5Cpartial%20x%7D"><img src="https://render.githubusercontent.com/render/math?math=%5Cfrac%7B%5Cpartial%20(%20%5Crho%20%5Ccdot%20%5Cu)%7D%7B%5Cpartial%20t%7D%20%3D%20-u%20%5Ccdot%20%5Cfrac%7B%5Cpartial%20(%20%5Crho%20%5Ccdot%20%5Cu)%7D%7B%5Cpartial%20x%7D" alt="\frac{\partial ( \rho \cdot \u)}{\partial t} = -u \cdot \frac{\partial ( \rho \cdot \u)}{\partial x}" style="max-width:100%;"></a></p>
<p><a target="_blank" rel="noopener noreferrer" href="https://render.githubusercontent.com/render/math?math=%5Cfrac%7B%5Cpartial%20%5Crho%7D%7B%5Cpartial%20t%7D%20%3D%20-%5Cfrac%7B%5Cpartial%20(%20%5Crho%20%5Ccdot%20u)%7D%7B%5Cpartial%20x%7D"><img src="https://render.githubusercontent.com/render/math?math=%5Cfrac%7B%5Cpartial%20%5Crho%7D%7B%5Cpartial%20t%7D%20%3D%20-%5Cfrac%7B%5Cpartial%20(%20%5Crho%20%5Ccdot%20u)%7D%7B%5Cpartial%20x%7D" alt="\frac{\partial \rho}{\partial t} = -\frac{\partial ( \rho \cdot u)}{\partial x}" style="max-width:100%;"></a></p>
<p>where, <a target="_blank" rel="noopener noreferrer" href="https://render.githubusercontent.com/render/math?math=%5Crho%20(x%2Ct)"><img src="https://render.githubusercontent.com/render/math?math=%5Crho%20(x%2Ct)" alt="\rho (x,t)" style="max-width:100%;"></a> and <a target="_blank" rel="noopener noreferrer" href="https://render.githubusercontent.com/render/math?math=u%20(x%2Ct)"><img src="https://render.githubusercontent.com/render/math?math=u%20(x%2Ct)" alt="u (x,t)" style="max-width:100%;"></a> are the density and x-dimension velocity fields.</p>
<p align="center"><a target="_blank" rel="noopener noreferrer" href="examples/Advection1Drho.png"><img src="examples/Advection1Drho.png" height="400" style="max-width:100%;"></a></p>
<p align="center"><a target="_blank" rel="noopener noreferrer" href="examples/Advection1Du.png"><img src="examples/Advection1Du.png" height="420" style="max-width:100%;"></a></p>
</article></div>