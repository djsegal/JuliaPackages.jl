<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-statespacemodelsjl" class="anchor" aria-hidden="true" href="#statespacemodelsjl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>StateSpaceModels.jl</h1>
<table>
<thead>
<tr>
<th align="center"><strong>Build Status</strong></th>
<th align="center"><strong>Coverage</strong></th>
<th align="center"><strong>Documentation</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><a href="https://github.com/LAMPSPUC/StateSpaceModels.jl/actions?query=workflow%3ACI"><img src="https://github.com/LAMPSPUC/StateSpaceModels.jl/workflows/CI/badge.svg?branch=master" alt="Build Status" style="max-width: 100%;"></a></td>
<td align="center"><a href="https://codecov.io/gh/LAMPSPUC/StateSpaceModels.jl?branch=master" rel="nofollow"><img src="https://camo.githubusercontent.com/f1f72c64d422368795ad32ba155329ae92008833eb709911523d85bea584c449/68747470733a2f2f636f6465636f762e696f2f67682f4c414d50535055432f537461746553706163654d6f64656c732e6a6c2f636f7665726167652e7376673f6272616e63683d6d6173746572" alt="Codecov branch" data-canonical-src="https://codecov.io/gh/LAMPSPUC/StateSpaceModels.jl/coverage.svg?branch=master" style="max-width: 100%;"></a></td>
<td align="center"><a href="https://lampspuc.github.io/StateSpaceModels.jl/latest/" rel="nofollow"><img src="https://camo.githubusercontent.com/56f8252ba8e9d3f0b810769543f77823d2fe031ce560d4c2d69fb1fcad800383/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6c61746573742d626c75652e737667" alt="" data-canonical-src="https://img.shields.io/badge/docs-latest-blue.svg" style="max-width: 100%;"></a></td>
</tr>
</tbody>
</table>
<p dir="auto">StateSpaceModels.jl is a package for modeling, forecasting, and simulating time series in a state-space framework. Implementations were made based on the book "Time Series Analysis by State Space Methods" (2012) by James Durbin and Siem Jan Koopman. The notation of the variables in the code also follows the book.</p>
<h2 dir="auto"><a id="user-content-quickstart" class="anchor" aria-hidden="true" href="#quickstart"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Quickstart</h2>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import Pkg

Pkg.add(&quot;StateSpaceModels&quot;)

using StateSpaceModels

y = randn(100)

model = LocalLevel(y)

fit!(model)

print_results(model)

forecast(model, 10)

kf = kalman_filter(model)

v = get_innovations(kf)

ks = kalman_smoother(model)

alpha = get_smoothed_state(ks)"><pre><span class="pl-k">import</span> Pkg

Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-s"><span class="pl-pds">"</span>StateSpaceModels<span class="pl-pds">"</span></span>)

<span class="pl-k">using</span> StateSpaceModels

y <span class="pl-k">=</span> <span class="pl-c1">randn</span>(<span class="pl-c1">100</span>)

model <span class="pl-k">=</span> <span class="pl-c1">LocalLevel</span>(y)

<span class="pl-c1">fit!</span>(model)

<span class="pl-c1">print_results</span>(model)

<span class="pl-c1">forecast</span>(model, <span class="pl-c1">10</span>)

kf <span class="pl-k">=</span> <span class="pl-c1">kalman_filter</span>(model)

v <span class="pl-k">=</span> <span class="pl-c1">get_innovations</span>(kf)

ks <span class="pl-k">=</span> <span class="pl-c1">kalman_smoother</span>(model)

alpha <span class="pl-k">=</span> <span class="pl-c1">get_smoothed_state</span>(ks)</pre></div>
<h2 dir="auto"><a id="user-content-features" class="anchor" aria-hidden="true" href="#features"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Features</h2>
<p dir="auto">Current features include:</p>
<ul dir="auto">
<li>Kalman filter and smoother</li>
<li>Maximum likelihood estimation</li>
<li>Forecasting and Monte Carlo simulation</li>
<li>User-defined models (user specifies the state-space system)</li>
<li>Several predefined models, including:
<ul dir="auto">
<li>Exponential Smoothing (ETS, all the linear ones)</li>
<li>Unobserved components (local level, basic structural, ...)</li>
<li>SARIMA</li>
<li>Linear regression</li>
<li>Naive models</li>
</ul>
</li>
<li>Completion of missing values</li>
<li>Diagnostics for the residuals of fitted models</li>
<li>Visualization recipes</li>
</ul>
<h2 dir="auto"><a id="user-content-quick-examples" class="anchor" aria-hidden="true" href="#quick-examples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Quick Examples</h2>
<h3 dir="auto"><a id="user-content-fitting-and-forecasting" class="anchor" aria-hidden="true" href="#fitting-and-forecasting"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Fitting and forecasting</h3>
<p dir="auto">Quick example of different models fit and forecast for the air passengers time-series</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using CSV
using DataFrames
using Plots
using StateSpaceModels

airp = CSV.File(StateSpaceModels.AIR_PASSENGERS) |&gt; DataFrame
log_air_passengers = log.(airp.passengers)
steps_ahead = 30

# SARIMA
model_sarima = SARIMA(log_air_passengers; order = (0, 1, 1), seasonal_order = (0, 1, 1, 12))
fit!(model_sarima)
forec_sarima = forecast(model_sarima, steps_ahead)

# Unobserved Components
model_uc = UnobservedComponents(log_air_passengers; trend = &quot;local linear trend&quot;, seasonal = &quot;stochastic 12&quot;)
fit!(model_uc)
forec_uc = forecast(model_uc, steps_ahead)

# Exponential Smoothing
model_ets = ExponentialSmoothing(log_air_passengers; trend = true, seasonal = 12)
fit!(model_ets)
forec_ets = forecast(model_ets, steps_ahead)

# Naive model
model_naive = SeasonalNaive(log_air_passengers, 12)
fit!(model_naive)
forec_naive = forecast(model_naive, steps_ahead)

plt_sarima = plot(model_sarima, forec_sarima; title = &quot;SARIMA&quot;, label = &quot;&quot;);
plt_uc = plot(model_uc, forec_uc; title = &quot;Unobserved components&quot;, label = &quot;&quot;);
plt_ets = plot(model_ets, forec_ets; title = &quot;Exponential smoothing&quot;, label = &quot;&quot;);
plt_naive = plot(model_ets, forec_naive; title = &quot;Seasonal Naive&quot;, label = &quot;&quot;);

plot(plt_sarima, plt_uc, plt_ets, plt_naive; layout = (2, 2), size = (500, 500))"><pre><span class="pl-k">using</span> CSV
<span class="pl-k">using</span> DataFrames
<span class="pl-k">using</span> Plots
<span class="pl-k">using</span> StateSpaceModels

airp <span class="pl-k">=</span> CSV<span class="pl-k">.</span><span class="pl-c1">File</span>(StateSpaceModels<span class="pl-k">.</span>AIR_PASSENGERS) <span class="pl-k">|&gt;</span> DataFrame
log_air_passengers <span class="pl-k">=</span> <span class="pl-c1">log</span>.(airp<span class="pl-k">.</span>passengers)
steps_ahead <span class="pl-k">=</span> <span class="pl-c1">30</span>

<span class="pl-c"><span class="pl-c">#</span> SARIMA</span>
model_sarima <span class="pl-k">=</span> <span class="pl-c1">SARIMA</span>(log_air_passengers; order <span class="pl-k">=</span> (<span class="pl-c1">0</span>, <span class="pl-c1">1</span>, <span class="pl-c1">1</span>), seasonal_order <span class="pl-k">=</span> (<span class="pl-c1">0</span>, <span class="pl-c1">1</span>, <span class="pl-c1">1</span>, <span class="pl-c1">12</span>))
<span class="pl-c1">fit!</span>(model_sarima)
forec_sarima <span class="pl-k">=</span> <span class="pl-c1">forecast</span>(model_sarima, steps_ahead)

<span class="pl-c"><span class="pl-c">#</span> Unobserved Components</span>
model_uc <span class="pl-k">=</span> <span class="pl-c1">UnobservedComponents</span>(log_air_passengers; trend <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>local linear trend<span class="pl-pds">"</span></span>, seasonal <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>stochastic 12<span class="pl-pds">"</span></span>)
<span class="pl-c1">fit!</span>(model_uc)
forec_uc <span class="pl-k">=</span> <span class="pl-c1">forecast</span>(model_uc, steps_ahead)

<span class="pl-c"><span class="pl-c">#</span> Exponential Smoothing</span>
model_ets <span class="pl-k">=</span> <span class="pl-c1">ExponentialSmoothing</span>(log_air_passengers; trend <span class="pl-k">=</span> <span class="pl-c1">true</span>, seasonal <span class="pl-k">=</span> <span class="pl-c1">12</span>)
<span class="pl-c1">fit!</span>(model_ets)
forec_ets <span class="pl-k">=</span> <span class="pl-c1">forecast</span>(model_ets, steps_ahead)

<span class="pl-c"><span class="pl-c">#</span> Naive model</span>
model_naive <span class="pl-k">=</span> <span class="pl-c1">SeasonalNaive</span>(log_air_passengers, <span class="pl-c1">12</span>)
<span class="pl-c1">fit!</span>(model_naive)
forec_naive <span class="pl-k">=</span> <span class="pl-c1">forecast</span>(model_naive, steps_ahead)

plt_sarima <span class="pl-k">=</span> <span class="pl-c1">plot</span>(model_sarima, forec_sarima; title <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>SARIMA<span class="pl-pds">"</span></span>, label <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>);
plt_uc <span class="pl-k">=</span> <span class="pl-c1">plot</span>(model_uc, forec_uc; title <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Unobserved components<span class="pl-pds">"</span></span>, label <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>);
plt_ets <span class="pl-k">=</span> <span class="pl-c1">plot</span>(model_ets, forec_ets; title <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Exponential smoothing<span class="pl-pds">"</span></span>, label <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>);
plt_naive <span class="pl-k">=</span> <span class="pl-c1">plot</span>(model_ets, forec_naive; title <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Seasonal Naive<span class="pl-pds">"</span></span>, label <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>);

<span class="pl-c1">plot</span>(plt_sarima, plt_uc, plt_ets, plt_naive; layout <span class="pl-k">=</span> (<span class="pl-c1">2</span>, <span class="pl-c1">2</span>), size <span class="pl-k">=</span> (<span class="pl-c1">500</span>, <span class="pl-c1">500</span>))</pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="./docs/assets/quick_example_airp.png"><img src="./docs/assets/quick_example_airp.png" alt="quick_example_airp" style="max-width: 100%;"></a></p>
<h3 dir="auto"><a id="user-content-automatic-forecasting" class="anchor" aria-hidden="true" href="#automatic-forecasting"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Automatic forecasting</h3>
<p dir="auto">Quick examples on automatic forecasting. When performing automatic forecasting
users should provide the seasonal period if there is one.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="model = auto_ets(log_air_passengers; seasonal = 12)
model = auto_arima(log_air_passengers; seasonal = 12)"><pre>model <span class="pl-k">=</span> <span class="pl-c1">auto_ets</span>(log_air_passengers; seasonal <span class="pl-k">=</span> <span class="pl-c1">12</span>)
model <span class="pl-k">=</span> <span class="pl-c1">auto_arima</span>(log_air_passengers; seasonal <span class="pl-k">=</span> <span class="pl-c1">12</span>)</pre></div>
<h2 dir="auto"><a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Contributing</h2>
<ul dir="auto">
<li>PRs such as adding new models and fixing bugs are very welcome!</li>
<li>For nontrivial changes, you'll probably want to first discuss the changes via issue.</li>
</ul>
<h2 dir="auto"><a id="user-content-citing-statespacemodelsjl" class="anchor" aria-hidden="true" href="#citing-statespacemodelsjl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Citing StateSpaceModels.jl</h2>
<p dir="auto">If you use StateSpaceModels.jl in your work, we kindly ask you to cite the <a href="https://arxiv.org/abs/1908.01757" rel="nofollow">following paper</a>:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="@article{SaavedraBodinSouto2019,
  title={StateSpaceModels.jl: a Julia Package for Time-Series Analysis in a State-Space Framework},
  author={Raphael Saavedra and Guilherme Bodin and Mario Souto},
  journal={arXiv preprint arXiv:1908.01757},
  year={2019}
}"><pre class="notranslate"><code>@article{SaavedraBodinSouto2019,
  title={StateSpaceModels.jl: a Julia Package for Time-Series Analysis in a State-Space Framework},
  author={Raphael Saavedra and Guilherme Bodin and Mario Souto},
  journal={arXiv preprint arXiv:1908.01757},
  year={2019}
}
</code></pre></div>
</article></div>