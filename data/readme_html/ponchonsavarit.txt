<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-ponchonsavaritjl" class="anchor" aria-hidden="true" href="#ponchonsavaritjl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>PonchonSavarit.jl</h1>
<p dir="auto"><a href="https://zenodo.org/badge/latestdoi/553159585" rel="nofollow"><img src="https://camo.githubusercontent.com/2e24b63bb45d00870889115aa1fecc3eb56c05551ca071361725b0215f565578/68747470733a2f2f7a656e6f646f2e6f72672f62616467652f3535333135393538352e737667" alt="DOI" data-canonical-src="https://zenodo.org/badge/553159585.svg" style="max-width: 100%;"></a>
<a href="https://opensource.org/licenses/MIT" rel="nofollow"><img src="https://camo.githubusercontent.com/78f47a09877ba9d28da1887a93e5c3bc2efb309c1e910eb21135becd2998238a/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d4d49542d79656c6c6f772e737667" alt="License: MIT" data-canonical-src="https://img.shields.io/badge/License-MIT-yellow.svg" style="max-width: 100%;"></a>
<a href="https://juliahub.com/ui/Packages/PonchonSavarit/WauTj" rel="nofollow"><img src="https://camo.githubusercontent.com/6e557f796caf3a9bac6890d6a7999b556e928244b61b84870471f56445910c00/68747470733a2f2f6a756c69616875622e636f6d2f646f63732f506f6e63686f6e536176617269742f76657273696f6e2e737667" alt="version" data-canonical-src="https://juliahub.com/docs/PonchonSavarit/version.svg" style="max-width: 100%;"></a></p>
<h2 dir="auto"><a id="user-content-installing-and-loading-ponchonsavarit" class="anchor" aria-hidden="true" href="#installing-and-loading-ponchonsavarit"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installing and Loading PonchonSavarit</h2>
<p dir="auto">PonchonSavarit can be installed and loaded either
from the JuliaHub repository (last released version) or from the
<a href="https://github.com/aumpierre-unb/PonchonSavarit.jl">maintainer's repository</a>.</p>
<h3 dir="auto"><a id="user-content-last-released-version" class="anchor" aria-hidden="true" href="#last-released-version"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Last Released Version</h3>
<p dir="auto">The last version of PonchonSavarit can be installed from JuliaHub repository:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using Pkg
Pkg.add(&quot;PonchonSavarit&quot;)
using PonchonSavarit"><pre><span class="pl-k">using</span> Pkg
Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-s"><span class="pl-pds">"</span>PonchonSavarit<span class="pl-pds">"</span></span>)
<span class="pl-k">using</span> PonchonSavarit</pre></div>
<p dir="auto">If PonchonSavarit is already installed, it can be updated:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using Pkg
Pkg.update(&quot;PonchonSavarit&quot;)
using PonchonSavarit"><pre><span class="pl-k">using</span> Pkg
Pkg<span class="pl-k">.</span><span class="pl-c1">update</span>(<span class="pl-s"><span class="pl-pds">"</span>PonchonSavarit<span class="pl-pds">"</span></span>)
<span class="pl-k">using</span> PonchonSavarit</pre></div>
<h3 dir="auto"><a id="user-content-pre-release-under-construction-version" class="anchor" aria-hidden="true" href="#pre-release-under-construction-version"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Pre-Release (Under Construction) Version</h3>
<p dir="auto">The pre-release (under construction) version of PonchonSavarit
can be installed from the <a href="https://github.com/aumpierre-unb/PonchonSavarit.jl">maintainer's repository</a>.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using Pkg
Pkg.add(path=&quot;https://github.com/aumpierre-unb/PonchonSavarit.jl&quot;)
using PonchonSavarit"><pre><span class="pl-k">using</span> Pkg
Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(path<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>https://github.com/aumpierre-unb/PonchonSavarit.jl<span class="pl-pds">"</span></span>)
<span class="pl-k">using</span> PonchonSavarit</pre></div>
<h2 dir="auto"><a id="user-content-citation-of-ponchonsavarit" class="anchor" aria-hidden="true" href="#citation-of-ponchonsavarit"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Citation of PonchonSavarit</h2>
<p dir="auto">You can cite all versions (both released and pre-released), by using
<a href="https://doi.org/10.5281/zenodo.7218007" rel="nofollow">10.5281/zenodo.7218007</a>.
This DOI represents all versions, and will always resolve to the latest one.</p>
<h2 dir="auto"><a id="user-content-the-ponchonsavarit-module-for-julia" class="anchor" aria-hidden="true" href="#the-ponchonsavarit-module-for-julia"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>The PonchonSavarit Module for Julia</h2>
<p dir="auto">PonchonSavarit provides the following functions:</p>
<ul dir="auto">
<li><strong>stages</strong></li>
<li><strong>refmin</strong></li>
<li><strong>qR2S</strong></li>
<li><strong>qS2R</strong></li>
<li><strong>RS2q</strong></li>
</ul>
<h3 dir="auto"><a id="user-content-stages" class="anchor" aria-hidden="true" href="#stages"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><strong>stages</strong></h3>
<p dir="auto">stages computes the number of theoretical stages of a distillation column using the Ponch√≥n-Savarit method from the top to the bottom of the column given a x-h-y-H matrix of the liquid and the vapor fractions at equilibrium and their enthalpies, the vector of the fractions of the products and two parameters among the feed quality, the reflux ratio at the top of the column and the reflux ratio at the bottom of the column.</p>
<p dir="auto">By default, fig = true, stages plots a schematic diagram of the solution. If fig = false is given, no plot is shown.</p>
<p dir="auto"><strong>Syntax:</strong></p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="stages(data::Union{Matrix{Float64},Function},z::Vector{Float64};
  q::Number=NaN,R::Number=NaN,S::Number=NaN,fig::Bool=true)"><pre><span class="pl-c1">stages</span>(data<span class="pl-k">::</span><span class="pl-c1">Union{Matrix{Float64},Function}</span>,z<span class="pl-k">::</span><span class="pl-c1">Vector{Float64}</span>;
  q<span class="pl-k">::</span><span class="pl-c1">Number</span><span class="pl-k">=</span><span class="pl-c1">NaN</span>,R<span class="pl-k">::</span><span class="pl-c1">Number</span><span class="pl-k">=</span><span class="pl-c1">NaN</span>,S<span class="pl-k">::</span><span class="pl-c1">Number</span><span class="pl-k">=</span><span class="pl-c1">NaN</span>,fig<span class="pl-k">::</span><span class="pl-c1">Bool</span><span class="pl-k">=</span><span class="pl-c1">true</span>)</pre></div>
<p dir="auto"><strong>Examples:</strong></p>
<p dir="auto">Compute the number of theoretical stages of a distillation column for acetone and methanol from the bottom to the top of the column given a matrix that relates the liquid and the vapor fractions and their enthalpies at equilibrium, the composition of the distillate is 93 %, the composition of the feed is 41 %, the composition of the bottoms is 7 %, the feed is a saturated liquid and the reflux ratio at the top of the column is 55 % higher that the minimum reflux ratio, and plot a schematic diagram of the solution:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="data=[2.5e-4 3.235 1.675e-3 20.720; # enthalpy in kcal/mol
      0.05   2.666 0.267    20.520;
      0.1    2.527 0.418    20.340;
      0.15   2.459 0.517    20.160;
      0.2    2.422 0.579    20.000;
      0.3    2.384 0.665    19.640;
      0.4    2.358 0.729    19.310;
      0.5    2.338 0.779    18.970;
      0.6    2.320 0.825    18.650;
      0.7    2.302 0.87     18.310;
      0.8    2.284 0.915    17.980;
      0.9    2.266 0.958    17.680;
      1.     2.250 1.       17.390];
x=[0.93;0.41;0.07];
r,s=refmin(data,x)
N=stages(data,x,q=1,R=1.55*r)"><pre>data<span class="pl-k">=</span>[<span class="pl-c1">2.5e-4</span> <span class="pl-c1">3.235</span> <span class="pl-c1">1.675e-3</span> <span class="pl-c1">20.720</span>; <span class="pl-c"><span class="pl-c">#</span> enthalpy in kcal/mol</span>
      <span class="pl-c1">0.05</span>   <span class="pl-c1">2.666</span> <span class="pl-c1">0.267</span>    <span class="pl-c1">20.520</span>;
      <span class="pl-c1">0.1</span>    <span class="pl-c1">2.527</span> <span class="pl-c1">0.418</span>    <span class="pl-c1">20.340</span>;
      <span class="pl-c1">0.15</span>   <span class="pl-c1">2.459</span> <span class="pl-c1">0.517</span>    <span class="pl-c1">20.160</span>;
      <span class="pl-c1">0.2</span>    <span class="pl-c1">2.422</span> <span class="pl-c1">0.579</span>    <span class="pl-c1">20.000</span>;
      <span class="pl-c1">0.3</span>    <span class="pl-c1">2.384</span> <span class="pl-c1">0.665</span>    <span class="pl-c1">19.640</span>;
      <span class="pl-c1">0.4</span>    <span class="pl-c1">2.358</span> <span class="pl-c1">0.729</span>    <span class="pl-c1">19.310</span>;
      <span class="pl-c1">0.5</span>    <span class="pl-c1">2.338</span> <span class="pl-c1">0.779</span>    <span class="pl-c1">18.970</span>;
      <span class="pl-c1">0.6</span>    <span class="pl-c1">2.320</span> <span class="pl-c1">0.825</span>    <span class="pl-c1">18.650</span>;
      <span class="pl-c1">0.7</span>    <span class="pl-c1">2.302</span> <span class="pl-c1">0.87</span>     <span class="pl-c1">18.310</span>;
      <span class="pl-c1">0.8</span>    <span class="pl-c1">2.284</span> <span class="pl-c1">0.915</span>    <span class="pl-c1">17.980</span>;
      <span class="pl-c1">0.9</span>    <span class="pl-c1">2.266</span> <span class="pl-c1">0.958</span>    <span class="pl-c1">17.680</span>;
      <span class="pl-c1">1.</span>     <span class="pl-c1">2.250</span> <span class="pl-c1">1.</span>       <span class="pl-c1">17.390</span>];
x<span class="pl-k">=</span>[<span class="pl-c1">0.93</span>;<span class="pl-c1">0.41</span>;<span class="pl-c1">0.07</span>];
r,s<span class="pl-k">=</span><span class="pl-c1">refmin</span>(data,x)
N<span class="pl-k">=</span><span class="pl-c1">stages</span>(data,x,q<span class="pl-k">=</span><span class="pl-c1">1</span>,R<span class="pl-k">=</span><span class="pl-c1">1.55</span><span class="pl-k">*</span>r)</pre></div>
<p dir="auto">Compute the number of theoretical stages of a distillation column for oxygen and nitrogen from the bottom to the top of the column given a matrix that relates the liquid and the vapor fractions and their enthalpies at equilibrium, the composition of the distillate is 88 %, the composition of the feed is 44 %, the composition of the bottoms is 8 %, the feed quality is 55 % and the reflux ratio at the bottom of the column is 46 % higher that the minimum reflux ratio and plot a schematic diagram of the solution:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="data=[0.    0.420 0.    1.840; # enthalpy in kcal/mmol
      0.075 0.418 0.193 1.755;
      0.17  0.415 0.359 1.685;
      0.275 0.410 0.50  1.625;
      0.39  0.398 0.63  1.570;
      0.525 0.378 0.75  1.515;
      0.685 0.349 0.86  1.465;
      0.88  0.300 0.955 1.425;
      1.    0.263 1.    1.405];
x=[0.88;0.44;0.08];
r,s=refmin(data,x,q=0.55)
N=stages(data,x,q=0.55,S=1.46*s)"><pre>data<span class="pl-k">=</span>[<span class="pl-c1">0.</span>    <span class="pl-c1">0.420</span> <span class="pl-c1">0.</span>    <span class="pl-c1">1.840</span>; <span class="pl-c"><span class="pl-c">#</span> enthalpy in kcal/mmol</span>
      <span class="pl-c1">0.075</span> <span class="pl-c1">0.418</span> <span class="pl-c1">0.193</span> <span class="pl-c1">1.755</span>;
      <span class="pl-c1">0.17</span>  <span class="pl-c1">0.415</span> <span class="pl-c1">0.359</span> <span class="pl-c1">1.685</span>;
      <span class="pl-c1">0.275</span> <span class="pl-c1">0.410</span> <span class="pl-c1">0.50</span>  <span class="pl-c1">1.625</span>;
      <span class="pl-c1">0.39</span>  <span class="pl-c1">0.398</span> <span class="pl-c1">0.63</span>  <span class="pl-c1">1.570</span>;
      <span class="pl-c1">0.525</span> <span class="pl-c1">0.378</span> <span class="pl-c1">0.75</span>  <span class="pl-c1">1.515</span>;
      <span class="pl-c1">0.685</span> <span class="pl-c1">0.349</span> <span class="pl-c1">0.86</span>  <span class="pl-c1">1.465</span>;
      <span class="pl-c1">0.88</span>  <span class="pl-c1">0.300</span> <span class="pl-c1">0.955</span> <span class="pl-c1">1.425</span>;
      <span class="pl-c1">1.</span>    <span class="pl-c1">0.263</span> <span class="pl-c1">1.</span>    <span class="pl-c1">1.405</span>];
x<span class="pl-k">=</span>[<span class="pl-c1">0.88</span>;<span class="pl-c1">0.44</span>;<span class="pl-c1">0.08</span>];
r,s<span class="pl-k">=</span><span class="pl-c1">refmin</span>(data,x,q<span class="pl-k">=</span><span class="pl-c1">0.55</span>)
N<span class="pl-k">=</span><span class="pl-c1">stages</span>(data,x,q<span class="pl-k">=</span><span class="pl-c1">0.55</span>,S<span class="pl-k">=</span><span class="pl-c1">1.46</span><span class="pl-k">*</span>s)</pre></div>
<p dir="auto">Compute the number of theoretical stages of a distillation column for oxygen and nitrogen from the bottom to the top of the column given a matrix that relates the liquid and the vapor fractions and their enthalpies at equilibrium, the composition of the distillate is 92 %, the composition of the feed is 59 %, the composition of the bottoms is 9 %, the reflux ratio at the bottom of the column is 1.9, the reflux ratio at the top of the column is 1.5:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="data=[0.    0.420 0.    1.840; # enthalpy in kcal/mmol
      0.075 0.418 0.193 1.755;
      0.17  0.415 0.359 1.685;
      0.275 0.410 0.50  1.625;
      0.39  0.398 0.63  1.570;
      0.525 0.378 0.75  1.515;
      0.685 0.349 0.86  1.465;
      0.88  0.300 0.955 1.425;
      1.    0.263 1.    1.405];
x=[0.92;0.59;0.09];
q=RS2q(data,x,1.5,1.9)
N=stages(data,x,R=1.5,S=1.9,fig=false)"><pre>data<span class="pl-k">=</span>[<span class="pl-c1">0.</span>    <span class="pl-c1">0.420</span> <span class="pl-c1">0.</span>    <span class="pl-c1">1.840</span>; <span class="pl-c"><span class="pl-c">#</span> enthalpy in kcal/mmol</span>
      <span class="pl-c1">0.075</span> <span class="pl-c1">0.418</span> <span class="pl-c1">0.193</span> <span class="pl-c1">1.755</span>;
      <span class="pl-c1">0.17</span>  <span class="pl-c1">0.415</span> <span class="pl-c1">0.359</span> <span class="pl-c1">1.685</span>;
      <span class="pl-c1">0.275</span> <span class="pl-c1">0.410</span> <span class="pl-c1">0.50</span>  <span class="pl-c1">1.625</span>;
      <span class="pl-c1">0.39</span>  <span class="pl-c1">0.398</span> <span class="pl-c1">0.63</span>  <span class="pl-c1">1.570</span>;
      <span class="pl-c1">0.525</span> <span class="pl-c1">0.378</span> <span class="pl-c1">0.75</span>  <span class="pl-c1">1.515</span>;
      <span class="pl-c1">0.685</span> <span class="pl-c1">0.349</span> <span class="pl-c1">0.86</span>  <span class="pl-c1">1.465</span>;
      <span class="pl-c1">0.88</span>  <span class="pl-c1">0.300</span> <span class="pl-c1">0.955</span> <span class="pl-c1">1.425</span>;
      <span class="pl-c1">1.</span>    <span class="pl-c1">0.263</span> <span class="pl-c1">1.</span>    <span class="pl-c1">1.405</span>];
x<span class="pl-k">=</span>[<span class="pl-c1">0.92</span>;<span class="pl-c1">0.59</span>;<span class="pl-c1">0.09</span>];
q<span class="pl-k">=</span><span class="pl-c1">RS2q</span>(data,x,<span class="pl-c1">1.5</span>,<span class="pl-c1">1.9</span>)
N<span class="pl-k">=</span><span class="pl-c1">stages</span>(data,x,R<span class="pl-k">=</span><span class="pl-c1">1.5</span>,S<span class="pl-k">=</span><span class="pl-c1">1.9</span>,fig<span class="pl-k">=</span><span class="pl-c1">false</span>)</pre></div>
<h3 dir="auto"><a id="user-content-refmin" class="anchor" aria-hidden="true" href="#refmin"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><strong>refmin</strong></h3>
<p dir="auto">refmin computes the minimum value of the reflux ratio of a distillation column using the Ponch√≥n-Savarit method given a x-h-y-H matrix of the liquid and the vapor fractions at equilibrium and their enthalpies, the vector of the fractions of the products and the feed, and the feed quality.</p>
<p dir="auto"><strong>Syntax:</strong></p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="refmin(data::Union{Matrix{Float64},Function}, z::Vector{Float64}; q::Number=1)"><pre><span class="pl-c1">refmin</span>(data<span class="pl-k">::</span><span class="pl-c1">Union{Matrix{Float64},Function}</span>, z<span class="pl-k">::</span><span class="pl-c1">Vector{Float64}</span>; q<span class="pl-k">::</span><span class="pl-c1">Number</span><span class="pl-k">=</span><span class="pl-c1">1</span>)</pre></div>
<p dir="auto"><strong>Examples:</strong></p>
<p dir="auto">Compute the minimum values of the reflux ratios of a distillation column for acetone and methanol given a matrix that relates the liquid and the vapor fractions and their enthalpies at equilibrium, the composition of the distillate is 93 %, the composition of the feed is 41 %, the composition of the bottoms is 7 %, the feed is a saturated liquid:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="data=[2.5e-4 3.235 1.675e-3 20.720; # enthalpy in kcal/mol
      0.05   2.666 0.267    20.520;
      0.1    2.527 0.418    20.340;
      0.15   2.459 0.517    20.160;
      0.2    2.422 0.579    20.000;
      0.3    2.384 0.665    19.640;
      0.4    2.358 0.729    19.310;
      0.5    2.338 0.779    18.970;
      0.6    2.320 0.825    18.650;
      0.7    2.302 0.87     18.310;
      0.8    2.284 0.915    17.980;
      0.9    2.266 0.958    17.680;
      1.     2.250 1.       17.390];
x=[0.93;0.41;0.07];
r,s=refmin(data,x)"><pre>data<span class="pl-k">=</span>[<span class="pl-c1">2.5e-4</span> <span class="pl-c1">3.235</span> <span class="pl-c1">1.675e-3</span> <span class="pl-c1">20.720</span>; <span class="pl-c"><span class="pl-c">#</span> enthalpy in kcal/mol</span>
      <span class="pl-c1">0.05</span>   <span class="pl-c1">2.666</span> <span class="pl-c1">0.267</span>    <span class="pl-c1">20.520</span>;
      <span class="pl-c1">0.1</span>    <span class="pl-c1">2.527</span> <span class="pl-c1">0.418</span>    <span class="pl-c1">20.340</span>;
      <span class="pl-c1">0.15</span>   <span class="pl-c1">2.459</span> <span class="pl-c1">0.517</span>    <span class="pl-c1">20.160</span>;
      <span class="pl-c1">0.2</span>    <span class="pl-c1">2.422</span> <span class="pl-c1">0.579</span>    <span class="pl-c1">20.000</span>;
      <span class="pl-c1">0.3</span>    <span class="pl-c1">2.384</span> <span class="pl-c1">0.665</span>    <span class="pl-c1">19.640</span>;
      <span class="pl-c1">0.4</span>    <span class="pl-c1">2.358</span> <span class="pl-c1">0.729</span>    <span class="pl-c1">19.310</span>;
      <span class="pl-c1">0.5</span>    <span class="pl-c1">2.338</span> <span class="pl-c1">0.779</span>    <span class="pl-c1">18.970</span>;
      <span class="pl-c1">0.6</span>    <span class="pl-c1">2.320</span> <span class="pl-c1">0.825</span>    <span class="pl-c1">18.650</span>;
      <span class="pl-c1">0.7</span>    <span class="pl-c1">2.302</span> <span class="pl-c1">0.87</span>     <span class="pl-c1">18.310</span>;
      <span class="pl-c1">0.8</span>    <span class="pl-c1">2.284</span> <span class="pl-c1">0.915</span>    <span class="pl-c1">17.980</span>;
      <span class="pl-c1">0.9</span>    <span class="pl-c1">2.266</span> <span class="pl-c1">0.958</span>    <span class="pl-c1">17.680</span>;
      <span class="pl-c1">1.</span>     <span class="pl-c1">2.250</span> <span class="pl-c1">1.</span>       <span class="pl-c1">17.390</span>];
x<span class="pl-k">=</span>[<span class="pl-c1">0.93</span>;<span class="pl-c1">0.41</span>;<span class="pl-c1">0.07</span>];
r,s<span class="pl-k">=</span><span class="pl-c1">refmin</span>(data,x)</pre></div>
<p dir="auto">Compute the minimum values of the reflux ratios of a distillation column for oxygen and nitrogen given a matrix that relates the liquid and the vapor fractions and their enthalpies at equilibrium, the composition of the distillate is 88 %, the composition of the feed is 44 %, the composition of the bottoms is 8 %, the feed quality is 55 %:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="data=[0.    0.420 0.    1.840; # enthalpy in kcal/mmol
      0.075 0.418 0.193 1.755;
      0.17  0.415 0.359 1.685;
      0.275 0.410 0.50  1.625;
      0.39  0.398 0.63  1.570;
      0.525 0.378 0.75  1.515;
      0.685 0.349 0.86  1.465;
      0.88  0.300 0.955 1.425;
      1.    0.263 1.    1.405];
x=[0.88;0.44;0.08];
r,s=refmin(data,x,q=0.55)"><pre>data<span class="pl-k">=</span>[<span class="pl-c1">0.</span>    <span class="pl-c1">0.420</span> <span class="pl-c1">0.</span>    <span class="pl-c1">1.840</span>; <span class="pl-c"><span class="pl-c">#</span> enthalpy in kcal/mmol</span>
      <span class="pl-c1">0.075</span> <span class="pl-c1">0.418</span> <span class="pl-c1">0.193</span> <span class="pl-c1">1.755</span>;
      <span class="pl-c1">0.17</span>  <span class="pl-c1">0.415</span> <span class="pl-c1">0.359</span> <span class="pl-c1">1.685</span>;
      <span class="pl-c1">0.275</span> <span class="pl-c1">0.410</span> <span class="pl-c1">0.50</span>  <span class="pl-c1">1.625</span>;
      <span class="pl-c1">0.39</span>  <span class="pl-c1">0.398</span> <span class="pl-c1">0.63</span>  <span class="pl-c1">1.570</span>;
      <span class="pl-c1">0.525</span> <span class="pl-c1">0.378</span> <span class="pl-c1">0.75</span>  <span class="pl-c1">1.515</span>;
      <span class="pl-c1">0.685</span> <span class="pl-c1">0.349</span> <span class="pl-c1">0.86</span>  <span class="pl-c1">1.465</span>;
      <span class="pl-c1">0.88</span>  <span class="pl-c1">0.300</span> <span class="pl-c1">0.955</span> <span class="pl-c1">1.425</span>;
      <span class="pl-c1">1.</span>    <span class="pl-c1">0.263</span> <span class="pl-c1">1.</span>    <span class="pl-c1">1.405</span>];
x<span class="pl-k">=</span>[<span class="pl-c1">0.88</span>;<span class="pl-c1">0.44</span>;<span class="pl-c1">0.08</span>];
r,s<span class="pl-k">=</span><span class="pl-c1">refmin</span>(data,x,q<span class="pl-k">=</span><span class="pl-c1">0.55</span>)</pre></div>
<h3 dir="auto"><a id="user-content-qr2s" class="anchor" aria-hidden="true" href="#qr2s"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><strong>qR2S</strong></h3>
<p dir="auto">qR2S computes the reflux ratio at the bottom of a distillation column using the Ponch√≥n-Savarit method given a x-h-y-H matrix of the liquid and the vapor fractions at equilibrium and their enthalpies, the vector of the fractions of the products and the feed, the feed quality, and the reflux ratio at the top of the column.</p>
<p dir="auto"><strong>Syntax:</strong></p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="qR2S(data::Matrix{Float64}, z::Vector{Float64}, q::Number, R::Number)"><pre><span class="pl-c1">qR2S</span>(data<span class="pl-k">::</span><span class="pl-c1">Matrix{Float64}</span>, z<span class="pl-k">::</span><span class="pl-c1">Vector{Float64}</span>, q<span class="pl-k">::</span><span class="pl-c1">Number</span>, R<span class="pl-k">::</span><span class="pl-c1">Number</span>)</pre></div>
<p dir="auto"><strong>Examples:</strong></p>
<p dir="auto">Compute the reflux ratio at the bottom of a distillation column for acetone and methanol given a matrix that relates the liquid and the vapor fractions and their enthalpies at equilibrium, the composition of the distillate is 93 %, the composition of the feed is 41 %, the composition of the bottoms is 7 %, the feed is a saturated liquid and the reflux ratio at the top of the column is 2:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="data=[2.5e-4 3.235 1.675e-3 20.720; # enthalpy in kcal/mol
      0.05   2.666 0.267    20.520;
      0.1    2.527 0.418    20.340;
      0.15   2.459 0.517    20.160;
      0.2    2.422 0.579    20.000;
      0.3    2.384 0.665    19.640;
      0.4    2.358 0.729    19.310;
      0.5    2.338 0.779    18.970;
      0.6    2.320 0.825    18.650;
      0.7    2.302 0.87     18.310;
      0.8    2.284 0.915    17.980;
      0.9    2.266 0.958    17.680;
      1.     2.250 1.       17.390];
x=[0.93;0.41;0.07];
S=qR2S(data,x,1,2)"><pre>data<span class="pl-k">=</span>[<span class="pl-c1">2.5e-4</span> <span class="pl-c1">3.235</span> <span class="pl-c1">1.675e-3</span> <span class="pl-c1">20.720</span>; <span class="pl-c"><span class="pl-c">#</span> enthalpy in kcal/mol</span>
      <span class="pl-c1">0.05</span>   <span class="pl-c1">2.666</span> <span class="pl-c1">0.267</span>    <span class="pl-c1">20.520</span>;
      <span class="pl-c1">0.1</span>    <span class="pl-c1">2.527</span> <span class="pl-c1">0.418</span>    <span class="pl-c1">20.340</span>;
      <span class="pl-c1">0.15</span>   <span class="pl-c1">2.459</span> <span class="pl-c1">0.517</span>    <span class="pl-c1">20.160</span>;
      <span class="pl-c1">0.2</span>    <span class="pl-c1">2.422</span> <span class="pl-c1">0.579</span>    <span class="pl-c1">20.000</span>;
      <span class="pl-c1">0.3</span>    <span class="pl-c1">2.384</span> <span class="pl-c1">0.665</span>    <span class="pl-c1">19.640</span>;
      <span class="pl-c1">0.4</span>    <span class="pl-c1">2.358</span> <span class="pl-c1">0.729</span>    <span class="pl-c1">19.310</span>;
      <span class="pl-c1">0.5</span>    <span class="pl-c1">2.338</span> <span class="pl-c1">0.779</span>    <span class="pl-c1">18.970</span>;
      <span class="pl-c1">0.6</span>    <span class="pl-c1">2.320</span> <span class="pl-c1">0.825</span>    <span class="pl-c1">18.650</span>;
      <span class="pl-c1">0.7</span>    <span class="pl-c1">2.302</span> <span class="pl-c1">0.87</span>     <span class="pl-c1">18.310</span>;
      <span class="pl-c1">0.8</span>    <span class="pl-c1">2.284</span> <span class="pl-c1">0.915</span>    <span class="pl-c1">17.980</span>;
      <span class="pl-c1">0.9</span>    <span class="pl-c1">2.266</span> <span class="pl-c1">0.958</span>    <span class="pl-c1">17.680</span>;
      <span class="pl-c1">1.</span>     <span class="pl-c1">2.250</span> <span class="pl-c1">1.</span>       <span class="pl-c1">17.390</span>];
x<span class="pl-k">=</span>[<span class="pl-c1">0.93</span>;<span class="pl-c1">0.41</span>;<span class="pl-c1">0.07</span>];
S<span class="pl-k">=</span><span class="pl-c1">qR2S</span>(data,x,<span class="pl-c1">1</span>,<span class="pl-c1">2</span>)</pre></div>
<p dir="auto">Compute the reflux ratio at the bottom of the column of a distillation column for oxygen and nitrogen given a matrix that relates the liquid and the vapor fractions and their enthalpies at equilibrium, the composition of the distillate is 88 %, the composition of the feed is 44 %, the composition of the bottoms is 8 %, the feed quality is 55 % and the reflux ratio at the top of the column is 2:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="data=[0.    0.420 0.    1.840; # enthalpy in kcal/mmol
      0.075 0.418 0.193 1.755;
      0.17  0.415 0.359 1.685;
      0.275 0.410 0.50  1.625;
      0.39  0.398 0.63  1.570;
      0.525 0.378 0.75  1.515;
      0.685 0.349 0.86  1.465;
      0.88  0.300 0.955 1.425;
      1.    0.263 1.    1.405];
x=[0.88;0.44;0.08];
S=qR2S(data,x,0.55,2)"><pre>data<span class="pl-k">=</span>[<span class="pl-c1">0.</span>    <span class="pl-c1">0.420</span> <span class="pl-c1">0.</span>    <span class="pl-c1">1.840</span>; <span class="pl-c"><span class="pl-c">#</span> enthalpy in kcal/mmol</span>
      <span class="pl-c1">0.075</span> <span class="pl-c1">0.418</span> <span class="pl-c1">0.193</span> <span class="pl-c1">1.755</span>;
      <span class="pl-c1">0.17</span>  <span class="pl-c1">0.415</span> <span class="pl-c1">0.359</span> <span class="pl-c1">1.685</span>;
      <span class="pl-c1">0.275</span> <span class="pl-c1">0.410</span> <span class="pl-c1">0.50</span>  <span class="pl-c1">1.625</span>;
      <span class="pl-c1">0.39</span>  <span class="pl-c1">0.398</span> <span class="pl-c1">0.63</span>  <span class="pl-c1">1.570</span>;
      <span class="pl-c1">0.525</span> <span class="pl-c1">0.378</span> <span class="pl-c1">0.75</span>  <span class="pl-c1">1.515</span>;
      <span class="pl-c1">0.685</span> <span class="pl-c1">0.349</span> <span class="pl-c1">0.86</span>  <span class="pl-c1">1.465</span>;
      <span class="pl-c1">0.88</span>  <span class="pl-c1">0.300</span> <span class="pl-c1">0.955</span> <span class="pl-c1">1.425</span>;
      <span class="pl-c1">1.</span>    <span class="pl-c1">0.263</span> <span class="pl-c1">1.</span>    <span class="pl-c1">1.405</span>];
x<span class="pl-k">=</span>[<span class="pl-c1">0.88</span>;<span class="pl-c1">0.44</span>;<span class="pl-c1">0.08</span>];
S<span class="pl-k">=</span><span class="pl-c1">qR2S</span>(data,x,<span class="pl-c1">0.55</span>,<span class="pl-c1">2</span>)</pre></div>
<h3 dir="auto"><a id="user-content-qs2r" class="anchor" aria-hidden="true" href="#qs2r"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><strong>qS2R</strong></h3>
<p dir="auto">qS2R computes the reflux ratio at the top of a distillation column using the Ponch√≥n-Savarit method given a x-h-y-H matrix of the liquid and the vapor fractions at equilibrium and their enthalpies, the vector of the fractions of the products and the feed, the feed quality and the reflux ratio at the bottom of the column.</p>
<p dir="auto">If feed is a saturated liquid, feed quality q = 1,
feed quality is reset to q = 1 - 1e-10.</p>
<p dir="auto"><strong>Syntax:</strong></p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="qS2R(data::Matrix{Float64}, z::Vector{Float64}, q::Number, R::Number)"><pre><span class="pl-c1">qS2R</span>(data<span class="pl-k">::</span><span class="pl-c1">Matrix{Float64}</span>, z<span class="pl-k">::</span><span class="pl-c1">Vector{Float64}</span>, q<span class="pl-k">::</span><span class="pl-c1">Number</span>, R<span class="pl-k">::</span><span class="pl-c1">Number</span>)</pre></div>
<p dir="auto">Compute the reflux ratio at the top of a distillation column for acetone and methanol given a matrix that relates the liquid and the vapor fractions and their enthalpies at equilibrium, the composition of the distillate is 93 %, the composition of the feed is 41 %, the composition of the bottoms is 7 %, the feed is a saturated liquid and the reflux ratio at the bottom of the column is 1.7:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="data=[2.5e-4 3.235 1.675e-3 20.720; # enthalpy in kcal/mol
      0.05   2.666 0.267    20.520;
      0.1    2.527 0.418    20.340;
      0.15   2.459 0.517    20.160;
      0.2    2.422 0.579    20.000;
      0.3    2.384 0.665    19.640;
      0.4    2.358 0.729    19.310;
      0.5    2.338 0.779    18.970;
      0.6    2.320 0.825    18.650;
      0.7    2.302 0.87     18.310;
      0.8    2.284 0.915    17.980;
      0.9    2.266 0.958    17.680;
      1.     2.250 1.       17.390];
x=[0.93;0.41;0.07];
R=qS2R(data,x,1,1.7)"><pre>data<span class="pl-k">=</span>[<span class="pl-c1">2.5e-4</span> <span class="pl-c1">3.235</span> <span class="pl-c1">1.675e-3</span> <span class="pl-c1">20.720</span>; <span class="pl-c"><span class="pl-c">#</span> enthalpy in kcal/mol</span>
      <span class="pl-c1">0.05</span>   <span class="pl-c1">2.666</span> <span class="pl-c1">0.267</span>    <span class="pl-c1">20.520</span>;
      <span class="pl-c1">0.1</span>    <span class="pl-c1">2.527</span> <span class="pl-c1">0.418</span>    <span class="pl-c1">20.340</span>;
      <span class="pl-c1">0.15</span>   <span class="pl-c1">2.459</span> <span class="pl-c1">0.517</span>    <span class="pl-c1">20.160</span>;
      <span class="pl-c1">0.2</span>    <span class="pl-c1">2.422</span> <span class="pl-c1">0.579</span>    <span class="pl-c1">20.000</span>;
      <span class="pl-c1">0.3</span>    <span class="pl-c1">2.384</span> <span class="pl-c1">0.665</span>    <span class="pl-c1">19.640</span>;
      <span class="pl-c1">0.4</span>    <span class="pl-c1">2.358</span> <span class="pl-c1">0.729</span>    <span class="pl-c1">19.310</span>;
      <span class="pl-c1">0.5</span>    <span class="pl-c1">2.338</span> <span class="pl-c1">0.779</span>    <span class="pl-c1">18.970</span>;
      <span class="pl-c1">0.6</span>    <span class="pl-c1">2.320</span> <span class="pl-c1">0.825</span>    <span class="pl-c1">18.650</span>;
      <span class="pl-c1">0.7</span>    <span class="pl-c1">2.302</span> <span class="pl-c1">0.87</span>     <span class="pl-c1">18.310</span>;
      <span class="pl-c1">0.8</span>    <span class="pl-c1">2.284</span> <span class="pl-c1">0.915</span>    <span class="pl-c1">17.980</span>;
      <span class="pl-c1">0.9</span>    <span class="pl-c1">2.266</span> <span class="pl-c1">0.958</span>    <span class="pl-c1">17.680</span>;
      <span class="pl-c1">1.</span>     <span class="pl-c1">2.250</span> <span class="pl-c1">1.</span>       <span class="pl-c1">17.390</span>];
x<span class="pl-k">=</span>[<span class="pl-c1">0.93</span>;<span class="pl-c1">0.41</span>;<span class="pl-c1">0.07</span>];
R<span class="pl-k">=</span><span class="pl-c1">qS2R</span>(data,x,<span class="pl-c1">1</span>,<span class="pl-c1">1.7</span>)</pre></div>
<p dir="auto">Compute the reflux ratio at the top of a distillation column for oxygen and nitrogen given a matrix that relates the liquid and the vapor fractions and their enthalpies at equilibrium, the composition of the distillate is 88 %, the composition of the feed is 44 %, the composition of the bottoms is 8 %, the feed quality is 55 % and the reflux ratio at the bottom of the column is 1.3:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="data=[0.    0.420 0.    1.840; # enthalpy in kcal/mmol
      0.075 0.418 0.193 1.755;
      0.17  0.415 0.359 1.685;
      0.275 0.410 0.50  1.625;
      0.39  0.398 0.63  1.570;
      0.525 0.378 0.75  1.515;
      0.685 0.349 0.86  1.465;
      0.88  0.300 0.955 1.425;
      1.    0.263 1.    1.405];
x=[0.88;0.44;0.08];
R=qS2R(data,x,0.55,1.3)"><pre>data<span class="pl-k">=</span>[<span class="pl-c1">0.</span>    <span class="pl-c1">0.420</span> <span class="pl-c1">0.</span>    <span class="pl-c1">1.840</span>; <span class="pl-c"><span class="pl-c">#</span> enthalpy in kcal/mmol</span>
      <span class="pl-c1">0.075</span> <span class="pl-c1">0.418</span> <span class="pl-c1">0.193</span> <span class="pl-c1">1.755</span>;
      <span class="pl-c1">0.17</span>  <span class="pl-c1">0.415</span> <span class="pl-c1">0.359</span> <span class="pl-c1">1.685</span>;
      <span class="pl-c1">0.275</span> <span class="pl-c1">0.410</span> <span class="pl-c1">0.50</span>  <span class="pl-c1">1.625</span>;
      <span class="pl-c1">0.39</span>  <span class="pl-c1">0.398</span> <span class="pl-c1">0.63</span>  <span class="pl-c1">1.570</span>;
      <span class="pl-c1">0.525</span> <span class="pl-c1">0.378</span> <span class="pl-c1">0.75</span>  <span class="pl-c1">1.515</span>;
      <span class="pl-c1">0.685</span> <span class="pl-c1">0.349</span> <span class="pl-c1">0.86</span>  <span class="pl-c1">1.465</span>;
      <span class="pl-c1">0.88</span>  <span class="pl-c1">0.300</span> <span class="pl-c1">0.955</span> <span class="pl-c1">1.425</span>;
      <span class="pl-c1">1.</span>    <span class="pl-c1">0.263</span> <span class="pl-c1">1.</span>    <span class="pl-c1">1.405</span>];
x<span class="pl-k">=</span>[<span class="pl-c1">0.88</span>;<span class="pl-c1">0.44</span>;<span class="pl-c1">0.08</span>];
R<span class="pl-k">=</span><span class="pl-c1">qS2R</span>(data,x,<span class="pl-c1">0.55</span>,<span class="pl-c1">1.3</span>)</pre></div>
<h3 dir="auto"><a id="user-content-rs2q" class="anchor" aria-hidden="true" href="#rs2q"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><strong>RS2q</strong></h3>
<p dir="auto">RS2q computes the feed quality of a distillation column using the Ponch√≥n-Savarit method given a x-h-y-H matrix of the liquid and the vapor fractions at equilibrium and their enthalpies, the vector of the fractions of the products and the feed and the reflux ratios at the top and at the bottom of the column.</p>
<p dir="auto"><strong>Syntax:</strong></p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="RS2q(data::Matrix{Float64}, z::Vector{Float64}, q::Number, R::Number)"><pre><span class="pl-c1">RS2q</span>(data<span class="pl-k">::</span><span class="pl-c1">Matrix{Float64}</span>, z<span class="pl-k">::</span><span class="pl-c1">Vector{Float64}</span>, q<span class="pl-k">::</span><span class="pl-c1">Number</span>, R<span class="pl-k">::</span><span class="pl-c1">Number</span>)</pre></div>
<p dir="auto"><strong>Examples:</strong></p>
<p dir="auto">Compute the feed quality of a distillation column for acetone and methanol given a matrix that relates the liquid and the vapor fractions and their enthalpies at equilibrium, the composition of the distillate is 93 %, the composition of the feed is 41 %, the composition of the bottoms is 7 %, the reflux ratio at the top of the column is 2 and the reflux ratio at the bottom of the column is 1.7:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="data=[2.5e-4 3.235 1.675e-3 20.720; # enthalpy in kcal/mol
      0.05   2.666 0.267    20.520;
      0.1    2.527 0.418    20.340;
      0.15   2.459 0.517    20.160;
      0.2    2.422 0.579    20.000;
      0.3    2.384 0.665    19.640;
      0.4    2.358 0.729    19.310;
      0.5    2.338 0.779    18.970;
      0.6    2.320 0.825    18.650;
      0.7    2.302 0.87     18.310;
      0.8    2.284 0.915    17.980;
      0.9    2.266 0.958    17.680;
      1.     2.250 1.       17.390];
x=[0.93;0.41;0.07];
q=RS2q(data,x,2.1,1.7)"><pre>data<span class="pl-k">=</span>[<span class="pl-c1">2.5e-4</span> <span class="pl-c1">3.235</span> <span class="pl-c1">1.675e-3</span> <span class="pl-c1">20.720</span>; <span class="pl-c"><span class="pl-c">#</span> enthalpy in kcal/mol</span>
      <span class="pl-c1">0.05</span>   <span class="pl-c1">2.666</span> <span class="pl-c1">0.267</span>    <span class="pl-c1">20.520</span>;
      <span class="pl-c1">0.1</span>    <span class="pl-c1">2.527</span> <span class="pl-c1">0.418</span>    <span class="pl-c1">20.340</span>;
      <span class="pl-c1">0.15</span>   <span class="pl-c1">2.459</span> <span class="pl-c1">0.517</span>    <span class="pl-c1">20.160</span>;
      <span class="pl-c1">0.2</span>    <span class="pl-c1">2.422</span> <span class="pl-c1">0.579</span>    <span class="pl-c1">20.000</span>;
      <span class="pl-c1">0.3</span>    <span class="pl-c1">2.384</span> <span class="pl-c1">0.665</span>    <span class="pl-c1">19.640</span>;
      <span class="pl-c1">0.4</span>    <span class="pl-c1">2.358</span> <span class="pl-c1">0.729</span>    <span class="pl-c1">19.310</span>;
      <span class="pl-c1">0.5</span>    <span class="pl-c1">2.338</span> <span class="pl-c1">0.779</span>    <span class="pl-c1">18.970</span>;
      <span class="pl-c1">0.6</span>    <span class="pl-c1">2.320</span> <span class="pl-c1">0.825</span>    <span class="pl-c1">18.650</span>;
      <span class="pl-c1">0.7</span>    <span class="pl-c1">2.302</span> <span class="pl-c1">0.87</span>     <span class="pl-c1">18.310</span>;
      <span class="pl-c1">0.8</span>    <span class="pl-c1">2.284</span> <span class="pl-c1">0.915</span>    <span class="pl-c1">17.980</span>;
      <span class="pl-c1">0.9</span>    <span class="pl-c1">2.266</span> <span class="pl-c1">0.958</span>    <span class="pl-c1">17.680</span>;
      <span class="pl-c1">1.</span>     <span class="pl-c1">2.250</span> <span class="pl-c1">1.</span>       <span class="pl-c1">17.390</span>];
x<span class="pl-k">=</span>[<span class="pl-c1">0.93</span>;<span class="pl-c1">0.41</span>;<span class="pl-c1">0.07</span>];
q<span class="pl-k">=</span><span class="pl-c1">RS2q</span>(data,x,<span class="pl-c1">2.1</span>,<span class="pl-c1">1.7</span>)</pre></div>
<p dir="auto">Compute the feed quality of a distillation column for oxygen and nitrogen given a matrix that relates the liquid and the vapor fractions and their enthalpies at equilibrium, the composition of the distillate is 88 %, the composition of the feed is 44 %, the composition of the bottoms is 8 %, the reflux ratio at the top of the column is 2 and the reflux ratio at the bottom of the column is 1.3:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="data=[0.    0.420 0.    1.840; # enthalpy in kcal/mmol
      0.075 0.418 0.193 1.755;
      0.17  0.415 0.359 1.685;
      0.275 0.410 0.50  1.625;
      0.39  0.398 0.63  1.570;
      0.525 0.378 0.75  1.515;
      0.685 0.349 0.86  1.465;
      0.88  0.300 0.955 1.425;
      1.    0.263 1.    1.405];
x=[0.88;0.44;0.08];
q=RS2q(data,x,2,1.3)"><pre>data<span class="pl-k">=</span>[<span class="pl-c1">0.</span>    <span class="pl-c1">0.420</span> <span class="pl-c1">0.</span>    <span class="pl-c1">1.840</span>; <span class="pl-c"><span class="pl-c">#</span> enthalpy in kcal/mmol</span>
      <span class="pl-c1">0.075</span> <span class="pl-c1">0.418</span> <span class="pl-c1">0.193</span> <span class="pl-c1">1.755</span>;
      <span class="pl-c1">0.17</span>  <span class="pl-c1">0.415</span> <span class="pl-c1">0.359</span> <span class="pl-c1">1.685</span>;
      <span class="pl-c1">0.275</span> <span class="pl-c1">0.410</span> <span class="pl-c1">0.50</span>  <span class="pl-c1">1.625</span>;
      <span class="pl-c1">0.39</span>  <span class="pl-c1">0.398</span> <span class="pl-c1">0.63</span>  <span class="pl-c1">1.570</span>;
      <span class="pl-c1">0.525</span> <span class="pl-c1">0.378</span> <span class="pl-c1">0.75</span>  <span class="pl-c1">1.515</span>;
      <span class="pl-c1">0.685</span> <span class="pl-c1">0.349</span> <span class="pl-c1">0.86</span>  <span class="pl-c1">1.465</span>;
      <span class="pl-c1">0.88</span>  <span class="pl-c1">0.300</span> <span class="pl-c1">0.955</span> <span class="pl-c1">1.425</span>;
      <span class="pl-c1">1.</span>    <span class="pl-c1">0.263</span> <span class="pl-c1">1.</span>    <span class="pl-c1">1.405</span>];
x<span class="pl-k">=</span>[<span class="pl-c1">0.88</span>;<span class="pl-c1">0.44</span>;<span class="pl-c1">0.08</span>];
q<span class="pl-k">=</span><span class="pl-c1">RS2q</span>(data,x,<span class="pl-c1">2</span>,<span class="pl-c1">1.3</span>)</pre></div>
<h3 dir="auto"><a id="user-content-see-also" class="anchor" aria-hidden="true" href="#see-also"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>See Also</h3>
<p dir="auto"><a href="https://github.com/aumpierre-unb/McCabeThiele.jl">McCabeThiele.jl</a>,
<a href="https://github.com/aumpierre-unb/Psychrometrics.jl">Psychrometrics.jl</a>,
<a href="https://github.com/aumpierre-unb/InternalFluidFlow.jl">InternalFluidFlow.jl</a>.</p>
<p dir="auto">Copyright ¬© 2022 2023 Alexandre Umpierre</p>
<p dir="auto">email: <a href="mailto:aumpierre@gmail.com">aumpierre@gmail.com</a></p>
</article></div>