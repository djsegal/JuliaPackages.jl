<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-propertygraph" class="anchor" aria-hidden="true" href="#propertygraph"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>PropertyGraph</h1>
<p dir="auto"><a href="https://travis-ci.org/PhillP/PropertyGraph.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/14e94b1dbfbc9566c8f16fb63d1583875450a467043d1fe1587b95e39c0845d9/68747470733a2f2f7472617669732d63692e6f72672f5068696c6c502f50726f706572747947726170682e6a6c2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/PhillP/PropertyGraph.jl.svg?branch=master" style="max-width: 100%;"></a></p>
<p dir="auto">PropertyGraph.jl is a Julia package for creating and querying graph data structures.  A Graph consists of Vertices connected by Edges.  Vertices and Edges each have properties, an identifier and optionally a reference to any arbitrary object so that existing objects can be organised into graphs.</p>
<h2 dir="auto"><a id="user-content-documentation" class="anchor" aria-hidden="true" href="#documentation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Documentation</h2>
<p dir="auto">The primary documentation for PropertyGraph.jl is the <a href="https://github.com/PhillP/PropertyGraph.jl/wiki">wiki</a> which contains guidance, instructions and examples.</p>
<h2 dir="auto"><a id="user-content-inspiration" class="anchor" aria-hidden="true" href="#inspiration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Inspiration</h2>
<p dir="auto">There are various sources of inspiration for this package, including the <a href="https://github.com/tinkerpop/gremlin/wiki">Gremlin</a> graph traversal language for the JVM, the Cypher language used by Neo4j and other query languages.  However, the structure of queries supported by this package make use of features and syntax peculiar to Julia.</p>
<h2 dir="auto"><a id="user-content-querying" class="anchor" aria-hidden="true" href="#querying"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Querying</h2>
<p dir="auto">Querying in PropertyGraph.jl is performed by:</p>
<ul dir="auto">
<li>building up a query object (::CompositeQuery) that contains a list of graph traversals and operations to be performed.</li>
<li>retrieving results from the query (which causes the query to execute when needed)</li>
</ul>
<p dir="auto">A query, or portions of a query can be reused to avoid repeat processing of the common traversals.</p>
<p dir="auto">The simplest way of building a query is  to use the query varargs method.  This method allows queries to be written as a list of operations in a simple DSL as per the following example.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="averagepopulaton = query(graph,
			  (vertices, v-&gt; get(v,&quot;name&quot;) == &quot;Queensland&quot; || get(v,&quot;name&quot;) == &quot;Victoria&quot;),
			  (outgoing, e-&gt;e.typelabel == &quot;IsAdjacent&quot;),
			  head,
			  distinct,
			  (average, v-&gt;get(v, &quot;population&quot;) # average the value of population property
			 )

# The query above contains the following steps:
	# start with a graph
	# select the vertices that match some condition
	# follow the outgoing edges from these vertices where the edges are of type IsAdjacent
	# move to the vertices at the head of those edges
	# retain only 1 instance of each vertex(as some vertices may have been reached by more than 1 path)
	# average the value of population property"><pre>averagepopulaton <span class="pl-k">=</span> <span class="pl-c1">query</span>(graph,
			  (vertices, v<span class="pl-k">-&gt;</span> <span class="pl-c1">get</span>(v,<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>) <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>Queensland<span class="pl-pds">"</span></span> <span class="pl-k">||</span> <span class="pl-c1">get</span>(v,<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>) <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>Victoria<span class="pl-pds">"</span></span>),
			  (outgoing, e<span class="pl-k">-&gt;</span>e<span class="pl-k">.</span>typelabel <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>IsAdjacent<span class="pl-pds">"</span></span>),
			  head,
			  distinct,
			  (average, v<span class="pl-k">-&gt;</span><span class="pl-c1">get</span>(v, <span class="pl-s"><span class="pl-pds">"</span>population<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">#</span> average the value of population property</span>
			 )

<span class="pl-c"><span class="pl-c">#</span> The query above contains the following steps:</span>
	<span class="pl-c"><span class="pl-c">#</span> start with a graph</span>
	<span class="pl-c"><span class="pl-c">#</span> select the vertices that match some condition</span>
	<span class="pl-c"><span class="pl-c">#</span> follow the outgoing edges from these vertices where the edges are of type IsAdjacent</span>
	<span class="pl-c"><span class="pl-c">#</span> move to the vertices at the head of those edges</span>
	<span class="pl-c"><span class="pl-c">#</span> retain only 1 instance of each vertex(as some vertices may have been reached by more than 1 path)</span>
	<span class="pl-c"><span class="pl-c">#</span> average the value of population property</span></pre></div>
<p dir="auto">The above example and others are explained in the <a href="https://github.com/PhillP/PropertyGraph.jl/wiki">wiki</a>.</p>
<h2 dir="auto"><a id="user-content-persistence" class="anchor" aria-hidden="true" href="#persistence"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Persistence</h2>
<p dir="auto">This library provides extension points to support persistence of graphs and the loading of portions of graphs on-demand. An implementation of this for a specific database / persistence technology will be provided as a seperate, related package.</p>
<p dir="auto">The wiki describes how change tracking is implemented.  A store of changes is provided and can be used by persistence functionality to determine which vertices and edges have change and need to be persisted or removed.</p>
<p dir="auto">Loading on demand is supported by extending the GraphLoader type and providing several required method implementations used to load subsets of graph data from a persistence store.  An instance of this type can be used as a source for a Query, and the PropertyGraph library will make the appropriate calls to obtain information about edges and vertices as needed to complete the query.</p>
<h2 dir="auto"><a id="user-content-performance" class="anchor" aria-hidden="true" href="#performance"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Performance</h2>
<p dir="auto">The focus of the library has initially been on supporting a useful and convenient query syntax.</p>
<p dir="auto">Further testing is required, particularly against specific persistence implementations, and this is an area where additional effort is likely to be required.</p>
<h2 dir="auto"><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<p dir="auto">Although PropertyGraph.jl is written to be compatible with both Julia 0.3 and 0.4, it is, at least initially, be available for Julia 0.4 only.  There have been errors encountered during testing on v0.3 due to issues that have already been resolved in Julia 0.4.</p>
<p dir="auto">Install PropertyGraph.jl with:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Pkg.add(&quot;PropertyGraph&quot;)"><pre>Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-s"><span class="pl-pds">"</span>PropertyGraph<span class="pl-pds">"</span></span>)</pre></div>
<p dir="auto">If PropertyGraph.jl is not recognised you may first need to update your package metadata with:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Pkg.update()"><pre>Pkg<span class="pl-k">.</span><span class="pl-c1">update</span>()</pre></div>
<p dir="auto">PropertyGraph.jl has a dependency on the following 2 packages:</p>
<ul dir="auto">
<li>the <a href="https://github.com/JuliaLang/Compat.jl">Compat</a> package for Julia 0.3/0.4 compatibility</li>
<li>the <a href="https://github.com/forio/UUID.jl">UUID</a> for generation of unique identifiers</li>
</ul>
</article></div>