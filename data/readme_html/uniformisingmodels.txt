<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-uniformisingmodels" class="anchor" aria-hidden="true" href="#uniformisingmodels"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>UniformIsingModels</h1>
<p dir="auto"><a href="https://github.com/stecrotti/UniformIsingModels.jl/actions/workflows/CI.yml?query=branch%3Amain"><img src="https://github.com/stecrotti/UniformIsingModels.jl/actions/workflows/CI.yml/badge.svg?branch=main" alt="Build Status" style="max-width: 100%;"></a>
<a href="https://codecov.io/gh/stecrotti/UniformIsingModels.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/44948c46b6207d24beb3685421704bbd962eafb39e219d2f8ad52d0f68641cb3/68747470733a2f2f636f6465636f762e696f2f67682f73746563726f7474692f556e69666f726d4973696e674d6f64656c732e6a6c2f6272616e63682f6d61696e2f67726170682f62616467652e737667" alt="Coverage" data-canonical-src="https://codecov.io/gh/stecrotti/UniformIsingModels.jl/branch/main/graph/badge.svg" style="max-width: 100%;"></a></p>
<p dir="auto">A fully-connected ferromagnetic Ising model with uniform coupling strength, described by a Boltzmann distribution</p>
<blockquote>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/b684906d95e19087f3a80a76d2c0209aa9b0d4486d56cc42cd0cbd3bb6374fe9/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f7376672e696d6167653f7028253543626f6c6473796d626f6c2535437369676d612537434a2c2673706163653b253543626f6c6473796d626f6c253742682537442c2673706163653b25354362657461292673706163653b3d2673706163653b25354366726163253742312537442537425a5f2537424a2c2673706163653b253543626f6c6473796d626f6c253742682537442c2673706163653b253543626574612537442537442535436578702535436c656674253542253543626574612535436c65667428253543667261632537424a2537442537424e25374425354373756d5f253742692533436a2537442535437369676d615f692535437369676d615f6a2673706163653b2b25354373756d5f253742693d312537442535454e685f692535437369676d615f6925354372696768742925354372696768742535442c25354371756164253543626f6c6473796d626f6c2535437369676d61253543696e2535432537422d312c312535432537442535454e"><img src="https://camo.githubusercontent.com/b684906d95e19087f3a80a76d2c0209aa9b0d4486d56cc42cd0cbd3bb6374fe9/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f7376672e696d6167653f7028253543626f6c6473796d626f6c2535437369676d612537434a2c2673706163653b253543626f6c6473796d626f6c253742682537442c2673706163653b25354362657461292673706163653b3d2673706163653b25354366726163253742312537442537425a5f2537424a2c2673706163653b253543626f6c6473796d626f6c253742682537442c2673706163653b253543626574612537442537442535436578702535436c656674253542253543626574612535436c65667428253543667261632537424a2537442537424e25374425354373756d5f253742692533436a2537442535437369676d615f692535437369676d615f6a2673706163653b2b25354373756d5f253742693d312537442535454e685f692535437369676d615f6925354372696768742925354372696768742535442c25354371756164253543626f6c6473796d626f6c2535437369676d61253543696e2535432537422d312c312535432537442535454e" alt="equation" data-canonical-src="https://latex.codecogs.com/svg.image?p(%5Cboldsymbol%5Csigma%7CJ,&amp;space;%5Cboldsymbol%7Bh%7D,&amp;space;%5Cbeta)&amp;space;=&amp;space;%5Cfrac%7B1%7D%7BZ_%7BJ,&amp;space;%5Cboldsymbol%7Bh%7D,&amp;space;%5Cbeta%7D%7D%5Cexp%5Cleft%5B%5Cbeta%5Cleft(%5Cfrac%7BJ%7D%7BN%7D%5Csum_%7Bi%3Cj%7D%5Csigma_i%5Csigma_j&amp;space;+%5Csum_%7Bi=1%7D%5ENh_i%5Csigma_i%5Cright)%5Cright%5D,%5Cquad%5Cboldsymbol%5Csigma%5Cin%5C%7B-1,1%5C%7D%5EN" style="max-width: 100%;"></a></p>
</blockquote>
<p dir="auto">is exactly solvable in polynomial time.</p>
<table>
<thead>
<tr>
<th>Quantity</th>
<th>Cost</th>
</tr>
</thead>
<tbody>
<tr>
<td>Normalization, Free energy</td>
<td><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/94748ab406b06575eb03de85ffcb15bf0ca2b1e43de99e9e6c86e841b88cf29f/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f7376672e696d6167653f2535436d61746863616c2537424f253744284e2535453229"><img src="https://camo.githubusercontent.com/94748ab406b06575eb03de85ffcb15bf0ca2b1e43de99e9e6c86e841b88cf29f/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f7376672e696d6167653f2535436d61746863616c2537424f253744284e2535453229" alt="equation" data-canonical-src="https://latex.codecogs.com/svg.image?%5Cmathcal%7BO%7D(N%5E2)" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td>Sample a configuration</td>
<td><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/94748ab406b06575eb03de85ffcb15bf0ca2b1e43de99e9e6c86e841b88cf29f/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f7376672e696d6167653f2535436d61746863616c2537424f253744284e2535453229"><img src="https://camo.githubusercontent.com/94748ab406b06575eb03de85ffcb15bf0ca2b1e43de99e9e6c86e841b88cf29f/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f7376672e696d6167653f2535436d61746863616c2537424f253744284e2535453229" alt="equation" data-canonical-src="https://latex.codecogs.com/svg.image?%5Cmathcal%7BO%7D(N%5E2)" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td>Average energy, Entropy</td>
<td><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/94748ab406b06575eb03de85ffcb15bf0ca2b1e43de99e9e6c86e841b88cf29f/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f7376672e696d6167653f2535436d61746863616c2537424f253744284e2535453229"><img src="https://camo.githubusercontent.com/94748ab406b06575eb03de85ffcb15bf0ca2b1e43de99e9e6c86e841b88cf29f/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f7376672e696d6167653f2535436d61746863616c2537424f253744284e2535453229" alt="equation" data-canonical-src="https://latex.codecogs.com/svg.image?%5Cmathcal%7BO%7D(N%5E2)" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td>Distribution of the sum of the N spins</td>
<td><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/94748ab406b06575eb03de85ffcb15bf0ca2b1e43de99e9e6c86e841b88cf29f/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f7376672e696d6167653f2535436d61746863616c2537424f253744284e2535453229"><img src="https://camo.githubusercontent.com/94748ab406b06575eb03de85ffcb15bf0ca2b1e43de99e9e6c86e841b88cf29f/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f7376672e696d6167653f2535436d61746863616c2537424f253744284e2535453229" alt="equation" data-canonical-src="https://latex.codecogs.com/svg.image?%5Cmathcal%7BO%7D(N%5E2)" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td>Site magnetizations</td>
<td><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/27ca7844b28e5666c6b1b539968c3105a7233cf38f60ec7495b15e5157721356/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f7376672e696d6167653f2535436d61746863616c2537424f253744284e2535453329"><img src="https://camo.githubusercontent.com/27ca7844b28e5666c6b1b539968c3105a7233cf38f60ec7495b15e5157721356/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f7376672e696d6167653f2535436d61746863616c2537424f253744284e2535453329" alt="equation" data-canonical-src="https://latex.codecogs.com/svg.image?%5Cmathcal%7BO%7D(N%5E3)" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td>Pair magnetizations, Correlations</td>
<td><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/7ef3a715bf40d119bc99f87c43f928d40988cbd7ed25c4ce4092f0224dee66b9/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f7376672e696d6167653f2535436d61746863616c2537424f253744284e2535453529"><img src="https://camo.githubusercontent.com/7ef3a715bf40d119bc99f87c43f928d40988cbd7ed25c4ce4092f0224dee66b9/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f7376672e696d6167653f2535436d61746863616c2537424f253744284e2535453529" alt="equation" data-canonical-src="https://latex.codecogs.com/svg.image?%5Cmathcal%7BO%7D(N%5E5)" style="max-width: 100%;"></a></td>
</tr>
</tbody>
</table>
<h2 dir="auto"><a id="user-content-example" class="anchor" aria-hidden="true" href="#example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Example</h2>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="]add UniformIsingModels"><pre class="notranslate"><code>]add UniformIsingModels
</code></pre></div>
<p dir="auto">Construct a <code>UniformIsing</code> instance</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="using UniformIsingModels, Random

N = 10
J = 2.0
rng = MersenneTwister(0)
h = randn(rng, N)
β = 0.1
x = UniformIsing(N, J, h, β)"><pre class="notranslate"><code>using UniformIsingModels, Random

N = 10
J = 2.0
rng = MersenneTwister(0)
h = randn(rng, N)
β = 0.1
x = UniformIsing(N, J, h, β)
</code></pre></div>
<p dir="auto">Compute stuff</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="# normalization and free energy
Z = exp(x.logZ)
F = free_energy(x)

# energy and probability of a configuration
σ = rand(rng, (-1,1), N) 
E = energy(x, σ)
prob = pdf(x, σ)

# a sample along with its probability 
σ, p = sample(rng, x)

# single-site magnetizations &lt;σᵢ&gt;
m = site_magnetizations(x)

# distribution of the sum Σᵢσᵢ of all variables
ps = sum_distribution(x)

# energy expected value
U = avg_energy(x)

# entropy
S = entropy(x)

# pairwise magnetizations &lt;σᵢσⱼ&gt; and correlations
p = pair_magnetizations(x)
c = correlations(x)
"><pre class="notranslate"><code># normalization and free energy
Z = exp(x.logZ)
F = free_energy(x)

# energy and probability of a configuration
σ = rand(rng, (-1,1), N) 
E = energy(x, σ)
prob = pdf(x, σ)

# a sample along with its probability 
σ, p = sample(rng, x)

# single-site magnetizations &lt;σᵢ&gt;
m = site_magnetizations(x)

# distribution of the sum Σᵢσᵢ of all variables
ps = sum_distribution(x)

# energy expected value
U = avg_energy(x)

# entropy
S = entropy(x)

# pairwise magnetizations &lt;σᵢσⱼ&gt; and correlations
p = pair_magnetizations(x)
c = correlations(x)

</code></pre></div>
<h2 dir="auto"><a id="user-content-notes" class="anchor" aria-hidden="true" href="#notes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Notes</h2>
<p dir="auto">The internals rely on dynamic programming.</p>
<p dir="auto">If you know of any implementation that's more efficient than this one I'd be very happy to learn about it!</p>
</article></div>