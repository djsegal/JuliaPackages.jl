<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-optcontrol" class="anchor" aria-hidden="true" href="#optcontrol"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>OptControl</h1>
<p dir="auto"><a href="https://ai4energy.github.io/OptControl.jl/stable" rel="nofollow"><img src="https://camo.githubusercontent.com/c97f0a5f2ae95755f64a27f1aa8d9a17462941fd3d6c907c7630abd5d3e60acf/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d737461626c652d626c75652e737667" alt="Stable" data-canonical-src="https://img.shields.io/badge/docs-stable-blue.svg" style="max-width: 100%;"></a>
<a href="https://ai4energy.github.io/OptControl.jl/dev" rel="nofollow"><img src="https://camo.githubusercontent.com/7fcec4b2d3ab291529fce8ef6a4fcd4129a0683b2f5d5fe2f5c648f02db8b616/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6465762d626c75652e737667" alt="Dev" data-canonical-src="https://img.shields.io/badge/docs-dev-blue.svg" style="max-width: 100%;"></a>
<a href="https://ci.appveyor.com/project/jake484/OptControl-jl" rel="nofollow"><img src="https://camo.githubusercontent.com/a88771c0a55ac72714df9865fe33229172bb5e9cef716d43618dd91267d292bb/68747470733a2f2f63692e6170707665796f722e636f6d2f6170692f70726f6a656374732f7374617475732f6769746875622f6a616b653438342f4f7074436f6e74726f6c2e6a6c3f7376673d74727565" alt="Build Status" data-canonical-src="https://ci.appveyor.com/api/projects/status/github/jake484/OptControl.jl?svg=true" style="max-width: 100%;"></a></p>
<p dir="auto">OptControl.jl is a interface that use symbols to build optimal control problem based on <a href="https://mtk.sciml.ai/stable/" rel="nofollow">ModelingToolkit.jl</a>, and then transforms optimal control problem to:</p>
<ul dir="auto">
<li>Differential Equations Problems(DEP)</li>
<li>Optimzation Problems(OP)</li>
</ul>
<p dir="auto">DEP can be solved by <a href="https://diffeq.sciml.ai/dev/" rel="nofollow">DifferentialEquations.jl</a> and OP can be solved by <a href="https://jump.dev/JuMP.jl/stable/" rel="nofollow">JuMP.jl</a></p>
<p dir="auto">An example of optimal control problem:</p>
<p dir="auto"><math-renderer class="js-display-math" style="display: block" data-static-url="https://github.githubassets.com/static" data-run-id="2dbe48f896374f809456efcb795d9a94">$$
\begin{matrix}
min \int_{0}^{2} u^2dt \newline s.t. ~~~~~ \dot{\boldsymbol{x}} =\begin{bmatrix}0&amp;1 \newline 0&amp;0\end{bmatrix}\boldsymbol{x}+ \begin{bmatrix}0 \newline 1 \end{bmatrix}u \newline \boldsymbol{x}(0) = \begin{bmatrix} 1 \newline 1 \end{bmatrix}, \boldsymbol{x}(2)=\begin{bmatrix} 0 \newline 0 \end{bmatrix}
\end{matrix}
$$</math-renderer></p>
<p dir="auto">And use <code>OptControl.jl</code> to transform it to <code>JuMP</code> code to solve it.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using ModelingToolkit,OptControl
@variables t u x[1:2]
f = [0 1; 0 0] * x + [0, 1] * u
L = 0.5 * u^2
t0 = [1.0, 1.0]
tf = [0.0, 0.0]
tspan = (0.0, 2.0)
N = 100
sol = generateJuMPcodes(L, f, x, u, tspan, t0, tf; N=N)"><pre><span class="pl-k">using</span> ModelingToolkit,OptControl
<span class="pl-c1">@variables</span> t u x[<span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">2</span>]
f <span class="pl-k">=</span> [<span class="pl-c1">0</span> <span class="pl-c1">1</span>; <span class="pl-c1">0</span> <span class="pl-c1">0</span>] <span class="pl-k">*</span> x <span class="pl-k">+</span> [<span class="pl-c1">0</span>, <span class="pl-c1">1</span>] <span class="pl-k">*</span> u
L <span class="pl-k">=</span> <span class="pl-c1">0.5</span> <span class="pl-k">*</span> u<span class="pl-k">^</span><span class="pl-c1">2</span>
t0 <span class="pl-k">=</span> [<span class="pl-c1">1.0</span>, <span class="pl-c1">1.0</span>]
tf <span class="pl-k">=</span> [<span class="pl-c1">0.0</span>, <span class="pl-c1">0.0</span>]
tspan <span class="pl-k">=</span> (<span class="pl-c1">0.0</span>, <span class="pl-c1">2.0</span>)
N <span class="pl-k">=</span> <span class="pl-c1">100</span>
sol <span class="pl-k">=</span> <span class="pl-c1">generateJuMPcodes</span>(L, f, x, u, tspan, t0, tf; N<span class="pl-k">=</span>N)</pre></div>
<p dir="auto">See <a href="https://ai4energy.github.io/OptControl.jl/dev" rel="nofollow">document</a> for more information.</p>
</article></div>