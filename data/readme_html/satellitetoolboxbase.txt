<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-satellitetoolboxbasejl" class="anchor" aria-hidden="true" href="#satellitetoolboxbasejl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>SatelliteToolboxBase.jl</h1>
<p dir="auto"><a href="https://github.com/JuliaSpace/SatelliteToolboxBase.jl/actions/workflows/ci.yml"><img src="https://github.com/JuliaSpace/SatelliteToolboxBase.jl/actions/workflows/ci.yml/badge.svg" alt="CI" style="max-width: 100%;"></a>
<a href="https://codecov.io/gh/JuliaSpace/SatelliteToolboxBase.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/6298d15c622236b5f0aae080a6276d96a68cb6898deedb7cb8dde3a233dbaf80/68747470733a2f2f636f6465636f762e696f2f67682f4a756c696153706163652f536174656c6c697465546f6f6c626f78426173652e6a6c2f6272616e63682f6d61696e2f67726170682f62616467652e7376673f746f6b656e3d59414455374942384354" alt="codecov" data-canonical-src="https://codecov.io/gh/JuliaSpace/SatelliteToolboxBase.jl/branch/main/graph/badge.svg?token=YADU7IB8CT" style="max-width: 100%;"></a>
<a href="https://github.com/invenia/BlueStyle"><img src="https://camo.githubusercontent.com/c18fbaa52d94d16b90b19701fc90d289b8a5bb920c74c79bab200b14e75420a4/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636f64652532307374796c652d626c75652d3434393564312e737667" alt="Code Style: Blue" data-canonical-src="https://img.shields.io/badge/code%20style-blue-4495d1.svg" style="max-width: 100%;"></a></p>
<p dir="auto">This package contains base functions and type definitions for the
<strong>SatelliteToolbox.jl</strong> ecosystem.</p>
<blockquote>
<p dir="auto"><span class="color-fg-accent"><svg class="octicon octicon-info mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</span>
This package contains only basic definitions used for other packages in the
<strong>SatelliteToolbox.jl</strong>. You will need to install other packages to perform analyses and
studies.</p>
</blockquote>
<h2 dir="auto"><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; using Pkg
julia&gt; Pkg.install(&quot;SatelliteToolboxTimeBase&quot;)"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> Pkg
julia<span class="pl-k">&gt;</span> Pkg<span class="pl-k">.</span><span class="pl-c1">install</span>(<span class="pl-s"><span class="pl-pds">"</span>SatelliteToolboxTimeBase<span class="pl-pds">"</span></span>)</pre></div>
<h2 dir="auto"><a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Usage</h2>
<h3 dir="auto"><a id="user-content-constants" class="anchor" aria-hidden="true" href="#constants"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Constants</h3>
<p dir="auto">We define and export the following constants in this package:</p>
<table>
<thead>
<tr>
<th align="left">Constant</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>GM_EARTH</code></td>
<td align="left">Earth's standard gravitational parameter.</td>
</tr>
<tr>
<td align="left"><code>EARTH_ANGULAR_SPEED</code></td>
<td align="left">Earth's angular speed without LOD correction.</td>
</tr>
<tr>
<td align="left"><code>WGS84_ELLIPSOID</code></td>
<td align="left">The WGS-84 ellipsoid defined using the structure <code>Ellipsoid{Float64}</code>.</td>
</tr>
<tr>
<td align="left"><code>WGS84_ELLIPSOID_F32</code></td>
<td align="left">The WGS-84 ellipsoid defined using the structure <code>Ellipsoid{Float32}</code>.</td>
</tr>
<tr>
<td align="left"><code>EGM08_J2</code></td>
<td align="left">J2 perturbation term obtained from EGM-08 model.</td>
</tr>
<tr>
<td align="left"><code>EGM08_J3</code></td>
<td align="left">J3 perturbation term obtained from EGM-08 model.</td>
</tr>
<tr>
<td align="left"><code>EGM08_J4</code></td>
<td align="left">J4 perturbation term obtained from EGM-08 model.</td>
</tr>
<tr>
<td align="left"><code>JD_J2000</code></td>
<td align="left">Julian Day of J2000.0 epoch (2000-01-01T12:00:00.000).</td>
</tr>
</tbody>
</table>
<h3 dir="auto"><a id="user-content-orbit" class="anchor" aria-hidden="true" href="#orbit"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Orbit</h3>
<p dir="auto">This package defines the abstract type <code>Orbit</code> for all orbit representations.</p>
<p dir="auto">Currently, we defined two types to represent an orbit: <code>KeplerianElements</code> and
<code>OrbitStateVector</code>.</p>
<p dir="auto"><code>KeplerianElements</code> defines an orbit in terms of the <a href="https://en.wikipedia.org/wiki/Orbital_elements" rel="nofollow">Keplerian
elements</a>. This object is created using the
function:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="function KeplerianElements(t::Tepoch, a::T1, e::T2, i::T3, Ω::T4, ω::T5, f::T6)"><pre><span class="pl-k">function</span> <span class="pl-en">KeplerianElements</span>(t<span class="pl-k">::</span><span class="pl-c1">Tepoch</span>, a<span class="pl-k">::</span><span class="pl-c1">T1</span>, e<span class="pl-k">::</span><span class="pl-c1">T2</span>, i<span class="pl-k">::</span><span class="pl-c1">T3</span>, Ω<span class="pl-k">::</span><span class="pl-c1">T4</span>, ω<span class="pl-k">::</span><span class="pl-c1">T5</span>, f<span class="pl-k">::</span><span class="pl-c1">T6</span>)</pre></div>
<p dir="auto">where it returns an orbit representation using Keplerian elements with semi-major axis <code>a</code>
[m], eccentricity <code>e</code> [ ], inclination <code>i</code> [rad], right ascension of the ascending node <code>Ω</code>
[rad], argument of perigee <code>ω</code> [rad], and true anomaly <code>f</code> [rad].</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="julia&gt; orb = KeplerianElements(
           date_to_jd(1986, 6, 19, 18, 35, 0),
           7130.982e3,
              0.0001111,
             98.405 |&gt; deg2rad,
            200.000 |&gt; deg2rad,
             90.000 |&gt; deg2rad,
            123.456 |&gt; deg2rad,
       )
KeplerianElements{Float64, Float64}:
           Epoch :    2.4466e6 (1986-06-19T18:35:00)
 Semi-major axis : 7130.98      km
    Eccentricity :    0.0001111
     Inclination :   98.405     °
            RAAN :  200.0       °
 Arg. of Perigee :   90.0       °
    True Anomaly :  123.456     °"><pre lang="julia-repl" class="notranslate"><code>julia&gt; orb = KeplerianElements(
           date_to_jd(1986, 6, 19, 18, 35, 0),
           7130.982e3,
              0.0001111,
             98.405 |&gt; deg2rad,
            200.000 |&gt; deg2rad,
             90.000 |&gt; deg2rad,
            123.456 |&gt; deg2rad,
       )
KeplerianElements{Float64, Float64}:
           Epoch :    2.4466e6 (1986-06-19T18:35:00)
 Semi-major axis : 7130.98      km
    Eccentricity :    0.0001111
     Inclination :   98.405     °
            RAAN :  200.0       °
 Arg. of Perigee :   90.0       °
    True Anomaly :  123.456     °
</code></pre></div>
<p dir="auto"><code>OrbitStateVector</code> defines the orbit in terms of the <a href="https://en.wikipedia.org/wiki/Orbital_state_vectors" rel="nofollow">object state
vector</a>. This object is created using
the function:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="function OrbitStateVector(t::Tepoch, r::AbstractVector{Tr}, v::AbstractVector{Tv}[, a::AbstractVector{Ta}])"><pre><span class="pl-k">function</span> <span class="pl-en">OrbitStateVector</span>(t<span class="pl-k">::</span><span class="pl-c1">Tepoch</span>, r<span class="pl-k">::</span><span class="pl-c1">AbstractVector{Tr}</span>, v<span class="pl-k">::</span><span class="pl-c1">AbstractVector{Tv}</span>[, a<span class="pl-k">::</span><span class="pl-c1">AbstractVector{Ta}</span>])</pre></div>
<p dir="auto">where it creates an orbit state vector with epoch <code>t</code> [Julian Day], position <code>r</code>
[m], velocity <code>v</code> [m / s], and acceleration <code>a</code> [m / s²]. If the latter is
omitted, it will be filled with <code>[0, 0, 0]</code>.</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="julia&gt; r_i = [6525.344; 6861.535; 6449.125] * 1000
3-element Vector{Float64}:
 6.525344e6
 6.861535e6
 6.449125e6

julia&gt; v_i = [49.02276; 55.33124; -19.75709] * 1000
3-element Vector{Float64}:
  49022.759999999995
  55331.24
 -19757.09

julia&gt; sv = OrbitStateVector(date_to_jd(1986, 6, 19, 18, 35, 0), r_i, v_i)
OrbitStateVector{Float64, Float64}:
  epoch : 2.4466e6 (1986-06-19T18:35:00)
      r : [6525.34, 6861.53, 6449.12]   km
      v : [49.0228, 55.3312, -19.7571]  km/s"><pre lang="julia-repl" class="notranslate"><code>julia&gt; r_i = [6525.344; 6861.535; 6449.125] * 1000
3-element Vector{Float64}:
 6.525344e6
 6.861535e6
 6.449125e6

julia&gt; v_i = [49.02276; 55.33124; -19.75709] * 1000
3-element Vector{Float64}:
  49022.759999999995
  55331.24
 -19757.09

julia&gt; sv = OrbitStateVector(date_to_jd(1986, 6, 19, 18, 35, 0), r_i, v_i)
OrbitStateVector{Float64, Float64}:
  epoch : 2.4466e6 (1986-06-19T18:35:00)
      r : [6525.34, 6861.53, 6449.12]   km
      v : [49.0228, 55.3312, -19.7571]  km/s
</code></pre></div>
<p dir="auto">The conversion between the orbit representations can be performed using the following
functions:</p>
<ul dir="auto">
<li><code>kepler_to_rv</code>: Convert the Keplerian elements to Cartesian position and velocity.</li>
<li><code>kepler_to_sv</code>: convert the Keplerian elements to orbit state vector.</li>
<li><code>rv_to_kepler</code>: Convert the Cartesian position and velocity to Keplerian elements.</li>
<li><code>sv_to_kepler</code>: Convert the orbit state vector to Keplerian elements.</li>
</ul>
<p dir="auto">For more information, see the built-in documentation of those functions.</p>
<h4 dir="auto"><a id="user-content-conversion-between-orbit-anomalies" class="anchor" aria-hidden="true" href="#conversion-between-orbit-anomalies"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Conversion between Orbit Anomalies</h4>
<p dir="auto">There are three types of anomalies (angles) that can be used to describe the position of the
satellite in the orbit plane with respect to the argument of perigee:</p>
<ul dir="auto">
<li>The mean anomaly (<code>M</code>);</li>
<li>The eccentric anomaly (<code>E</code>); and</li>
<li>The true anomaly (<code>f</code>).</li>
</ul>
<p dir="auto">This package contains the following functions that can be used to convert one to another:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="function mean_to_eccentric_anomaly(e::Number, M::Number; kwargs...) -&gt; T
function mean_to_true_anomaly(e::Number, M::Number; kwargs...) -&gt; T
function eccentric_to_true_anomaly(e::Number, E::Number) -&gt; T
function eccentric_to_mean_anomaly(e::Number, E::Number) -&gt; T
function true_to_eccentric_anomaly(e::Number,f::Number) -&gt; T
function true_to_mean_anomaly(e::Number, f::Number) -&gt; T"><pre><span class="pl-k">function</span> <span class="pl-en">mean_to_eccentric_anomaly</span>(e<span class="pl-k">::</span><span class="pl-c1">Number</span>, M<span class="pl-k">::</span><span class="pl-c1">Number</span>; kwargs<span class="pl-k">...</span>) <span class="pl-k">-&gt;</span> T
<span class="pl-k">function</span> <span class="pl-en">mean_to_true_anomaly</span>(e<span class="pl-k">::</span><span class="pl-c1">Number</span>, M<span class="pl-k">::</span><span class="pl-c1">Number</span>; kwargs<span class="pl-k">...</span>) <span class="pl-k">-&gt;</span> T
<span class="pl-k">function</span> <span class="pl-en">eccentric_to_true_anomaly</span>(e<span class="pl-k">::</span><span class="pl-c1">Number</span>, E<span class="pl-k">::</span><span class="pl-c1">Number</span>) <span class="pl-k">-&gt;</span> T
<span class="pl-k">function</span> <span class="pl-en">eccentric_to_mean_anomaly</span>(e<span class="pl-k">::</span><span class="pl-c1">Number</span>, E<span class="pl-k">::</span><span class="pl-c1">Number</span>) <span class="pl-k">-&gt;</span> T
<span class="pl-k">function</span> <span class="pl-en">true_to_eccentric_anomaly</span>(e<span class="pl-k">::</span><span class="pl-c1">Number</span>,f<span class="pl-k">::</span><span class="pl-c1">Number</span>) <span class="pl-k">-&gt;</span> T
<span class="pl-k">function</span> <span class="pl-en">true_to_mean_anomaly</span>(e<span class="pl-k">::</span><span class="pl-c1">Number</span>, f<span class="pl-k">::</span><span class="pl-c1">Number</span>) <span class="pl-k">-&gt;</span> T</pre></div>
<p dir="auto">where:</p>
<ul dir="auto">
<li><code>M</code> is the mean anomaly [rad];</li>
<li><code>E</code> is the eccentric anomaly [rad];</li>
<li><code>f</code> is the true anomaly [rad];</li>
<li><code>e</code> is the eccentricity.</li>
<li><code>T</code> is the output type obtained by promoting <code>T1</code> and <code>T2</code> to float.</li>
</ul>
<p dir="auto">All the returned values are in [rad].</p>
<p dir="auto">The functions <code>mean_to_eccentric</code> and <code>mean_to_true</code> uses the Newton-Raphson algorithm to
solve the Kepler's equation. In this case, the following keywords are available to configure
it:</p>
<ul dir="auto">
<li><code>tol::Union{Nothing, Number}</code>: Tolerance to accept the solution from Newton-Raphson
algorithm. If <code>tol</code> is <code>nothing</code>, then it will be <code>eps(T)</code>, where <code>T</code> is a
floating-point type obtained from the promotion of <code>T1</code> and <code>T2</code> to a float.
(<strong>Default</strong> = <code>nothing</code>)</li>
<li><code>max_iterations::Number</code>: Maximum number of iterations allowed for the Newton-Raphson
algorithm. If it is lower than 1, then it is set to 10. (<strong>Default</strong> = 10)</li>
</ul>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="julia&gt; mean_to_eccentric_anomaly(0.04, pi / 4)
0.814493281928579

julia&gt; mean_to_true_anomaly(0.04, pi / 4)
0.8440031124631191

julia&gt; true_to_mean_anomaly(0.04, pi / 4)
0.7300148523821107

julia&gt; mean_to_true_anomaly(0, 0.343)
0.3430000000000001

julia&gt; mean_to_true_anomaly(0.04, 0.343)
0.3712280339918371"><pre lang="julia-repl" class="notranslate"><code>julia&gt; mean_to_eccentric_anomaly(0.04, pi / 4)
0.814493281928579

julia&gt; mean_to_true_anomaly(0.04, pi / 4)
0.8440031124631191

julia&gt; true_to_mean_anomaly(0.04, pi / 4)
0.7300148523821107

julia&gt; mean_to_true_anomaly(0, 0.343)
0.3430000000000001

julia&gt; mean_to_true_anomaly(0.04, 0.343)
0.3712280339918371
</code></pre></div>
<h3 dir="auto"><a id="user-content-time" class="anchor" aria-hidden="true" href="#time"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Time</h3>
<blockquote>
<p dir="auto"><span class="color-fg-accent"><svg class="octicon octicon-info mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</span>
Julia already has some of the functionality implemented here.
However, we use those functions for historical reasons or because the
implementation here is more straightforward. For example, currently, we need
to break an instant into year, month, day, hour, minute, second, and
millisecond to convert it to Julian day using Julia's <code>Dates</code> package, where
all terms must be <code>Integer</code>s. Here, <code>date_to_jd</code> accepts a floating-point
seconds, leading to a easier initialization.</p>
</blockquote>
<h4 dir="auto"><a id="user-content-converting-epochs-to-julian-day" class="anchor" aria-hidden="true" href="#converting-epochs-to-julian-day"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Converting epochs to Julian day</h4>
<p dir="auto">An epoch can be converted to Julian day using the function <code>date_to_jd</code>. This
function can receive:</p>
<ul dir="auto">
<li>A set of numbers indicating the year, month, day, hour (24h-format), minute,
and second;</li>
<li>An object of type <code>Date</code>; or</li>
<li>An object of type <code>DateTime</code>.</li>
</ul>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; date_to_jd(1986, 6, 19, 18, 35, 10.123456)
2.446601274422725e6

julia&gt; date_to_jd(1986, 6, 19)
2.4466005e6

julia&gt; date_to_jd(Date(1986, 6, 19))
2.4466005e6

julia&gt; date_to_jd(DateTime(1986, 6, 19, 18, 35, 10))
2.446601274421296e6"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">date_to_jd</span>(<span class="pl-c1">1986</span>, <span class="pl-c1">6</span>, <span class="pl-c1">19</span>, <span class="pl-c1">18</span>, <span class="pl-c1">35</span>, <span class="pl-c1">10.123456</span>)
<span class="pl-c1">2.446601274422725e6</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">date_to_jd</span>(<span class="pl-c1">1986</span>, <span class="pl-c1">6</span>, <span class="pl-c1">19</span>)
<span class="pl-c1">2.4466005e6</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">date_to_jd</span>(<span class="pl-c1">Date</span>(<span class="pl-c1">1986</span>, <span class="pl-c1">6</span>, <span class="pl-c1">19</span>))
<span class="pl-c1">2.4466005e6</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">date_to_jd</span>(<span class="pl-c1">DateTime</span>(<span class="pl-c1">1986</span>, <span class="pl-c1">6</span>, <span class="pl-c1">19</span>, <span class="pl-c1">18</span>, <span class="pl-c1">35</span>, <span class="pl-c1">10</span>))
<span class="pl-c1">2.446601274421296e6</span></pre></div>
<h4 dir="auto"><a id="user-content-converting-julian-day-to-epochs" class="anchor" aria-hidden="true" href="#converting-julian-day-to-epochs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Converting Julian day to epochs</h4>
<p dir="auto">We can convert a Julian day to an epoch using the function <code>jd_to_date</code>. Its
signature is:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="jd_to_date([T,] JD::Number)"><pre><span class="pl-c1">jd_to_date</span>([T,] JD<span class="pl-k">::</span><span class="pl-c1">Number</span>)</pre></div>
<p dir="auto">where <code>T</code> is the converted object format.</p>
<p dir="auto">If <code>T</code> is omitted or <code>Int</code>, then a tuple with the following data will be
returned:</p>
<ul dir="auto">
<li>Year.</li>
<li>Month (<code>1</code> =&gt; <strong>January</strong>, <code>2</code> =&gt; <strong>February</strong>, ...).</li>
<li>Day.</li>
<li>Hour (0 - 24).</li>
<li>Minute (0 - 59).</li>
<li>Second (0 - 59).</li>
</ul>
<p dir="auto">Notice that if <code>T</code> is <code>Int</code>, the seconds field will be rounded to an <code>Int</code>.
Otherwise, it will be floating point.</p>
<p dir="auto">If <code>T</code> is <code>Date</code>, it will return the Julia structure <code>Date</code>. Notice that the
hours, minutes, and seconds will be neglected because the structure <code>Date</code> does
not support them.</p>
<p dir="auto">If <code>T</code> is <code>DateTime</code>, it will return the Julia structure <code>DateTime</code>.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; jd_to_date(2.446601274422725e6)
(1986, 6, 19, 18, 35, 10.1234570145607)

julia&gt; jd_to_date(Int, 2.446601274422725e6)
(1986, 6, 19, 18, 35, 10)

julia&gt; jd_to_date(Date, 2.446601274422725e6)
1986-06-19

julia&gt; jd_to_date(DateTime, 2.446601274422725e6)
1986-06-19T18:35:10.123"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">jd_to_date</span>(<span class="pl-c1">2.446601274422725e6</span>)
(<span class="pl-c1">1986</span>, <span class="pl-c1">6</span>, <span class="pl-c1">19</span>, <span class="pl-c1">18</span>, <span class="pl-c1">35</span>, <span class="pl-c1">10.1234570145607</span>)

julia<span class="pl-k">&gt;</span> <span class="pl-c1">jd_to_date</span>(Int, <span class="pl-c1">2.446601274422725e6</span>)
(<span class="pl-c1">1986</span>, <span class="pl-c1">6</span>, <span class="pl-c1">19</span>, <span class="pl-c1">18</span>, <span class="pl-c1">35</span>, <span class="pl-c1">10</span>)

julia<span class="pl-k">&gt;</span> <span class="pl-c1">jd_to_date</span>(Date, <span class="pl-c1">2.446601274422725e6</span>)
<span class="pl-c1">1986</span><span class="pl-k">-</span><span class="pl-c1">06</span><span class="pl-k">-</span><span class="pl-c1">19</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">jd_to_date</span>(DateTime, <span class="pl-c1">2.446601274422725e6</span>)
<span class="pl-c1">1986</span><span class="pl-k">-</span><span class="pl-c1">06</span><span class="pl-k">-</span><span class="pl-c1">19</span>T18<span class="pl-k">:</span><span class="pl-c1">35</span><span class="pl-k">:</span><span class="pl-c1">10.123</span></pre></div>
<h4 dir="auto"><a id="user-content-greenwich-mean-sidereal-time" class="anchor" aria-hidden="true" href="#greenwich-mean-sidereal-time"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Greenwich mean sidereal time</h4>
<p dir="auto">The function <code>jd_to_gmst</code> converts a Julian day into the Greenwich mean sidereal
time [rad]:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; jd_to_gmst(2.446601274422725e6)
3.2547373166809748"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">jd_to_gmst</span>(<span class="pl-c1">2.446601274422725e6</span>)
<span class="pl-c1">3.2547373166809748</span></pre></div>
</article></div>