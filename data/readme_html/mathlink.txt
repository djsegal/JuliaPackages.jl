<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-mathlinkjl" class="anchor" aria-hidden="true" href="#mathlinkjl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>MathLink.jl</h1>
<p dir="auto"><a href="https://github.com/JuliaInterop/MathLink.jl/actions/workflows/CI.yml"><img src="https://github.com/JuliaInterop/MathLink.jl/actions/workflows/CI.yml/badge.svg" alt="CI" style="max-width: 100%;"></a></p>
<p dir="auto">This package provides access to Mathematica/Wolfram Engine via the MathLink library, now renamed to <a href="https://www.wolfram.com/wstp/" rel="nofollow">Wolfram Symbolic Transfer Protocol (WSTP)</a>.</p>
<h2 dir="auto"><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<p dir="auto">The package requires an installation of either <a href="http://www.wolfram.com/mathematica/" rel="nofollow">Mathematica</a> or the free <a href="https://www.wolfram.com/engine/" rel="nofollow">Wolfram Engine</a>. It will attempt to find the installation at build time; if this fails, please see the <a href="#installation-troubleshoot">installation troubleshoot</a> below.</p>
<h2 dir="auto"><a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Usage</h2>
<p dir="auto">The main interface consists of the <code>W""</code> string macro for specifying symbols. These are call-overloaded for building more complicated expressions.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; using MathLink

julia&gt; W&quot;Sin&quot;
W&quot;Sin&quot;

julia&gt; sin1 = W&quot;Sin&quot;(1.0)
W`Sin[1.0]`

julia&gt; sinx = W&quot;Sin&quot;(W&quot;x&quot;)
W`Sin[x]`"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> MathLink

julia<span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>Sin<span class="pl-pds">"</span></span>
<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>Sin<span class="pl-pds">"</span></span>

julia<span class="pl-k">&gt;</span> sin1 <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>Sin<span class="pl-pds">"</span></span>(<span class="pl-c1">1.0</span>)
<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>Sin[1.0]<span class="pl-pds">`</span></span>

julia<span class="pl-k">&gt;</span> sinx <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>Sin<span class="pl-pds">"</span></span>(<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>x<span class="pl-pds">"</span></span>)
<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>Sin[x]<span class="pl-pds">`</span></span></pre></div>
<p dir="auto">To parse an expression in the Wolfram Language, you can use the <code>W</code> cmd macro (note the backticks):</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; W`Sin[1]`
W`Sin[1]`"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>Sin[1]<span class="pl-pds">`</span></span>
<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>Sin[1]<span class="pl-pds">`</span></span></pre></div>
<p dir="auto"><code>weval</code> evaluates an expression:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; weval(sin1)
0.8414709848078965

julia&gt; weval(sinx)
W`Sin[x]`

julia&gt; weval(W&quot;Integrate&quot;(sinx, (W&quot;x&quot;, 0, 1)))
W`Plus[1, Times[-1, Cos[1]]]`"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">weval</span>(sin1)
<span class="pl-c1">0.8414709848078965</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">weval</span>(sinx)
<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>Sin[x]<span class="pl-pds">`</span></span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">weval</span>(<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>Integrate<span class="pl-pds">"</span></span>(sinx, (<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>x<span class="pl-pds">"</span></span>, <span class="pl-c1">0</span>, <span class="pl-c1">1</span>)))
<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>Plus[1, Times[-1, Cos[1]]]<span class="pl-pds">`</span></span></pre></div>
<p dir="auto">Keyword arguments can be used to pass local variables</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; weval(sinx; x=2.0)
0.9092974268256817"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">weval</span>(sinx; x<span class="pl-k">=</span><span class="pl-c1">2.0</span>)
<span class="pl-c1">0.9092974268256817</span></pre></div>
<h2 dir="auto"><a id="user-content-the-algebraic-operators" class="anchor" aria-hidden="true" href="#the-algebraic-operators"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>The algebraic operators</h2>
<p dir="auto">MathLink also overloads the <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>  operations.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; using MathLink

julia&gt; W&quot;a&quot;+W&quot;b&quot;
W`Plus[a, b]`

julia&gt; W&quot;a&quot;+W&quot;a&quot;
W`Plus[a, a]`

julia&gt; W&quot;a&quot;-W&quot;a&quot;
W`Plus[a, Minus[a]]`"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> MathLink

julia<span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>a<span class="pl-pds">"</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>b<span class="pl-pds">"</span></span>
<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>Plus[a, b]<span class="pl-pds">`</span></span>

julia<span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>a<span class="pl-pds">"</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>a<span class="pl-pds">"</span></span>
<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>Plus[a, a]<span class="pl-pds">`</span></span>

julia<span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>a<span class="pl-pds">"</span></span><span class="pl-k">-</span><span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>a<span class="pl-pds">"</span></span>
<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>Plus[a, Minus[a]]<span class="pl-pds">`</span></span></pre></div>
<p dir="auto">One can toggle automatic use of <code>weval</code>  on-and-off using <code>set_GreedyEval(x::Bool)</code></p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; set_GreedyEval(true);

julia&gt; W&quot;a&quot;+W&quot;b&quot;
W`Plus[a, b]`

julia&gt; W&quot;a&quot;+W&quot;a&quot;
W`Times[2, a]`

julia&gt; W&quot;a&quot;-W&quot;a&quot;
0"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">set_GreedyEval</span>(<span class="pl-c1">true</span>);

julia<span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>a<span class="pl-pds">"</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>b<span class="pl-pds">"</span></span>
<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>Plus[a, b]<span class="pl-pds">`</span></span>

julia<span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>a<span class="pl-pds">"</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>a<span class="pl-pds">"</span></span>
<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>Times[2, a]<span class="pl-pds">`</span></span>

julia<span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>a<span class="pl-pds">"</span></span><span class="pl-k">-</span><span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>a<span class="pl-pds">"</span></span>
<span class="pl-c1">0</span></pre></div>
<h2 dir="auto"><a id="user-content-fractions-and-complex-numbers" class="anchor" aria-hidden="true" href="#fractions-and-complex-numbers"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Fractions and Complex numbers</h2>
<p dir="auto">The package also contains extensions to handle fractions.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; weval(1//2)
W`Rational[1, 2]`

julia&gt; (4//5)*W&quot;a&quot;
W`Times[Rational[4, 5], a]`

julia&gt; W&quot;a&quot;/(4//5)
W`Times[Rational[5, 4], a]`"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">weval</span>(<span class="pl-c1">1</span><span class="pl-k">//</span><span class="pl-c1">2</span>)
<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>Rational[1, 2]<span class="pl-pds">`</span></span>

julia<span class="pl-k">&gt;</span> (<span class="pl-c1">4</span><span class="pl-k">//</span><span class="pl-c1">5</span>)<span class="pl-k">*</span><span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>a<span class="pl-pds">"</span></span>
<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>Times[Rational[4, 5], a]<span class="pl-pds">`</span></span>

julia<span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>a<span class="pl-pds">"</span></span><span class="pl-k">/</span>(<span class="pl-c1">4</span><span class="pl-k">//</span><span class="pl-c1">5</span>)
<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>Times[Rational[5, 4], a]<span class="pl-pds">`</span></span></pre></div>
<p dir="auto">and complex numbers</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; im*W&quot;a&quot;
W`Times[Complex[0, 1], a]`

julia&gt; im*(im*W&quot;c&quot;)
W`Times[-1, c]`"><pre>julia<span class="pl-k">&gt;</span> im<span class="pl-k">*</span><span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>a<span class="pl-pds">"</span></span>
<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>Times[Complex[0, 1], a]<span class="pl-pds">`</span></span>

julia<span class="pl-k">&gt;</span> im<span class="pl-k">*</span>(im<span class="pl-k">*</span><span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>c<span class="pl-pds">"</span></span>)
<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>Times[-1, c]<span class="pl-pds">`</span></span></pre></div>
<h2 dir="auto"><a id="user-content-matrix-multiplication" class="anchor" aria-hidden="true" href="#matrix-multiplication"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Matrix Multiplication</h2>
<p dir="auto">Since the arithmetic operators are overloaded, operations such as matrix multiplication are also possible by default.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; P12 = [ 0 1 ; 1 0 ]
2×2 Matrix{Int64}:
 0  1
 1  0

julia&gt; set_GreedyEval(true)
true

julia&gt; P12 * [W&quot;a&quot; W&quot;b&quot; ; W`a+b` 2] == [ W&quot;b&quot; 2-W&quot;b&quot; ; W&quot;a&quot; W&quot;b&quot;]
true"><pre>julia<span class="pl-k">&gt;</span> P12 <span class="pl-k">=</span> [ <span class="pl-c1">0</span> <span class="pl-c1">1</span> ; <span class="pl-c1">1</span> <span class="pl-c1">0</span> ]
<span class="pl-c1">2</span><span class="pl-k">×</span><span class="pl-c1">2</span> Matrix{Int64}<span class="pl-k">:</span>
 <span class="pl-c1">0</span>  <span class="pl-c1">1</span>
 <span class="pl-c1">1</span>  <span class="pl-c1">0</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">set_GreedyEval</span>(<span class="pl-c1">true</span>)
<span class="pl-c1">true</span>

julia<span class="pl-k">&gt;</span> P12 <span class="pl-k">*</span> [<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>a<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>b<span class="pl-pds">"</span></span> ; <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>a+b<span class="pl-pds">`</span></span> <span class="pl-c1">2</span>] <span class="pl-k">==</span> [ <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>b<span class="pl-pds">"</span></span> <span class="pl-c1">2</span><span class="pl-k">-</span><span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>b<span class="pl-pds">"</span></span> ; <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>a<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>b<span class="pl-pds">"</span></span>]
<span class="pl-c1">true</span></pre></div>
<h2 dir="auto"><a id="user-content-w2mstr---mathematica-conversion" class="anchor" aria-hidden="true" href="#w2mstr---mathematica-conversion"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>W2Mstr - Mathematica conversion</h2>
<p dir="auto">Sometimes one wants to be able to read the Julia MathLink expressions back into Mathematica. For that purpose, <code>W2Mstr</code> is also supplied. This implementation is currently quite defensive with parentheses, which gives a more verbose output than necessary. Here are a few examples</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; W2Mstr(W`x`)
&quot;x&quot;

julia&gt; W2Mstr(W&quot;Sin&quot;(W&quot;x&quot;))
&quot;Sin[x]&quot;

julia&gt; W2Mstr(weval(W`a + c + v`))
&quot;(a + c + v)&quot;

julia&gt; W2Mstr(weval(W`a^(b+c)`))
&quot;(a^(b + c))&quot;

julia&gt; W2Mstr(weval(W`e+a^(b+c)`))
&quot;((a^(b + c)) + e)&quot;

julia&gt; W2Mstr(W&quot;a&quot;+W&quot;c&quot;+W&quot;v&quot;+W&quot;Sin&quot;(2 +W&quot;x&quot; + W&quot;Cos&quot;(W&quot;q&quot;)))
&quot;(a + c + v + Sin[(2 + x + Cos[q])])&quot;

julia&gt; W2Mstr(im*2)
&quot;(2*I)&quot;

julia&gt; W2Mstr(weval(W&quot;Complex&quot;(W&quot;c&quot;,W&quot;b&quot;)))
&quot;(c+b*I)&quot;

julia&gt; W2Mstr(W&quot;c&quot;+im*W&quot;b&quot;)
&quot;(((1*I)*b) + c)&quot;

julia&gt; W2Mstr(W`b/(c^(a+c))`)
&quot;(b*((c^(a + c))^-1))&quot;"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">W2Mstr</span>(<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>x<span class="pl-pds">`</span></span>)
<span class="pl-s"><span class="pl-pds">"</span>x<span class="pl-pds">"</span></span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">W2Mstr</span>(<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>Sin<span class="pl-pds">"</span></span>(<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>x<span class="pl-pds">"</span></span>))
<span class="pl-s"><span class="pl-pds">"</span>Sin[x]<span class="pl-pds">"</span></span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">W2Mstr</span>(<span class="pl-c1">weval</span>(<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>a + c + v<span class="pl-pds">`</span></span>))
<span class="pl-s"><span class="pl-pds">"</span>(a + c + v)<span class="pl-pds">"</span></span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">W2Mstr</span>(<span class="pl-c1">weval</span>(<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>a^(b+c)<span class="pl-pds">`</span></span>))
<span class="pl-s"><span class="pl-pds">"</span>(a^(b + c))<span class="pl-pds">"</span></span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">W2Mstr</span>(<span class="pl-c1">weval</span>(<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>e+a^(b+c)<span class="pl-pds">`</span></span>))
<span class="pl-s"><span class="pl-pds">"</span>((a^(b + c)) + e)<span class="pl-pds">"</span></span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">W2Mstr</span>(<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>a<span class="pl-pds">"</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>c<span class="pl-pds">"</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>v<span class="pl-pds">"</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>Sin<span class="pl-pds">"</span></span>(<span class="pl-c1">2</span> <span class="pl-k">+</span><span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>x<span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>Cos<span class="pl-pds">"</span></span>(<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>q<span class="pl-pds">"</span></span>)))
<span class="pl-s"><span class="pl-pds">"</span>(a + c + v + Sin[(2 + x + Cos[q])])<span class="pl-pds">"</span></span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">W2Mstr</span>(im<span class="pl-k">*</span><span class="pl-c1">2</span>)
<span class="pl-s"><span class="pl-pds">"</span>(2*I)<span class="pl-pds">"</span></span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">W2Mstr</span>(<span class="pl-c1">weval</span>(<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>Complex<span class="pl-pds">"</span></span>(<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>c<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>b<span class="pl-pds">"</span></span>)))
<span class="pl-s"><span class="pl-pds">"</span>(c+b*I)<span class="pl-pds">"</span></span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">W2Mstr</span>(<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>c<span class="pl-pds">"</span></span><span class="pl-k">+</span>im<span class="pl-k">*</span><span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>"</span>b<span class="pl-pds">"</span></span>)
<span class="pl-s"><span class="pl-pds">"</span>(((1*I)*b) + c)<span class="pl-pds">"</span></span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">W2Mstr</span>(<span class="pl-s"><span class="pl-pds"><span class="pl-c1">W</span>`</span>b/(c^(a+c))<span class="pl-pds">`</span></span>)
<span class="pl-s"><span class="pl-pds">"</span>(b*((c^(a + c))^-1))<span class="pl-pds">"</span></span></pre></div>
<h2 dir="auto"><a id="user-content-latex-printing-in-jupyter-notebooks" class="anchor" aria-hidden="true" href="#latex-printing-in-jupyter-notebooks"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>LateX printing in JuPyter Notebooks</h2>
<p dir="auto">Printing in Jupyter notebooks is, by default, done in latex.
This can be turned off with the command <code>MathLink.set_texOutput(false)</code></p>
<h2 dir="auto"><a id="user-content-installation-troubleshoot" class="anchor" aria-hidden="true" href="#installation-troubleshoot"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation Troubleshoot</h2>
<p dir="auto">The package requires an installation of either <a href="http://www.wolfram.com/mathematica/" rel="nofollow">Mathematica</a> or the free <a href="https://www.wolfram.com/engine/" rel="nofollow">Wolfram Engine</a>. It will attempt to find the installation at build time; if this fails, you will need to set the following environment variables:</p>
<ul dir="auto">
<li><code>JULIA_MATHKERNEL</code>: the path of the MathKernel executable</li>
<li><code>JULIA_MATHLINK</code>: the path of the MathLink dynamic library named
<ul dir="auto">
<li><code>libML64i4.so</code>/ <code>libML32i4.so</code> on Linux</li>
<li><code>ml64i4.dll</code>/<code>ml32i4.dll</code>/<code>libML64.dll</code>/ <code>libML32.dll</code> on Windows</li>
</ul>
</li>
</ul>
<p dir="auto">After setting, you may need to manually build the package</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="(@v1.X) pkg&gt; build MathLink"><pre>(<span class="pl-c1">@v1</span><span class="pl-k">.</span>X) pkg<span class="pl-k">&gt;</span> build MathLink</pre></div>
<p dir="auto">A separate workaround is to directly edit the deps/deps.jl file, which should be located (on Linux) at <code>~/.julia/packages/MathLink/&lt;version dependent&gt;/deps/deps.jl</code></p>
<p dir="auto">The contents of <code>deps.jl</code> could for instance, read</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="const mlib = &quot;/usr/local/Wolfram/Mathematica/11.3/SystemFiles/Links/MathLink/DeveloperKit/Linux-x86-64/CompilerAdditions/libML64i4&quot;
const mker = &quot;WolframKernel&quot;"><pre><span class="pl-k">const</span> mlib <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>/usr/local/Wolfram/Mathematica/11.3/SystemFiles/Links/MathLink/DeveloperKit/Linux-x86-64/CompilerAdditions/libML64i4<span class="pl-pds">"</span></span>
<span class="pl-k">const</span> mker <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>WolframKernel<span class="pl-pds">"</span></span></pre></div>
<p dir="auto">After creating the file <code>deps.jl</code> try loading MathLink the usual way</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="(@v1.X) pkg&gt; using MathLink"><pre>(<span class="pl-c1">@v1</span><span class="pl-k">.</span>X) pkg<span class="pl-k">&gt;</span> <span class="pl-k">using</span> MathLink</pre></div>
<p dir="auto">If you do not have a Mathematica installation at all, the above trick still works, but then you must leave the path blank</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="const mlib = &quot;&quot;
const mker = &quot;WolframKernel&quot;"><pre><span class="pl-k">const</span> mlib <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>
<span class="pl-k">const</span> mker <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>WolframKernel<span class="pl-pds">"</span></span></pre></div>
<p dir="auto">Loading <code>MathLink</code> then proclaims</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; using MathLink
[ Info: Precompiling MathLink [18c93696-a329-5786-9845-8443133fa0b4]
[ Info: Pretending fake installation works"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> MathLink
[ Info<span class="pl-k">:</span> Precompiling MathLink [<span class="pl-c1">18</span>c93696<span class="pl-k">-</span>a329<span class="pl-k">-</span><span class="pl-c1">5786</span><span class="pl-k">-</span><span class="pl-c1">9845</span><span class="pl-k">-</span><span class="pl-c1">8443133</span>fa0b4]
[ Info<span class="pl-k">:</span> Pretending fake installation works</pre></div>
<h2 dir="auto"><a id="user-content-notes" class="anchor" aria-hidden="true" href="#notes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Notes</h2>
<ul dir="auto">
<li>Mathematica, Wolfram, MathLink are all trademarks of Wolfram Research.</li>
</ul>
</article></div>