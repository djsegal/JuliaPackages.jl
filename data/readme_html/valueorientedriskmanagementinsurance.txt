<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-valueorientedriskmanagementinsurance" class="anchor" aria-hidden="true" href="#valueorientedriskmanagementinsurance"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>ValueOrientedRiskManagementInsurance</h1>
<p dir="auto"><a href="https://github.com/mkriele/ValueOrientedRiskManagementInsurance.jl/actions"><img src="https://github.com/mkriele/ValueOrientedRiskManagementInsurance.jl/workflows/CI/badge.svg" alt="CI" style="max-width: 100%;"></a></p>
<p dir="auto">The package provides example calculations for the  book</p>
<blockquote>
<p dir="auto">Kriele M. and Wolf, J. <a href="http://www.springer.com/de/book/9783662502563" rel="nofollow"><em>Wertorientiertes Risikomanagement von  Versicherungsunternehmen</em></a>, 2nd edition, Springer-Verlag, Berlin Heidelberg,  2016</p>
</blockquote>
<p dir="auto"><strong>Disclaimers:</strong></p>
<ol dir="auto">
<li>The code in this package has been written several years ago (mostly Julia version 0.3.x and Julia version 0.4.x).  In the meanwhile, both Julia and the package <code>DataFrames</code> have improved significantly. While the code still works, it does not reflect today's best practice.</li>
<li>The standard model for the Swiss Solvency Test (SST) has changed and  been improved since the publication of this book. Both the description of the model and the code presented here are outdated.  The Swiss Financial Market Supervisory Authority <a href="https://www.finma.ch/en/" rel="nofollow"><em>FINMA</em></a> provides an open source R Tool (GNU License, Version 3) of the current model.</li>
</ol>
<p dir="auto">Any futher development for future English versions (<em>Value-Oriented Risk Management of Insurance Companies</em>) or German versions of this book will take place in the separate GitHub repository <a href="https://github.com/mkriele/RMInsurance.jl"><em>RMInsurance.jl</em></a>.</p>
<p dir="auto">(The examples for the first editions  were less complex and written in R)</p>
<h2 dir="auto"><a id="user-content-the-correct-checkout-for-each-book-edition-and-each-supported-julia-version" class="anchor" aria-hidden="true" href="#the-correct-checkout-for-each-book-edition-and-each-supported-julia-version"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>The correct checkout for each book edition and each supported Julia version</h2>
<table>
<thead>
<tr>
<th align="center">Julia version</th>
<th align="center">Version</th>
<th align="center">Branch</th>
<th align="center">Errata</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">0.4.x</td>
<td align="center"></td>
<td align="center">de_2ed</td>
<td align="center">Korrekturen.md</td>
</tr>
<tr>
<td align="center">0.5.x</td>
<td align="center"></td>
<td align="center">de_2ed</td>
<td align="center">Korrekturen.md</td>
</tr>
<tr>
<td align="center">0.6.x</td>
<td align="center"></td>
<td align="center">de_2ed_j0.6</td>
<td align="center">Korrekturen.md</td>
</tr>
<tr>
<td align="center">1.0.x</td>
<td align="center">1.0.0</td>
<td align="center">master</td>
<td align="center">Korrekturen.md</td>
</tr>
<tr>
<td align="center">1.6.x</td>
<td align="center">1.1.0  - 1.1.1</td>
<td align="center">master</td>
<td align="center">Korrekturen.md</td>
</tr>
</tbody>
</table>
<p dir="auto">Because of package dependencies it is recommended to use  Version 1.1.0 or later (and Julia Version 1.6 or later).</p>
<p dir="auto"><strong>Errata:</strong> Corrections of errors in the book.  We list all errors we are aware of. In order to display the text, simply click on the corresponding file name in the list of linked documents above.</p>
<p dir="auto">Notice that Section C.2 "Installation des Packages <em>ValueOrientedRiskManagementInsurance</em>" is outdated, as a new package manager has been introduced with Julia 1.0.  Please see the <a href="https://docs.julialang.org/en/v1/" rel="nofollow"><em>Julia documentation</em></a>, Section  <a href="https://docs.julialang.org/en/v1/stdlib/Pkg/" rel="nofollow">Pkg</a> for details.</p>
<h2 dir="auto"><a id="user-content-structure-of-the-package" class="anchor" aria-hidden="true" href="#structure-of-the-package"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Structure of the package</h2>
<p dir="auto">The package consists of 4 distinct parts:</p>
<ul dir="auto">
<li><em>SSTLife</em>: An extremely simplified example of the SST (Swiss Solvency Test) calculation for life insurance. The Swiss Solvency Test is the Swiss regulatory capital requirement.  The resulting monetary requirement is referred to as the "target capital" <code>ZK</code><sup>1</sup>.</li>
<li><em>S2Life</em>: A simplified example of the S2 (Solvency 2) calculation for non-life insurance. Solvency 2 is the new regulatory capital requirement in the European Union. The resulting monetary requirement is referred to as the "Solvency capital requirement" <code>SCR</code>.</li>
<li><em>S2NonLife</em>: A simplified example of the S2 calculation for life insurance</li>
<li><em>ECModel</em>: An extremely simplified example of an internal economic capital model for non-life insurance. This model is used to illustrate some techniques used in value based management.</li>
</ul>
<p dir="auto">Note that we have simplified and (in part changed for our exposition) the regulatory requirements for SST and Solvency 2. Also note that the implementation of Solvency 2 may be slightly different in different EU countries. For definitive information about SST or Solvency 2, please consult the original literature and any guidance issued by the supervisory authorities in the jurisdiction of interest.</p>
<h2 dir="auto"><a id="user-content-files-in-the-folder-src-and-its-subfolders" class="anchor" aria-hidden="true" href="#files-in-the-folder-src-and-its-subfolders"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Files in the Folder "src" and its Subfolders</h2>
<p dir="auto">The folder "src" contains types and functions which are meant to be used in specific examples</p>
<h3 dir="auto"><a id="user-content-sst-life-calculation" class="anchor" aria-hidden="true" href="#sst-life-calculation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>SST Life Calculation</h3>
<p dir="auto">The files <em>SST__Types.jl</em> and <em>SST_Functions.jl</em> contain types and functions which can be used to model a simplified version of the the SST standard life model. The calculation is basically as follows. The change of the "risk bearing capital", <code>ΔRTK</code><sup>2</sup> over 1 year is approximated by a quadratic function of the risk factors. As the risk factors are assumed to be multinormally distributed, the distribution of <code>ΔRTK</code> is known.  The target capital <code>ZK</code> is the sum of the 99% expected shortfall and the market value margin.  The market value margin is calculated using a cost of capital method, where the capital is given by the 99% expected shortfall of <code>ΔRTK</code> and the cost of capital factor is assumed to be 6%.</p>
<p dir="auto">The example calculation provided here is based on an extremely simplified life insurance portfolio.</p>
<h3 dir="auto"><a id="user-content-solvency-2-life-calculation" class="anchor" aria-hidden="true" href="#solvency-2-life-calculation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Solvency 2 Life Calculation</h3>
<p dir="auto">The files <em>Life__Types.jl</em>, <em>Life_Constructors.jl</em> and <em>Life_Functions.jl</em> implement a simplified model of a life insurance company.  A simplified Solvency 2 calculation for this model is implemented in the files <em>S2Life__Types.jl</em>, <em>S2Life_Constructors.jl</em> und <em>S2Life_Functions.jl</em>. The Solvency 2 Standard Formula for Life insurers consists of several modules for the different risk factors. For each module a capital requirement is calculated first, and then all these requirements are aggregated to the overall Solvency Capital Requirement <code>SCR</code>. Most of the individual capital requirements are calculated through deterministic stress tests, which are calibrated to correspond to the 99.5% quantile.  Only a subset of the Solvency 2 modules applicable for life insurance companies have been implemented, but it should not be difficult to extend the code to more modules.</p>
<h3 dir="auto"><a id="user-content-solvency-2-non-life-calculation" class="anchor" aria-hidden="true" href="#solvency-2-non-life-calculation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Solvency 2 Non-Life Calculation</h3>
<p dir="auto">The files <em>S2NonLife__Types.jl</em> and <em>S2Life_Functions.jl</em> contain a simplified implementation of the Solvency 2 capital requirement for a highly simplified non-life insurance company.</p>
<h3 dir="auto"><a id="user-content-internal-economic-capital-model" class="anchor" aria-hidden="true" href="#internal-economic-capital-model"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Internal Economic Capital Model</h3>
<p dir="auto">The internal economic capital model is a highly simplified Monte Carlo model of an extremely simplified non-life insurance company.  Reserves are completely ignored in the model. The purpose of this model is to illustrate some techniques used in value based management.</p>
<h2 dir="auto"><a id="user-content-files-in-the-folder-test" class="anchor" aria-hidden="true" href="#files-in-the-folder-test"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Files in the Folder "test"</h2>
<p dir="auto">The folder "test" contains the files files <em>x_Input.jl</em>, <em>x.jl</em>, and <em>x_Test.jl</em> for each of the four parts <em>x</em> ∈ {<em>SSTLife</em>, <em>S2Life</em>, <em>S2NonLife</em>, <em>ECModel</em>}. The files <em>x_Input.jl</em> and <em>x.jl</em> replicate the calculation in the book and the files <em>x_Test.jl</em> are used for automatic testing.  In addition, the file <em>Life_Input.jl</em> contains the input data for the example insurer, which is used  in the S2 life calculation.  <em>runtests.jl</em> controls the automated tests.</p>
<h2 dir="auto"><a id="user-content-acknowledgements" class="anchor" aria-hidden="true" href="#acknowledgements"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Acknowledgements</h2>
<p dir="auto">@reumle updated the code to Julia 1.6.1 and DataFrames 1.0.0!</p>
<h2 dir="auto"><a id="user-content-footnotes" class="anchor" aria-hidden="true" href="#footnotes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Footnotes</h2>
<p dir="auto"><sup>1</sup> The abbreviation <code>ZK</code> refers to the original German term "Zielkapital". "Target capital" is the literal English translation.</p>
<p dir="auto"><sup>2</sup> The abbreviation <code>RTK</code> refers to the  original German term "Risikotragendes Kapital" ("risk bearing capital"). Observe that <code>RBC</code> is usually understood to mean "risk based capital" which has a different meaning than "risk bearing capital".</p>
</article></div>