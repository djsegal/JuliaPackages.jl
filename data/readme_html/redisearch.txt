<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-redisearchjl" class="anchor" aria-hidden="true" href="#redisearchjl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>RediSearch.jl</h1>
<table>
<thead>
<tr>
<th align="center"><strong>Docs</strong></th>
<th align="center"><strong>Build Status</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><a href="https://deloitteoptimalreality.github.io/RediSearch.jl/dev/" rel="nofollow"><img src="https://camo.githubusercontent.com/c97f0a5f2ae95755f64a27f1aa8d9a17462941fd3d6c907c7630abd5d3e60acf/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d737461626c652d626c75652e737667" alt="docs" data-canonical-src="https://img.shields.io/badge/docs-stable-blue.svg" style="max-width: 100%;"></a></td>
<td align="center"><a target="_blank" rel="noopener noreferrer" href="https://github.com/jacksoncalvert/RediSearch.jl/actions/workflows/ci.yml/badge.svg?branch=main"><img src="https://github.com/jacksoncalvert/RediSearch.jl/actions/workflows/ci.yml/badge.svg?branch=main" alt="Build" style="max-width: 100%;"></a> <a href="https://codecov.io/gh/jacksoncalvert/RediSearch.jl/" rel="nofollow"><img src="https://camo.githubusercontent.com/f92192b170ccc2583fd449d45ab824859fc858cfde07e256664d80bfcf55853d/68747470733a2f2f636f6465636f762e696f2f67682f6a61636b736f6e63616c766572742f526564695365617263682e6a6c2f6272616e63682f6d61696e2f67726170682f62616467652e737667" alt="Codecov" data-canonical-src="https://codecov.io/gh/jacksoncalvert/RediSearch.jl/branch/main/graph/badge.svg" style="max-width: 100%;"></a></td>
</tr>
</tbody>
</table>
<p dir="auto">A RediSearch API for Julia. This package uses <strong><a href="https://github.com/captchanjack/Jedis.jl">Jedis.jl</a></strong> as a the Redis api to interact with a redis server. All additional features needed to use the secondary indexing module <strong><a href="https://oss.redis.com/redisearch/" rel="nofollow">RediSearch</a></strong> can be found in this package</p>
<h2 dir="auto"><a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Usage</h2>
<h3 dir="auto"><a id="user-content-generating-a-client" class="anchor" aria-hidden="true" href="#generating-a-client"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Generating a client</h3>
<p dir="auto">Generating a client object:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="julia&gt; using RediSearch;
julia&gt; client = SearchClient(&quot;myIdx&quot;; host=&quot;localhost&quot;, port=6379);"><pre class="notranslate"><code>julia&gt; using RediSearch;
julia&gt; client = SearchClient("myIdx"; host="localhost", port=6379);
</code></pre></div>
<p dir="auto">This client sets both the search client object for RediSearch and the Redis Global client in Jedis. a client can be retrieved at any time using:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="julia&gt; get_search_client();"><pre class="notranslate"><code>julia&gt; get_search_client();
</code></pre></div>
<p dir="auto">Viewing the index name associated to a client:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="julia&gt; client.index_name
&quot;myIdx&quot;"><pre class="notranslate"><code>julia&gt; client.index_name
"myIdx"
</code></pre></div>
<p dir="auto">while the base Jedis client can be viewd with:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="julia&gt; client.client;"><pre class="notranslate"><code>julia&gt; client.client;
</code></pre></div>
<h3 dir="auto"><a id="user-content-creating-fields" class="anchor" aria-hidden="true" href="#creating-fields"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Creating Fields</h3>
<p dir="auto">Fields define the searchable schema:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="julia&gt; field_1 = TextField(&quot;name&quot;; weight=2);
julia&gt; field_2 = NumericField(&quot;age&quot;);
julia&gt; field_3 = TextField(&quot;occupation&quot;; weight=1.5, as_name=&quot;job&quot;);
julia&gt; schema = [field_1, field_2, field_3]
"><pre class="notranslate"><code>julia&gt; field_1 = TextField("name"; weight=2);
julia&gt; field_2 = NumericField("age");
julia&gt; field_3 = TextField("occupation"; weight=1.5, as_name="job");
julia&gt; schema = [field_1, field_2, field_3]

</code></pre></div>
<h3 dir="auto"><a id="user-content-creating-an-index" class="anchor" aria-hidden="true" href="#creating-an-index"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Creating an Index</h3>
<p dir="auto">Fields from above are used within an IndexDefintion to define a searchable schema within a RediSearch client.</p>
<p dir="auto">An IndexDefinition should be made first to define the prefixes that will be indexed.</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="julia&gt; definition = IndexDefinition(prefix=[&quot;person:&quot;]);"><pre class="notranslate"><code>julia&gt; definition = IndexDefinition(prefix=["person:"]);
</code></pre></div>
<p dir="auto">We can use this defition along with fields to create a searchable index:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="julia&gt; create_index(schema; definition=definition);"><pre class="notranslate"><code>julia&gt; create_index(schema; definition=definition);
</code></pre></div>
<h3 dir="auto"><a id="user-content-adding-items-to-index" class="anchor" aria-hidden="true" href="#adding-items-to-index"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Adding Items to Index</h3>
<p dir="auto">Data is inserted into the RediSearch client by using the <strong><a href="https://captchanjack.github.io/Jedis.jl/commands/#Jedis.hset" rel="nofollow">hset</a></strong> command.</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="julia&gt; using Jedis
julia&gt; hset(&quot;person:1&quot;, &quot;name&quot;, &quot;James&quot;, &quot;age&quot;,26, &quot;occupation&quot;, &quot;software&quot;)
3"><pre class="notranslate"><code>julia&gt; using Jedis
julia&gt; hset("person:1", "name", "James", "age",26, "occupation", "software")
3
</code></pre></div>
<p dir="auto"><strong>NOTE</strong> This is for a schema using the HASH  index type. This differes when using the JSON index type.</p>
<h3 dir="auto"><a id="user-content-searching-a-schema" class="anchor" aria-hidden="true" href="#searching-a-schema"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Searching a Schema</h3>
<p dir="auto">Create a query and search:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="julia&gt; q = Query(&quot;software&quot;);
julia&gt; results = search(q)
[ Info: Result: 1 total
RediSearch.Result(
  1,
  0.0018129348754882812,
  RediSearch.Document[
    RediSearch.Document(
      &quot;person:1&quot;,
      nothing,
      Dict{Any, Any}(
        :age =&gt; &quot;26&quot;,
        :name =&gt; &quot;James&quot;,
        :occupation =&gt; &quot;software&quot;
      )
    )
  ]
)"><pre class="notranslate"><code>julia&gt; q = Query("software");
julia&gt; results = search(q)
[ Info: Result: 1 total
RediSearch.Result(
  1,
  0.0018129348754882812,
  RediSearch.Document[
    RediSearch.Document(
      "person:1",
      nothing,
      Dict{Any, Any}(
        :age =&gt; "26",
        :name =&gt; "James",
        :occupation =&gt; "software"
      )
    )
  ]
)
</code></pre></div>
</article></div>