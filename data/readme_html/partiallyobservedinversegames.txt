<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-partiallyobservedinversegamesjl" class="anchor" aria-hidden="true" href="#partiallyobservedinversegamesjl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>PartiallyObservedInverseGames.jl</h1>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/PRBonn/PartiallyObservedInverseGames.jl/workflows/build/badge.svg"><img src="https://github.com/PRBonn/PartiallyObservedInverseGames.jl/workflows/build/badge.svg" alt="build" style="max-width: 100%;"></a>
<a href="https://codecov.io/gh/PRBonn/PartiallyObservedInverseGames.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/19d4dabc0d8d0c438becfc3b7f058863d04b240773df3fd853ed98da69ab6b10/68747470733a2f2f636f6465636f762e696f2f67682f5052426f6e6e2f5061727469616c6c794f62736572766564496e766572736547616d65732e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e7376673f746f6b656e3d41556439546d7a664932" alt="codecov" data-canonical-src="https://codecov.io/gh/PRBonn/PartiallyObservedInverseGames.jl/branch/master/graph/badge.svg?token=AUd9TmzfI2" style="max-width: 100%;"></a></p>
<p dir="auto">An inverse game solver for inferring objectives from noise-corrupted partial
state observations of non-cooperative multi-agent interactions.</p>
<h2 dir="auto"><a id="user-content-paper" class="anchor" aria-hidden="true" href="#paper"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Paper</h2>
<p dir="auto"><a href="https://arxiv.org/abs/2106.03611" rel="nofollow"><img src="media/teaser.png" alt="" style="max-width: 100%;"></a></p>
<div class="highlight highlight-text-tex-latex notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="@inproceedings{peters2021rss,
    title     = {Inferring Objectives in Continuous Dynamic Games from Noise-Corrupted Partial State Observations},
    author    = {Peters, Lasse and Fridovich-Keil, David and Rubies-Royo, Vicen\c{c} and Tomlin, Claire J. and Stachniss, Cyrill},
    booktitle = {Proc.~of Robotics: Science and Systems (RSS)},
    year      = {2021},
    codeurl   = {https://github.com/PRBonn/PartiallyObservedInverseGames.jl},
    videourl  = {https://www.youtube.com/watch?v=BogCsYQX9Pc},
    url       = {https://arxiv.org/abs/2106.03611}
}"><pre>@inproceedings{peters2021rss,
    title     = {Inferring Objectives in Continuous Dynamic Games from Noise-Corrupted Partial State Observations},
    author    = {Peters, Lasse and Fridovich-Keil, David and Rubies-Royo, Vicen<span class="pl-c1">\c</span>{c} and Tomlin, Claire J. and Stachniss, Cyrill},
    booktitle = {Proc.~of Robotics: Science and Systems (RSS)},
    year      = {2021},
    codeurl   = {https://github.com/PRBonn/PartiallyObservedInverseGames.jl},
    videourl  = {https://www.youtube.com/watch?v=BogCsYQX9Pc},
    url       = {https://arxiv.org/abs/2106.03611}
}</pre></div>
<h2 dir="auto"><a id="user-content-setup" class="anchor" aria-hidden="true" href="#setup"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Setup</h2>
<p dir="auto">This code was tested with Julia versions 1.5 and 1.6.</p>
<h3 dir="auto"><a id="user-content-basic" class="anchor" aria-hidden="true" href="#basic"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Basic</h3>
<p dir="auto">Clone this reposistory</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="git clone https://github.com/PRBonn/PartiallyObservedInverseGames.jl"><pre class="notranslate"><code>git clone https://github.com/PRBonn/PartiallyObservedInverseGames.jl
</code></pre></div>
<p dir="auto">After you have cloned the repository, you can install all dependencies at the
versions recorded in the <code>Manifest.toml</code>:</p>
<ol dir="auto">
<li>Navigate to the installation directory, e.g. <code>cd ~/.julia/dev/PartiallyObservedInverseGames</code></li>
<li>Start Julia in project mode: <code>julia --project</code></li>
<li>Hit <code>]</code> to enter package mode and run: <code>pkg&gt; instantiate</code></li>
</ol>
<p dir="auto">Finally, you can run the unit tests via <code>] test</code> to confirm that the setup was
successful. Now you are ready to use the package. See <a href="#directory-layout">Directory
Layout</a> for further details.</p>
<h3 dir="auto"><a id="user-content-binary-data-version-control" class="anchor" aria-hidden="true" href="#binary-data-version-control"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Binary Data Version Control</h3>
<p dir="auto">Beyond that, we use <a href="https://dvc.org" rel="nofollow">DVC</a> for binary data version control.
This part of the setup is only required if you want to load our results as
binary data rather than reproducing them yourself by re-running the
experiments. DVC can be installed as follow:</p>
<ol dir="auto">
<li>Install <a href="https://dvc.org/doc/install" rel="nofollow">dvc</a> with http support, e.g. <code>pip install "dvc[http]"</code></li>
<li>[Optional] Setup <a href="https://dvc.org/doc/command-reference/install#installed-git-hooks" rel="nofollow">git
hooks</a> to
automate the process of checking out dvc-controlled files: <code>dvc install</code></li>
</ol>
<p dir="auto">Now you can download the binary data and figures by running <code>dvc pull</code>.</p>
<h2 dir="auto"><a id="user-content-directory-layout" class="anchor" aria-hidden="true" href="#directory-layout"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Directory Layout</h2>
<ul dir="auto">
<li>
<p dir="auto"><code>src/</code> contains the implementations of our method and the baseline for
inverse planning. Beyond that it contains implementations of forward game
solvers and visualization utilities.</p>
</li>
<li>
<p dir="auto"><code>test/</code> contains unit and integration tests for the code in <code>src/</code></p>
</li>
<li>
<p dir="auto"><code>experiments/</code> contains the code for reproducing the Monte Carlo study for
the running example (<code>experiments/unicycle.jl</code>) and the highway overtaking
scenario (<code>experiments/highway.jl</code>).</p>
</li>
<li>
<p dir="auto">After setting up <code>dvc</code> as described above and running <code>dvc pull</code> the
directory <code>data/</code> contains the binary data of our results (as <code>.bson</code> file)
as well as their visualization (as <code>.pdf</code> file).</p>
</li>
</ul>
<h2 dir="auto"><a id="user-content-reproducing-results" class="anchor" aria-hidden="true" href="#reproducing-results"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Reproducing Results</h2>
<p dir="auto">The results of the Monte Carlo study can be reproduced by running the
corresponding scripts in <code>experiments/</code>:</p>
<ul dir="auto">
<li>2-Player running example of collision avoidance: <code>experiments/unicycle.jl</code></li>
<li>5-Player highway overtaking scenario: <code>experiments/highway.jl</code></li>
</ul>
<h3 dir="auto"><a id="user-content-caching" class="anchor" aria-hidden="true" href="#caching"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Caching</h3>
<p dir="auto">The scripts located in <code>experiments/</code> will check for cached results in <code>data/</code>.
If cached results are found, they will be loaded and the figures will be
reproduced from this data. In order to reproduce results from scratch you will
have to clear the cache first by calling <code>clear_cache!()</code> (implemented in
<code>experiments/utils/simple_caching.jl</code>). Alternatively, you can remove the
<code>@run_cached</code>  macro in front the function calls in the experiment to disable
caching for that call.</p>
<h3 dir="auto"><a id="user-content-distributed-experiments" class="anchor" aria-hidden="true" href="#distributed-experiments"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Distributed Experiments</h3>
<p dir="auto">Running a large scale Monte Carlo study can take a substantial amount of time.
Thus, this package uses
<a href="https://docs.julialang.org/en/v1/stdlib/Distributed/" rel="nofollow"><code>Distributed.jl</code></a> for
parallelization. If there are multiple workers registered in the worker pool,
the experiment scripts will automatically parallelize since all
heavy lifting is implemented using
<a href="https://docs.julialang.org/en/v1/stdlib/Distributed/#Distributed.pmap" rel="nofollow"><code>Distributed.pmap</code></a>.
Workers can run on the same machine, on a remote cluster, or even both. The
only requirement is that all code can be loaded on the remote worker. This can
be achieved by mounting the repository to a shared directory that is available
from all nodes in the (potentially heterogeneous) cluster or by utilizing
<code>rsync</code>. A suit of useful utility functions for this task can also be found in
<a href="https://github.com/lassepe/Distributor.jl">Distributor.jl</a>.</p>
</article></div>