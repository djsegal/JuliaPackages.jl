<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1><a id="user-content-lorenz96jl---a-type-flexible-lorenz-1996-model" class="anchor" aria-hidden="true" href="#lorenz96jl---a-type-flexible-lorenz-1996-model"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Lorenz96.jl - A type-flexible Lorenz 1996 model</h1>
<p><a href="https://github.com/milankl/Lorenz96.jl/actions/workflows/CI.yml"><img src="https://github.com/milankl/Lorenz96.jl/actions/workflows/CI.yml/badge.svg" alt="CI" style="max-width:100%;"></a>
<a href="https://zenodo.org/badge/latestdoi/198242642" rel="nofollow"><img src="https://camo.githubusercontent.com/e52bb5242f27a68ec74e8f020403ed70f7635c2d942addedc79d1bd4f790a854/68747470733a2f2f7a656e6f646f2e6f72672f62616467652f3139383234323634322e737667" alt="DOI" data-canonical-src="https://zenodo.org/badge/198242642.svg" style="max-width:100%;"></a></p>
<p><a target="_blank" rel="noopener noreferrer" href="figs/hovmoeller.png?raw=true"><img src="figs/hovmoeller.png?raw=true" alt="attractor" title="L96 Hovmoeller diagram" style="max-width:100%;"></a></p>
<p>Lorenz96.jl simulates the <a href="https://en.wikipedia.org/wiki/Lorenz_96_model" rel="nofollow">Lorenz 96 system</a> with one level (two and three level version planned) for any given number type, as long as conversions (to and from Float64) and arithmetics (+,-,*) are defined - the scaled equations are written division-free. Output always in Float64.</p>
<p>Also supports mixed precision: Different number types can be defined for prognostic variables and calculations on the right-hand side, with automatic conversion on every time step.</p>
<h2><a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="using Lorenz96
X = L96()
"><pre><span class="pl-k">using</span> Lorenz96
X <span class="pl-k">=</span> <span class="pl-c1">L96</span>()</pre></div>
<p>simulates the Lorenz system with <code>Float64</code> and standard parameters. Providing the type (which has to be a subtype of <code>AbstractFloat</code>), returns the simulation calculated in that type (though output in <code>Float64</code>)</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="using SoftPosit
X = L96(Posit32)
"><pre><span class="pl-k">using</span> SoftPosit
X <span class="pl-k">=</span> <span class="pl-c1">L96</span>(Posit32)</pre></div>
<p>Change parameters by specifying optional arguments</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="X = L96(Float32,N=100_000,n=36,X=zeros(36),F=8.0,s=1.0,η=0.01,Δt=0.01,scheme=&quot;RK4&quot;)
"><pre>X <span class="pl-k">=</span> <span class="pl-c1">L96</span>(Float32,N<span class="pl-k">=</span><span class="pl-c1">100_000</span>,n<span class="pl-k">=</span><span class="pl-c1">36</span>,X<span class="pl-k">=</span><span class="pl-c1">zeros</span>(<span class="pl-c1">36</span>),F<span class="pl-k">=</span><span class="pl-c1">8.0</span>,s<span class="pl-k">=</span><span class="pl-c1">1.0</span>,η<span class="pl-k">=</span><span class="pl-c1">0.01</span>,Δt<span class="pl-k">=</span><span class="pl-c1">0.01</span>,scheme<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>RK4<span class="pl-pds">"</span></span>)</pre></div>
<p>with <code>N</code> the number of time steps, <code>n</code> number of variables, <code>X</code> the initial conditions, <code>F</code> the forcing constant, <code>s</code> a scaling factor of the equations (that will be undone for storage), <code>η</code> the perturbation that is added on <code>X₁</code> for the default <code>X</code>, <code>Δt</code> the time step, and <code>scheme</code> the time integration scheme. <code>α</code> is additional parameter that increases the friction for <code>α&gt;1</code>.</p>
<p>For mixed precision you also specify a type <code>Tprog</code> as the second argument, which is the type used for the prognostic variables</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="X = L96(Float16,Float32)
"><pre>X <span class="pl-k">=</span> <span class="pl-c1">L96</span>(Float16,Float32)</pre></div>
<p>Here, the prognostic variables are kept at single-precision (Float32), but calculations on the right-hand side are performed in half-precision (Float16).</p>
<h2><a id="user-content-equations" class="anchor" aria-hidden="true" href="#equations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Equations</h2>
<p>The Lorenz system is scaled with <code>s</code> and therefore the prognostic variables are actually  <code>sX -&gt; X</code>. The RHS then reads with <code>s_inv = 1/s</code></p>
<div class="snippet-clipboard-content position-relative" data-snippet-clipboard-copy-content="dX_i/dt = (X_i+1 - X_i-2)*X_i-1*s_inv - α*X_i + F
"><pre><code>dX_i/dt = (X_i+1 - X_i-2)*X_i-1*s_inv - α*X_i + F
</code></pre></div>
<h2><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<p>Lorenz96.jl is registered so simply do</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="] add Lorenz96
"><pre>] add Lorenz96</pre></div>
<p>where <code>]</code> opens the package manager</p>
</article></div>