<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-cudaapijl" class="anchor" aria-hidden="true" href="#cudaapijl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CUDAapi.jl</h1>
<p><em>Reusable components for CUDA development.</em></p>
<table>
<thead>
<tr>
<th align="center"><strong>Build Status</strong></th>
<th align="center"><strong>Coverage</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><a href="https://gitlab.com/JuliaGPU/CUDAapi.jl/commits/master" rel="nofollow"><img src="https://camo.githubusercontent.com/3e77bab309f225b9a5f90ae552534aa436bc5472/68747470733a2f2f6769746c61622e636f6d2f4a756c69614750552f435544416170692e6a6c2f6261646765732f6d61737465722f706970656c696e652e737667" alt="" data-canonical-src="https://gitlab.com/JuliaGPU/CUDAapi.jl/badges/master/pipeline.svg" style="max-width:100%;"></a> <a href="https://travis-ci.org/JuliaGPU/CUDAapi.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/52e6263009614484a1442d16c2c1efb800870c35/68747470733a2f2f6170692e7472617669732d63692e6f72672f4a756c69614750552f435544416170692e6a6c2e7376673f6272616e63683d6d6173746572" alt="" data-canonical-src="https://api.travis-ci.org/JuliaGPU/CUDAapi.jl.svg?branch=master" style="max-width:100%;"></a> <a href="https://ci.appveyor.com/project/maleadt/cudaapi-jl" rel="nofollow"><img src="https://camo.githubusercontent.com/55e7928ef1eece391cef0156413639d6c2025383/68747470733a2f2f63692e6170707665796f722e636f6d2f6170692f70726f6a656374732f7374617475732f65343179696335703572753031386d662f6272616e63682f6d61737465723f7376673d74727565" alt="" data-canonical-src="https://ci.appveyor.com/api/projects/status/e41yic5p5ru018mf/branch/master?svg=true" style="max-width:100%;"></a> <a href="https://juliaci.github.io/NanosoldierReports/pkgeval_badges/C/CUDAapi.html" rel="nofollow"><img src="https://camo.githubusercontent.com/8726fa20a41d892da3823caf42cb4fb02dff0c26/68747470733a2f2f6a756c696163692e6769746875622e696f2f4e616e6f736f6c646965725265706f7274732f706b676576616c5f6261646765732f432f435544416170692e737667" alt="PkgEval" data-canonical-src="https://juliaci.github.io/NanosoldierReports/pkgeval_badges/C/CUDAapi.svg" style="max-width:100%;"></a></td>
<td align="center"><a href="https://codecov.io/gh/JuliaGPU/CUDAapi.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/4e797058f659aea98f7d0b56c067cde6cb392fdc/68747470733a2f2f636f6465636f762e696f2f67682f4a756c69614750552f435544416170692e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="" data-canonical-src="https://codecov.io/gh/JuliaGPU/CUDAapi.jl/branch/master/graph/badge.svg" style="max-width:100%;"></a></td>
</tr>
</tbody>
</table>
<p>This package provides some reusable functionality for working with CUDA or
NVIDIA APIs. It is intended for package developers, and does not provide
concrete application functionality.</p>
<h2><a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Usage</h2>
<h3><a id="user-content-availability" class="anchor" aria-hidden="true" href="#availability"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Availability</h3>
<p>To check if a CUDA GPU is available, CUDAapi provides and exports the <code>has_cuda</code>
and <code>has_cuda_gpu</code> functions. These functions are useful to query whether you
will be able to import a package that requires CUDA to be available, such as
CuArrays.jl (CUDAapi.jl itself will always import without an error):</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> CUDAapi <span class="pl-c"><span class="pl-c">#</span> this will NEVER fail</span>
<span class="pl-k">if</span> <span class="pl-c1">has_cuda</span>()
    <span class="pl-k">try</span>
        <span class="pl-k">using</span> CuArrays <span class="pl-c"><span class="pl-c">#</span> we have CUDA, so this should not fail</span>
    <span class="pl-k">catch</span> ex
        <span class="pl-c"><span class="pl-c">#</span> something is wrong with the user's set-up (or there's a bug in CuArrays)</span>
        <span class="pl-c1">@warn</span> <span class="pl-s"><span class="pl-pds">"</span>CUDA is installed, but CuArrays.jl fails to load<span class="pl-pds">"</span></span> exception<span class="pl-k">=</span>(ex,<span class="pl-c1">catch_backtrace</span>())
    <span class="pl-k">end</span>
<span class="pl-k">end</span></pre></div>
<h3><a id="user-content-discovery" class="anchor" aria-hidden="true" href="#discovery"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Discovery</h3>
<p>The file <code>src/discovery.jl</code> defines helper methods for discovering the NVIDIA
driver and CUDA toolkit, as well as some more generic methods to find libraries
and binaries relative to, e.g., the location of the driver or toolkit.</p>
<h3><a id="user-content-compatibility" class="anchor" aria-hidden="true" href="#compatibility"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Compatibility</h3>
<p>The file <code>src/compatibility.jl</code> contains hard-coded databases with software and hardware
compatibility information that cannot be queried from APIs.</p>
<h2><a id="user-content-maintenance" class="anchor" aria-hidden="true" href="#maintenance"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Maintenance</h2>
<h3><a id="user-content-cuda-version-update" class="anchor" aria-hidden="true" href="#cuda-version-update"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CUDA version update</h3>
<p>When a new version of CUDA is released, CUDAapi.jl needs to be updated
accordingly:</p>
<ul>
<li><code>discovery.jl</code>: update the <code>cuda_versions</code> dictionary</li>
<li><code>compatibility.jl</code>: update each <code>_db</code> variable (refer to the comments for more
info)</li>
<li><code>travis.linux</code> and <code>travis.osx</code>: provide a link to the installers</li>
<li><code>appveyor.ps1</code>: provide a link to the installer, and list the components that
need to be installed</li>
<li><code>travis.yml</code> and <code>appveyor.yml</code>: add the version to the CI rosters</li>
</ul>
<h3><a id="user-content-gcc-version-update" class="anchor" aria-hidden="true" href="#gcc-version-update"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GCC version update</h3>
<p>Update the <code>gcc_major_versions</code> and <code>gcc_minor_versions</code> ranges in
<code>discovery.jl</code> to cover the new version.</p>
</article></div>