<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-deltarcwajl" class="anchor" aria-hidden="true" href="#deltarcwajl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>DeltaRCWA.jl</h1>
<h2 dir="auto"><a id="user-content-about" class="anchor" aria-hidden="true" href="#about"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>About</h2>
<p dir="auto"><code>DeltaRCWA.jl</code> is a frequency-domain solver for the scattering of
electromagnetic fields through stacks of periodic, variable-impedance sheets
suspended in vacuum that employs sheet-transition conditions with
<a href="https://en.wikipedia.org/wiki/Rigorous_coupled-wave_analysis" rel="nofollow">RCWA</a>.</p>
<p dir="auto">This project was started by Luke Qi <a href="https://github.com/Mastercheese77/deltaRCWA">in this
repository</a> and has been conducted
under the supervision of Professor Steven G. Johnson and Dr. Raphaël Pestourie.</p>
<h2 dir="auto"><a id="user-content-device-geometries" class="anchor" aria-hidden="true" href="#device-geometries"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Device geometries</h2>
<p dir="auto">A geometry for <code>DeltaRCWA</code> represents a device composed of a stack of periodic,
variable-impedance sheets suspended in vacuum.
This can be viewed as a coarse proxy of a device composed of layered
<a href="https://en.wikipedia.org/wiki/Electromagnetic_metasurface" rel="nofollow">metasurfaces</a>.
An example of a valid geometry for <code>DeltaRCWA</code> is illustrated below:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="images/stack_figure.png"><img src="images/stack_figure.png" alt="" style="max-width: 100%;"></a></p>
<p dir="auto">The illustration shows a single unit cell, though the actual device would repeat
the unit cell infinitely in the plane of the sheet.
The colorings of the layers in the sheet represent the metasurface impedance
parameters, described below.</p>
<h2 dir="auto"><a id="user-content-sheet-transition-conditions" class="anchor" aria-hidden="true" href="#sheet-transition-conditions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Sheet transition conditions</h2>
<p dir="auto">For a sheet given by its normal vector
<a target="_blank" rel="noopener noreferrer nofollow" href="https://render.githubusercontent.com/render/math?math=\hat{\boldsymbol n}"><img src="https://render.githubusercontent.com/render/math?math=\hat{\boldsymbol n}" style="max-width: 100%;"></a>
that separates region
<a target="_blank" rel="noopener noreferrer nofollow" href="https://render.githubusercontent.com/render/math?math=i"><img src="https://render.githubusercontent.com/render/math?math=i" style="max-width: 100%;"></a>
from region
<a target="_blank" rel="noopener noreferrer nofollow" href="https://render.githubusercontent.com/render/math?math=i%2B1"><img src="https://render.githubusercontent.com/render/math?math=i%2B1" style="max-width: 100%;"></a>,
the jump in the tangential electromagnetic fields at the
surface of the sheet in each region is modeled by [1]:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://render.githubusercontent.com/render/math?math=\boldsymbol \rho_e (\hat{\boldsymbol n} \times (\boldsymbol H_\parallel^{i%2B1} - \boldsymbol H_\parallel^i)) = \frac{1}{2} (\boldsymbol E_\parallel^{i%2B1} %2B \boldsymbol E_\parallel^i)"><img src="https://render.githubusercontent.com/render/math?math=\boldsymbol \rho_e (\hat{\boldsymbol n} \times (\boldsymbol H_\parallel^{i%2B1} - \boldsymbol H_\parallel^i)) = \frac{1}{2} (\boldsymbol E_\parallel^{i%2B1} %2B \boldsymbol E_\parallel^i)" style="max-width: 100%;"></a><br>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://render.githubusercontent.com/render/math?math=(\boldsymbol E_\parallel^{i%2B1} - \boldsymbol E_\parallel^i) \times \hat{\boldsymbol n} = \boldsymbol \sigma_m \frac{1}{2} (\boldsymbol H_\parallel^{i%2B1} %2B \boldsymbol H_\parallel^i)"><img src="https://render.githubusercontent.com/render/math?math=(\boldsymbol E_\parallel^{i%2B1} - \boldsymbol E_\parallel^i) \times \hat{\boldsymbol n} = \boldsymbol \sigma_m \frac{1}{2} (\boldsymbol H_\parallel^{i%2B1} %2B \boldsymbol H_\parallel^i)" style="max-width: 100%;"></a></p>
<p dir="auto">where
<a target="_blank" rel="noopener noreferrer nofollow" href="https://render.githubusercontent.com/render/math?math=\boldsymbol \rho_e"><img src="https://render.githubusercontent.com/render/math?math=\boldsymbol \rho_e" style="max-width: 100%;"></a>
is the electrical impedance matrix and
<a target="_blank" rel="noopener noreferrer nofollow" href="https://render.githubusercontent.com/render/math?math=\boldsymbol \sigma_m"><img src="https://render.githubusercontent.com/render/math?math=\boldsymbol \sigma_m" style="max-width: 100%;"></a>
is the magnetic conductance matrix defined at each point in the sheet.
These equations and Maxwell's equations are used to derive a scattering matrix
for the sheet in the planewave basis.</p>
<h2 dir="auto"><a id="user-content-redheffer-star-product" class="anchor" aria-hidden="true" href="#redheffer-star-product"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Redheffer star product</h2>
<p dir="auto"><a href="https://en.wikipedia.org/wiki/Redheffer_star_product" rel="nofollow">Redheffer's star product</a>
is used to combine the scattering matrices generated for each layer of the device into one describing the whole device.
Then the scattering matrix multiplies the incident mode amplitudes to obtain the
scattered mode amplitudes.</p>
<h2 dir="auto"><a id="user-content-contents" class="anchor" aria-hidden="true" href="#contents"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Contents</h2>
<ul dir="auto">
<li><code>notebooks</code>: interactive Pluto and Jupyter notebooks showcasing the uses of
<code>DeltaRCWA</code> as well as doing exploratory tests/debugging which will hopefully
be ready to include in <code>DeltaRCWA</code></li>
<li><code>src</code>: the source code of <code>DeltaRCWA</code></li>
<li><code>scripts</code>: contains Julia scripts to do convergence and validation tests
for different solution methods</li>
<li><code>test</code>: contains unit tests of <code>DeltaRCWA</code>'s star product methods</li>
</ul>
<p dir="auto">The root folder and <code>notebooks</code>, <code>scripts</code>, and <code>test</code> each contain a separate
Julia environment. See <code>notebooks/README.md</code> for an example on how to set one up.</p>
<h2 dir="auto"><a id="user-content-documentation" class="anchor" aria-hidden="true" href="#documentation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Documentation</h2>
<p dir="auto">Currently the documentation is informal at its best.
An attempt has been made to provide docstrings for most types and functions.
To see an example usage, open the Pluto notebook in <code>notebooks/interface.jl</code>.</p>
<h2 dir="auto"><a id="user-content-tests" class="anchor" aria-hidden="true" href="#tests"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Tests</h2>
<p dir="auto">This is todo and not to be done until more of the package is working.</p>
<h2 dir="auto"><a id="user-content-references" class="anchor" aria-hidden="true" href="#references"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>References</h2>
<ul dir="auto">
<li>[1] <a href="https://doi.org/10.1109/TAP.2003.817560" rel="nofollow">E. Kuester, M. Mohamed, M. Piket-May, and C. Holloway,
“Averaged transition conditions for electromagnetic fields at a metafilm,”
<em>IEEE Trans. Antennas Propag.</em>, vol. 51, no. 10, pp. 2641–2651, Oct. 2003.</a></li>
</ul>
</article></div>