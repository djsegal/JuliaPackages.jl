<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1><a id="user-content-fromfilejl" class="anchor" aria-hidden="true" href="#fromfilejl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>FromFile.jl</h1>
<p>This package exports a macro <code>@from</code>, which can be used to import objects from files.</p>
<p>The hope is that you will never have to write <code>include</code> again.</p>
<h2><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<div class="snippet-clipboard-content position-relative" data-snippet-clipboard-copy-content="] add FromFile
"><pre><code>] add FromFile
</code></pre></div>
<h2><a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<p>Objects in other files may be imported in the following way:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="# file1.jl
using FromFile
@from &quot;file2.jl&quot; import foo

bar() = foo()

#file2.jl
foo() = println(&quot;hi&quot;)
"><pre><span class="pl-c"><span class="pl-c">#</span> file1.jl</span>
<span class="pl-k">using</span> FromFile
<span class="pl-c1">@from</span> <span class="pl-s"><span class="pl-pds">"</span>file2.jl<span class="pl-pds">"</span></span> <span class="pl-k">import</span> foo

<span class="pl-en">bar</span>() <span class="pl-k">=</span> <span class="pl-c1">foo</span>()

<span class="pl-c"><span class="pl-c">#</span>file2.jl</span>
<span class="pl-en">foo</span>() <span class="pl-k">=</span> <span class="pl-c1">println</span>(<span class="pl-s"><span class="pl-pds">"</span>hi<span class="pl-pds">"</span></span>)</pre></div>
<p>File systems may be navigated: <code>@from "../folder/file.jl" import foo</code></p>
<p>The usual import syntax is supported; the only difference is that the objects are looked up in the file requested: <code>@from "file.jl" using MyModule</code>; <code>@from "file.jl" import MyModule: foo</code>; <code>@from "file.jl" import foo, bar</code>.</p>
<p>Using <code>@from</code> to access a file multiple times (for example calling <code>@from "file.jl" import foo</code> in multiple files) will access the same objects each time; i.e. without the duplication issues that <code>include("file.jl")</code> would introduce.</p>
<h2><a id="user-content-specification" class="anchor" aria-hidden="true" href="#specification"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Specification</h2>
<p>FromFile.jl is a draft implementation of <a href="./SPECIFICATION.md">this specification</a>, for improving import systems as discussed in <a href="https://github.com/JuliaLang/julia/issues/4600">Issue 4600</a>.</p>
<h2><a id="user-content-tips" class="anchor" aria-hidden="true" href="#tips"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Tips</h2>
<p>FromFile will (besides its programmatic benefits like the removal of spooky action at a distance) help you keep track of what objects are defined in what file. When converting over to FromFile that may mean untangling your existing project, and figuring out exactly what you defined where. To print out which file defines which object, you can execute the following bash snippet at the root of your project:</p>
<div class="highlight highlight-source-shell position-relative" data-snippet-clipboard-copy-content="for f in $(find . -name '*.jl'); do echo $f &amp;&amp; cat $f | vim - -nes -c '%s/#.*//ge' -c '%s/&quot;&quot;&quot;\_.\{-}&quot;&quot;&quot;//ge' -c '%v/^\S\+/d_' -c '%g/^\(end\|@from\|using\|export\|import\|include\|begin\|let\)\&gt;/d_' -c '%g/.*/exe &quot;norm &gt;&gt;&quot;' -c ':%p' -c ':q!' | tail -n +2; done | less
"><pre><span class="pl-k">for</span> <span class="pl-smi">f</span> <span class="pl-k">in</span> <span class="pl-s"><span class="pl-pds">$(</span>find <span class="pl-c1">.</span> -name <span class="pl-s"><span class="pl-pds">'</span>*.jl<span class="pl-pds">'</span></span><span class="pl-pds">)</span></span><span class="pl-k">;</span> <span class="pl-k">do</span> <span class="pl-c1">echo</span> <span class="pl-smi">$f</span> <span class="pl-k">&amp;&amp;</span> cat <span class="pl-smi">$f</span> <span class="pl-k">|</span> vim - -nes -c <span class="pl-s"><span class="pl-pds">'</span>%s/#.*//ge<span class="pl-pds">'</span></span> -c <span class="pl-s"><span class="pl-pds">'</span>%s/"""\_.\{-}"""//ge<span class="pl-pds">'</span></span> -c <span class="pl-s"><span class="pl-pds">'</span>%v/^\S\+/d_<span class="pl-pds">'</span></span> -c <span class="pl-s"><span class="pl-pds">'</span>%g/^\(end\|@from\|using\|export\|import\|include\|begin\|let\)\&gt;/d_<span class="pl-pds">'</span></span> -c <span class="pl-s"><span class="pl-pds">'</span>%g/.*/exe "norm &gt;&gt;"<span class="pl-pds">'</span></span> -c <span class="pl-s"><span class="pl-pds">'</span>:%p<span class="pl-pds">'</span></span> -c <span class="pl-s"><span class="pl-pds">'</span>:q!<span class="pl-pds">'</span></span> <span class="pl-k">|</span> tail -n +2<span class="pl-k">;</span> <span class="pl-k">done</span> <span class="pl-k">|</span> less</pre></div>
<p>This should (hopefully) print out each file, and the objects defined in that file. It's not perfect, but it'll help you get 90% of the way there.</p>
</article></div>