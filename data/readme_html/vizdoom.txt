<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1><a id="user-content-vizdoom" class="anchor" aria-hidden="true" href="#vizdoom"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>ViZDoom</h1>
<p><a href="https://travis-ci.com/JuliaReinforcementLearning/ViZDoom.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/65591b2a8336a5343b848b57eca7c8d389f7bd848290dbd4ee5fd4a22f7c5bd7/68747470733a2f2f7472617669732d63692e636f6d2f4a756c69615265696e666f7263656d656e744c6561726e696e672f56695a446f6f6d2e6a6c2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.com/JuliaReinforcementLearning/ViZDoom.jl.svg?branch=master" style="max-width:100%;"></a></p>
<p>This package provides a wrapper around the <a href="https://github.com/mwydmuch/ViZDoom">ViZDoom</a> and also some typical scenarios. Enjoy it!</p>
<h2><a id="user-content-how-to-install" class="anchor" aria-hidden="true" href="#how-to-install"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How to install</h2>
<p>This package has only been tested on Ubuntu (18.04+) and Arch Linux with Julia 1.0/1.6 (and nightly). You need to install the necessary <a href="https://github.com/mwydmuch/ViZDoom/blob/master/doc/Building.md#-linux">dependencies</a> first (or, you can also check the <a href="https://github.com/JuliaReinforcementLearning/RLEnvViZDoom.jl/blob/master/.travis.yml">packages</a> in the <code>.travis.yml</code> file). It requires a gcc version with C++17 support. Then just add this package as usual:</p>
<div class="snippet-clipboard-content position-relative" data-snippet-clipboard-copy-content="(v1.6) pkg&gt; add ViZDoom
"><pre><code>(v1.6) pkg&gt; add ViZDoom
</code></pre></div>
<h2><a id="user-content-how-to-use" class="anchor" aria-hidden="true" href="#how-to-use"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How to use</h2>
<p>Most of the functions' name are kept same with Python. So you'll find it pretty easy to port the Python example code into Julia. To easily access the state of a game, The following functions are added:</p>
<ul>
<li><code>get_screen_buffer(game)</code>. <code>Array&lt;UInt8, 1&gt;</code> is returned with size of width * height * channels. (You need to reshape this array to show it).</li>
<li><code>get_depth_buffer(game)</code>.<code>Array&lt;UInt8, 1&gt;</code> is returned with size of width * height, which provides the depth info.</li>
<li><code>get_label_buffer(game)</code>.<code>Array&lt;UInt8, 1&gt;</code> is returned with size of width * height, which provides the label info.</li>
<li><code>get_automap_buffer(game)</code>.<code>Array&lt;UInt8, 1&gt;</code> is returned with size of width * height * channels, which provides the map info from the top view.</li>
</ul>
<p>Beyond that, some helper functions are also provided:</p>
<ul>
<li><code>get_scenario_path("basic.wad")</code> can be used to get the absolute path of <code>basic.wad</code> files.</li>
<li><code>set_game(game; kw...)</code>. It's really verbose to set the game line by line. This function comes to simplify the process. The name of the argument should be the same with the original method without the <code>set_</code> or <code>add_</code> prefix. For example, we can use <code>set(game; doom_map="map01, mode=PLAYER")</code> to replace the original methods like<code>ViZDoom.set_doom_map(game, "map01"); ViZDoom.set_mode(game, "PLAYER")</code>. You can checkout the detailed examples in the <code>src/games</code>folder. Following are some special arguments:
<ul>
<li><code>available_buttons</code> The original method name is <code>add_available_button</code>. Here you can set <code>available_buttons=[MOVE_LEFT, MOVE_RIGHT, ATTACK]</code>.</li>
</ul>
</li>
<li><code>basic_game(;kw...)</code>. A simple game with default config is returned. (More default configs are coming soon.)</li>
</ul>
<h2><a id="user-content-docker-usage" class="anchor" aria-hidden="true" href="#docker-usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Docker usage</h2>
<p>Build the container with:</p>
<div class="highlight highlight-source-shell position-relative" data-snippet-clipboard-copy-content="docker build -t vizdoom.jl .
"><pre>docker build -t vizdoom.jl <span class="pl-c1">.</span></pre></div>
<p>which installs Julia v1.6, all ViZDoom dependencies, and builds this package.</p>
<p>Run the container with:</p>
<div class="highlight highlight-source-shell position-relative" data-snippet-clipboard-copy-content="docker run -it --rm vizdoom.jl
"><pre>docker run -it --rm vizdoom.jl</pre></div>
<p>The <code>--rm</code> flag can be omitted if you want to create multiple containers.</p>
<h2><a id="user-content-development-with-vscode" class="anchor" aria-hidden="true" href="#development-with-vscode"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Development with VSCode</h2>
<p>Download/install VSCode and the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers" rel="nofollow">Remote Containers Extension</a> and follow the extra install steps there for using docker as a non-root user. Then open VSCode and do <code>Ctrl + Shift + p</code> and select the <code>Remote Containers: Rebuild and Reopen in Container</code> option.</p>
<h3><a id="user-content-visualization-with-containers" class="anchor" aria-hidden="true" href="#visualization-with-containers"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Visualization with containers</h3>
<p>If you want to view the game when in a VSCode devcontainer you'll need to run <code>xhost +local:root</code> before starting VSCode. NOTE: this is a technically unsafe command, see <a href="http://wiki.ros.org/docker/Tutorials/GUI" rel="nofollow">here</a> for some details. For the security conscious you should run <code>xhost -local:root</code> after you're done.
This option is tested with Ubuntu only, you may need other workarounds for different OSes.</p>
</article></div>