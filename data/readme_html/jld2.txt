<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1><a id="user-content-jld2" class="anchor" aria-hidden="true" href="#jld2"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>JLD2</h1>
<p><strong>WARNING</strong>: This package is not actively maintained and has several known bugs that are unlikely to be resolved in the near future. Please consider using <a href="https://docs.julialang.org/en/v1/stdlib/Serialization/" rel="nofollow">Julia's built-in serializer</a> if you need performance, or <a href="https://github.com/JuliaIO/JLD.jl">the previous JLD package</a> if you need HDF5 compatibility.</p>
<p><a href="https://travis-ci.org/JuliaIO/JLD2.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/44a095438b3803e916f4e9a4b95e8c566353733b/68747470733a2f2f7472617669732d63692e6f72672f4a756c6961494f2f4a4c44322e6a6c2e7376673f6272616e63683d6d6173746572" alt="Travis Build Status" data-canonical-src="https://travis-ci.org/JuliaIO/JLD2.jl.svg?branch=master" style="max-width:100%;"></a>
<a href="https://ci.appveyor.com/project/simonster/jld2-jl" rel="nofollow"><img src="https://camo.githubusercontent.com/1877785c88bc7fe6129c478a6661e098c2e8a1ab/68747470733a2f2f63692e6170707665796f722e636f6d2f6170692f70726f6a656374732f7374617475732f39776b33396e6175783564687768656e3f7376673d74727565" alt="AppVeyor Build Status" data-canonical-src="https://ci.appveyor.com/api/projects/status/9wk39naux5dhwhen?svg=true" style="max-width:100%;"></a>
<a href="http://codecov.io/github/simonster/JLD2.jl?branch=master" rel="nofollow"><img src="https://camo.githubusercontent.com/95fe33cde102f510fde5fb8d0d9fcd843a54fdda/687474703a2f2f636f6465636f762e696f2f6769746875622f4a756c6961494f2f4a4c44322e6a6c2f636f7665726167652e7376673f6272616e63683d6d6173746572" alt="codecov.io" data-canonical-src="http://codecov.io/github/JuliaIO/JLD2.jl/coverage.svg?branch=master" style="max-width:100%;"></a></p>
<p>JLD2 saves and loads Julia data structures in a format comprising a subset of HDF5, without any dependency on the HDF5 C library. It typically outperforms <a href="https://github.com/JuliaIO/JLD.jl">the previous JLD package</a> (sometimes by multiple orders of magnitude) and often outperforms Julia's built-in serializer. While other HDF5 implementations supporting HDF5 File Format Specification Version 3.0 (i.e. libhdf5 1.10 or later) should be able to read the files that JLD2 produces, JLD2 is likely to be incapable of reading files created or modified by other HDF5 implementations. JLD2 does not aim to be backwards or forwards compatible with the previous JLD package.</p>
<p>The code here should work on Julia 0.6. It has extensive unit tests, but it has received little testing in the wild. <strong>Please use caution.</strong> If your tolerance for data loss is low, <a href="https://github.com/JuliaIO/JLD.jl">JLD</a> may be a better choice at this time.</p>
<h2><a id="user-content-reading-and-writing-data" class="anchor" aria-hidden="true" href="#reading-and-writing-data"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Reading and writing data</h2>
<h3><a id="user-content-save-and-load-macros" class="anchor" aria-hidden="true" href="#save-and-load-macros"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>@save</code> and <code>@load</code> macros</h3>
<p>The <code>@save</code> and <code>@load</code> macros are the simplest way to interact with a JLD2 file. The <code>@save</code> macro writes one or more variables from the current scope to the JLD file. For example:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> JLD2, FileIO
hello <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>world<span class="pl-pds">"</span></span>
foo <span class="pl-k">=</span> <span class="pl-c1">:bar</span>
<span class="pl-c1">@save</span> <span class="pl-s"><span class="pl-pds">"</span>example.jld2<span class="pl-pds">"</span></span> hello foo</pre></div>
<p>This writes the variables <code>hello</code> and <code>foo</code> to datasets in a new JLD2 file named <code>example.jld2</code>. The <code>@load</code> macro loads variables out of a JLD2 file:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">@load</span> <span class="pl-s"><span class="pl-pds">"</span>example.jld2<span class="pl-pds">"</span></span> hello foo</pre></div>
<p>This assigns the contents of the <code>hello</code> and <code>foo</code> datasets to variables of the same name in the current scope.</p>
<p>It is best practice to explicitly name the variables to be loaded and saved from a file, so that it is clear from whence these variables arise. However, for convenience, JLD2 also provides variants of <code>@load</code> and <code>@save</code> that do not require variables to be named explicitly. When called with no variable arguments, <code>@save &lt;filename&gt;</code> writes all variables in the global scope of the current module to file <code>&lt;filename&gt;</code>, while <code>@load &lt;filename&gt;</code> loads all variables in file <code>&lt;filename&gt;</code>. When called with no variable arguments, <code>@load</code> requires that the file name is provided as a string literal, i.e., it is not possible to select the file at runtime.</p>
<h3><a id="user-content-save-and-load-functions" class="anchor" aria-hidden="true" href="#save-and-load-functions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>save</code> and <code>load</code> functions</h3>
<p>The <code>save</code> and <code>load</code> functions, provided by <a href="https://github.com/JuliaIO/FileIO.jl">FileIO</a>, provide an alternative mechanism to read and write data from a JLD2 file. To use these functions, you must say <code>using FileIO</code>; it is not necessary to say <code>using JLD2</code> since FileIO will determine the correct package automatically.</p>
<p>The <code>save</code> function accepts an <code>Associative</code> yielding the key/value pairs, where the key is a string representing the name of the dataset and the value represents its contents:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> FileIO
<span class="pl-c1">save</span>(<span class="pl-s"><span class="pl-pds">"</span>example.jld2<span class="pl-pds">"</span></span>, <span class="pl-c1">Dict</span>(<span class="pl-s"><span class="pl-pds">"</span>hello<span class="pl-pds">"</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>world<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">:bar</span>))</pre></div>
<p>The <code>save</code> function can also accept the dataset names and contents as arguments:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">save</span>(<span class="pl-s"><span class="pl-pds">"</span>example.jld2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>hello<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>world<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>, <span class="pl-c1">:bar</span>)</pre></div>
<p>When using the <code>save</code> function, the file extension must be <code>.jld2</code>, since the extension <code>.jld</code> currently belongs to the previous JLD package.</p>
<p>If called with a filename argument only, the <code>load</code> function loads all datasets from the given file into a Dict:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">load</span>(<span class="pl-s"><span class="pl-pds">"</span>example.jld2<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">#</span> -&gt; Dict{String,Any}("hello" =&gt; "world", "foo" =&gt; :bar)</span></pre></div>
<p>If called with a single dataset name, <code>load</code> returns the contents of that dataset from the file:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">load</span>(<span class="pl-s"><span class="pl-pds">"</span>example.jld2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>hello<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">#</span> -&gt; "world"</span></pre></div>
<p>If called with multiple dataset names, <code>load</code> returns the contents of the given datasets as a tuple:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">load</span>(<span class="pl-s"><span class="pl-pds">"</span>example.jld2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>hello<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">#</span> -&gt; ("world", :bar)</span></pre></div>
<h3><a id="user-content-file-interface" class="anchor" aria-hidden="true" href="#file-interface"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>File interface</h3>
<p>It is also possible to interact with JLD2 files using a file-like interface. The <code>jldopen</code> function accepts a file name and an argument specifying how the file should be opened:</p>
<div class="highlight highlight-source-julia"><pre>f <span class="pl-k">=</span> <span class="pl-c1">jldopen</span>(<span class="pl-s"><span class="pl-pds">"</span>example.jld2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>r<span class="pl-pds">"</span></span>)  <span class="pl-c"><span class="pl-c">#</span> open read-only (default)</span>
f <span class="pl-k">=</span> <span class="pl-c1">jldopen</span>(<span class="pl-s"><span class="pl-pds">"</span>example.jld2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>r+<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">#</span> open read/write, failing if no file exists</span>
f <span class="pl-k">=</span> <span class="pl-c1">jldopen</span>(<span class="pl-s"><span class="pl-pds">"</span>example.jld2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>w<span class="pl-pds">"</span></span>)  <span class="pl-c"><span class="pl-c">#</span> open read/write, overwriting existing file</span>
f <span class="pl-k">=</span> <span class="pl-c1">jldopen</span>(<span class="pl-s"><span class="pl-pds">"</span>example.jld2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>a+<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">#</span> open read/write, preserving contents of existing file or creating a new file</span></pre></div>
<p>Data can be written to the file using <code>write(f, "name", data)</code> or <code>f["name"] = data</code>, or read from the file using <code>read(f, "name")</code> or <code>f["name"]</code>. When you are done with the file, remember to call <code>close(f)</code>.</p>
<p>Like <code>open</code>, <code>jldopen</code> also accepts a function as the first argument, permitting <code>do</code>-block syntax:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">jldopen</span>(<span class="pl-s"><span class="pl-pds">"</span>example.jld2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>w<span class="pl-pds">"</span></span>) <span class="pl-k">do</span> file
    file[<span class="pl-s"><span class="pl-pds">"</span>bigdata<span class="pl-pds">"</span></span>] <span class="pl-k">=</span> <span class="pl-c1">randn</span>(<span class="pl-c1">5</span>)
<span class="pl-k">end</span></pre></div>
<h3><a id="user-content-groups" class="anchor" aria-hidden="true" href="#groups"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Groups</h3>
<p>It is possible to construct groups within a JLD2 file, which may or may not be useful for organizing your data. You can create groups explicitly:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">jldopen</span>(<span class="pl-s"><span class="pl-pds">"</span>example.jld2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>w<span class="pl-pds">"</span></span>) <span class="pl-k">do</span> file
    mygroup <span class="pl-k">=</span> JLD2<span class="pl-k">.</span><span class="pl-c1">Group</span>(file, <span class="pl-s"><span class="pl-pds">"</span>mygroup<span class="pl-pds">"</span></span>)
    mygroup[<span class="pl-s"><span class="pl-pds">"</span>mystuff<span class="pl-pds">"</span></span>] <span class="pl-k">=</span> <span class="pl-c1">42</span>
<span class="pl-k">end</span></pre></div>
<p>or implicitly, by saving a variable with a name containing slashes as path delimiters:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">jldopen</span>(<span class="pl-s"><span class="pl-pds">"</span>example.jld2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>w<span class="pl-pds">"</span></span>) <span class="pl-k">do</span> file
    file[<span class="pl-s"><span class="pl-pds">"</span>mygroup/mystuff<span class="pl-pds">"</span></span>] <span class="pl-k">=</span> <span class="pl-c1">42</span>
<span class="pl-k">end</span>
<span class="pl-c"><span class="pl-c">#</span> or save("example.jld2", "mygroup/mystuff", 42)</span></pre></div>
<p>Both of these examples yield the same group structure, which you can see at the REPL:</p>
<pre><code>julia&gt; file = jldopen("example.jld2", "r")
JLDFile /Users/simon/example.jld2 (read-only)
 └─📂 mygroup
    └─🔢 mystuff
</code></pre>
<p>Similarly, you can access groups directly:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">jldopen</span>(<span class="pl-s"><span class="pl-pds">"</span>example.jld2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>r<span class="pl-pds">"</span></span>) <span class="pl-k">do</span> file
    <span class="pl-c1">@assert</span> file[<span class="pl-s"><span class="pl-pds">"</span>mygroup<span class="pl-pds">"</span></span>][<span class="pl-s"><span class="pl-pds">"</span>mystuff<span class="pl-pds">"</span></span>] <span class="pl-k">==</span> <span class="pl-c1">42</span>
<span class="pl-k">end</span></pre></div>
<p>or using slashes as path delimiters:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">@assert</span> <span class="pl-c1">load</span>(<span class="pl-s"><span class="pl-pds">"</span>example.jld2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>mygroup/mystuff<span class="pl-pds">"</span></span>) <span class="pl-k">==</span> <span class="pl-c1">42</span></pre></div>
</article></div>