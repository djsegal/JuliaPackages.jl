<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-ecrequests" class="anchor" aria-hidden="true" href="#ecrequests"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>EcRequests</h1>
<p dir="auto"><a href="https://tcarion.github.io/EcRequests.jl/stable/" rel="nofollow"><img src="https://camo.githubusercontent.com/c97f0a5f2ae95755f64a27f1aa8d9a17462941fd3d6c907c7630abd5d3e60acf/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d737461626c652d626c75652e737667" alt="Stable" data-canonical-src="https://img.shields.io/badge/docs-stable-blue.svg" style="max-width: 100%;"></a>
<a href="https://tcarion.github.io/EcRequests.jl/dev/" rel="nofollow"><img src="https://camo.githubusercontent.com/7fcec4b2d3ab291529fce8ef6a4fcd4129a0683b2f5d5fe2f5c648f02db8b616/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6465762d626c75652e737667" alt="Dev" data-canonical-src="https://img.shields.io/badge/docs-dev-blue.svg" style="max-width: 100%;"></a>
<a href="https://github.com/tcarion/EcRequests.jl/actions/workflows/CI.yml?query=branch%3Amain"><img src="https://github.com/tcarion/EcRequests.jl/actions/workflows/CI.yml/badge.svg?branch=main" alt="Build Status" style="max-width: 100%;"></a>
<a href="https://codecov.io/gh/tcarion/EcRequests.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/37d5bdcd0e613edb21dbd9b9c7bb8157b0a642f80591364a000518a67349d10e/68747470733a2f2f636f6465636f762e696f2f67682f74636172696f6e2f456352657175657374732e6a6c2f6272616e63682f6d61696e2f67726170682f62616467652e737667" alt="Coverage" data-canonical-src="https://codecov.io/gh/tcarion/EcRequests.jl/branch/main/graph/badge.svg" style="max-width: 100%;"></a></p>
<p dir="auto"><code>EcRequests.jl</code> interfaces the <a href="https://www.ecmwf.int/en/computing/software/ecmwf-web-api" rel="nofollow">Ecmwf API</a> to retrieve ECMWF meteorological data. It uses <a href="https://github.com/JuliaPy/PyCall.jl">PyCall.jl</a> to install the needed python client.</p>
<h2 dir="auto"><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<p dir="auto">To install the package:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="] add https://github.com/tcarion/EcRequests.jl"><pre>] add https<span class="pl-k">:</span><span class="pl-k">//</span>github<span class="pl-k">.</span>com<span class="pl-k">/</span>tcarion<span class="pl-k">/</span>EcRequests<span class="pl-k">.</span>jl</pre></div>
<h2 dir="auto"><a id="user-content-make-requests" class="anchor" aria-hidden="true" href="#make-requests"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Make requests</h2>
<p dir="auto">To be able to make requests to the ECMWF Web API, you will first need to <a href="https://apps.ecmwf.int/registration/" rel="nofollow">create an account</a> at ECMWF, and then follow the instructions to set up your API key. Then, you can create your request:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using EcRequests
request = EcRequest(
   &quot;stream&quot; =&gt; &quot;oper&quot;,
   &quot;levtype&quot; =&gt; &quot;sfc&quot;,
   &quot;param&quot; =&gt; &quot;165.128/41.128&quot;,
   &quot;dataset&quot; =&gt; &quot;interim&quot;,
   &quot;step&quot; =&gt; &quot;0&quot;,
   &quot;grid&quot; =&gt; &quot;0.75/0.75&quot;,
   &quot;time&quot; =&gt; &quot;00&quot;,
   &quot;date&quot; =&gt; &quot;2013-09-01/to/2013-09-30&quot;,
   &quot;type&quot; =&gt; &quot;an&quot;,
   &quot;class&quot; =&gt; &quot;ei&quot;,
   &quot;target&quot; =&gt; &quot;interim_2013-09-01to2013-09-30_00.grib&quot;
)"><pre><span class="pl-k">using</span> EcRequests
request <span class="pl-k">=</span> <span class="pl-c1">EcRequest</span>(
   <span class="pl-s"><span class="pl-pds">"</span>stream<span class="pl-pds">"</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>oper<span class="pl-pds">"</span></span>,
   <span class="pl-s"><span class="pl-pds">"</span>levtype<span class="pl-pds">"</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>sfc<span class="pl-pds">"</span></span>,
   <span class="pl-s"><span class="pl-pds">"</span>param<span class="pl-pds">"</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>165.128/41.128<span class="pl-pds">"</span></span>,
   <span class="pl-s"><span class="pl-pds">"</span>dataset<span class="pl-pds">"</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>interim<span class="pl-pds">"</span></span>,
   <span class="pl-s"><span class="pl-pds">"</span>step<span class="pl-pds">"</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>0<span class="pl-pds">"</span></span>,
   <span class="pl-s"><span class="pl-pds">"</span>grid<span class="pl-pds">"</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>0.75/0.75<span class="pl-pds">"</span></span>,
   <span class="pl-s"><span class="pl-pds">"</span>time<span class="pl-pds">"</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>00<span class="pl-pds">"</span></span>,
   <span class="pl-s"><span class="pl-pds">"</span>date<span class="pl-pds">"</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>2013-09-01/to/2013-09-30<span class="pl-pds">"</span></span>,
   <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>an<span class="pl-pds">"</span></span>,
   <span class="pl-s"><span class="pl-pds">"</span>class<span class="pl-pds">"</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>ei<span class="pl-pds">"</span></span>,
   <span class="pl-s"><span class="pl-pds">"</span>target<span class="pl-pds">"</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>interim_2013-09-01to2013-09-30_00.grib<span class="pl-pds">"</span></span>
)</pre></div>
<p dir="auto">And then run it:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="EcRequests.runmars(request)"><pre>EcRequests<span class="pl-k">.</span><span class="pl-c1">runmars</span>(request)</pre></div>
<p dir="auto">You can also read a file with the <a href="https://confluence.ecmwf.int/display/UDOC/MARS+user+documentation" rel="nofollow">MARS</a> syntax:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="cat &gt; my_request &lt;&lt; EOF
retrieve,
   stream=oper,
   levtype=sfc,
   param=165.128/41.128,
   dataset=interim,
   step=0,
   grid=0.75/0.75,
   time=00,
   date=2013-09-01/to/2013-09-30,
   type=an,
   class=ei,
   target=&quot;interim_2013-09-01to2013-09-30_00.grib&quot;
EOF"><pre>cat <span class="pl-k">&gt;</span> my_request <span class="pl-s"><span class="pl-k">&lt;&lt;</span> <span class="pl-k">EOF</span></span>
<span class="pl-s">retrieve,</span>
<span class="pl-s">   stream=oper,</span>
<span class="pl-s">   levtype=sfc,</span>
<span class="pl-s">   param=165.128/41.128,</span>
<span class="pl-s">   dataset=interim,</span>
<span class="pl-s">   step=0,</span>
<span class="pl-s">   grid=0.75/0.75,</span>
<span class="pl-s">   time=00,</span>
<span class="pl-s">   date=2013-09-01/to/2013-09-30,</span>
<span class="pl-s">   type=an,</span>
<span class="pl-s">   class=ei,</span>
<span class="pl-s">   target="interim_2013-09-01to2013-09-30_00.grib"</span>
<span class="pl-s"><span class="pl-k">EOF</span></span></pre></div>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="request = EcRequest(&quot;my_request&quot;)
OrderedCollections.OrderedDict{String, Any} with 11 entries:
  &quot;stream&quot;  =&gt; &quot;oper&quot;
  &quot;levtype&quot; =&gt; &quot;sfc&quot;
  &quot;param&quot;   =&gt; &quot;165.128/41.128&quot;
  &quot;dataset&quot; =&gt; &quot;interim&quot;
  &quot;step&quot;    =&gt; &quot;0&quot;
  &quot;grid&quot;    =&gt; &quot;0.75/0.75&quot;
  &quot;time&quot;    =&gt; &quot;00&quot;
  &quot;date&quot;    =&gt; &quot;2013-09-01/to/2013-09-30&quot;
  &quot;type&quot;    =&gt; &quot;an&quot;
  &quot;class&quot;   =&gt; &quot;ei&quot;
  &quot;target&quot;  =&gt; &quot;\&quot;interim_2013-09-01to2013-09-30_00.grib\&quot;&quot;"><pre>request <span class="pl-k">=</span> <span class="pl-c1">EcRequest</span>(<span class="pl-s"><span class="pl-pds">"</span>my_request<span class="pl-pds">"</span></span>)
OrderedCollections<span class="pl-k">.</span>OrderedDict{String, Any} with <span class="pl-c1">11</span> entries<span class="pl-k">:</span>
  <span class="pl-s"><span class="pl-pds">"</span>stream<span class="pl-pds">"</span></span>  <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>oper<span class="pl-pds">"</span></span>
  <span class="pl-s"><span class="pl-pds">"</span>levtype<span class="pl-pds">"</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>sfc<span class="pl-pds">"</span></span>
  <span class="pl-s"><span class="pl-pds">"</span>param<span class="pl-pds">"</span></span>   <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>165.128/41.128<span class="pl-pds">"</span></span>
  <span class="pl-s"><span class="pl-pds">"</span>dataset<span class="pl-pds">"</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>interim<span class="pl-pds">"</span></span>
  <span class="pl-s"><span class="pl-pds">"</span>step<span class="pl-pds">"</span></span>    <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>0<span class="pl-pds">"</span></span>
  <span class="pl-s"><span class="pl-pds">"</span>grid<span class="pl-pds">"</span></span>    <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>0.75/0.75<span class="pl-pds">"</span></span>
  <span class="pl-s"><span class="pl-pds">"</span>time<span class="pl-pds">"</span></span>    <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>00<span class="pl-pds">"</span></span>
  <span class="pl-s"><span class="pl-pds">"</span>date<span class="pl-pds">"</span></span>    <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>2013-09-01/to/2013-09-30<span class="pl-pds">"</span></span>
  <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span>    <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>an<span class="pl-pds">"</span></span>
  <span class="pl-s"><span class="pl-pds">"</span>class<span class="pl-pds">"</span></span>   <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>ei<span class="pl-pds">"</span></span>
  <span class="pl-s"><span class="pl-pds">"</span>target<span class="pl-pds">"</span></span>  <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\"</span>interim_2013-09-01to2013-09-30_00.grib<span class="pl-cce">\"</span><span class="pl-pds">"</span></span></pre></div>
<h2 dir="auto"><a id="user-content-remark" class="anchor" aria-hidden="true" href="#remark"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Remark</h2>
<p dir="auto">This package has not been developed by ECMWF people. If you're from ECMWF, don't hesitate to contact me and discuss about further improvement!</p>
</article></div>