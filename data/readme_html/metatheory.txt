<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><p align="center">
<a target="_blank" rel="noopener noreferrer" href="https://raw.githubusercontent.com/0x0f0f0f/Metatheory.jl/master/docs/src/assets/dragon.jpg"><img width="400px" src="https://raw.githubusercontent.com/0x0f0f0f/Metatheory.jl/master/docs/src/assets/dragon.jpg" style="max-width:100%;"></a>
</p>
<h1><a id="user-content-metatheoryjl" class="anchor" aria-hidden="true" href="#metatheoryjl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Metatheory.jl</h1>
<p><a href="https://0x0f0f0f.github.io/Metatheory.jl/dev" rel="nofollow"><img src="https://camo.githubusercontent.com/56f8252ba8e9d3f0b810769543f77823d2fe031ce560d4c2d69fb1fcad800383/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6c61746573742d626c75652e737667" alt="Docs" data-canonical-src="https://img.shields.io/badge/docs-latest-blue.svg" style="max-width:100%;"></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/0x0f0f0f/Metatheory.jl/workflows/CI/badge.svg"><img src="https://github.com/0x0f0f0f/Metatheory.jl/workflows/CI/badge.svg" alt="CI" style="max-width:100%;"></a>
<a href="https://codecov.io/gh/0x0f0f0f/Metatheory.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/4fe5b7b125991d519729234c4292dfcb82c585038267a77b4c77e0056c257bee/68747470733a2f2f636f6465636f762e696f2f67682f30783066306630662f4d6574617468656f72792e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e7376673f746f6b656e3d45574e59504437415358" alt="codecov" data-canonical-src="https://codecov.io/gh/0x0f0f0f/Metatheory.jl/branch/master/graph/badge.svg?token=EWNYPD7ASX" style="max-width:100%;"></a>
<a href="https://arxiv.org/abs/2102.07888" rel="nofollow"><img src="https://camo.githubusercontent.com/dc5bad71abc52168f9c311d69b6e851d3fa2cb84208b6f4ec15508a56e49977a/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f61725869762d323130322e30373838382d6233316231622e737667" alt="arXiv" data-canonical-src="https://img.shields.io/badge/arXiv-2102.07888-b31b1b.svg" style="max-width:100%;"></a>
<a href="https://joss.theoj.org/papers/3266e8a08a75b9be2f194126a9c6f0e9" rel="nofollow"><img src="https://camo.githubusercontent.com/40dcf47f6452106f380998d45ad42d841192923c4aba2bc8dcda9c8911e6e662/68747470733a2f2f6a6f73732e7468656f6a2e6f72672f7061706572732f33323636653861303861373562396265326631393431323661396336663065392f7374617475732e737667" alt="status" data-canonical-src="https://joss.theoj.org/papers/3266e8a08a75b9be2f194126a9c6f0e9/status.svg" style="max-width:100%;"></a>
<a href="https://julialang.zulipchat.com/#narrow/stream/277860-metatheory.2Ejl" rel="nofollow"><img src="https://camo.githubusercontent.com/983f5cf59b23a327957720ae2657d1c15ae0713e7a6636c98a9c64b788e06f46/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f436861742d5a756c69702d626c7565" alt="Zulip" data-canonical-src="https://img.shields.io/badge/Chat-Zulip-blue" style="max-width:100%;"></a></p>
<p><strong>Metatheory.jl</strong> is a general purpose metaprogramming and algebraic computation library for the Julia programming language, designed to take advantage of the powerful reflection capabilities to bridge the gap between symbolic mathematics, abstract interpretation, equational reasoning, optimization, composable compiler transforms, and advanced
homoiconic pattern matching features. The core feature of Metatheory.jl is <em>e-graph rewriting</em>, a fresh approach to term rewriting achieved through an equality saturation algorithm.</p>
<p>Intuitively, Metatheory.jl transforms Julia expressions
in other Julia expressions and can achieve such at both compile and run time. This allows Metatheory.jl users to perform customized and composable compiler optimization specifically tailored to single, arbitrary Julia packages.
Our library provides a simple, algebraically composable interface to help scientists in implementing and reasoning about semantics and all kinds of formal systems, by defining concise rewriting rules in pure, syntactically valid Julia on a high level of abstraction. Our implementation of equality saturation on e-graphs is based on the excellent, state-of-the-art technique implemented in the <a href="https://egraphs-good.github.io/" rel="nofollow">egg</a> library, reimplemented in pure Julia.</p>
<h2><a id="user-content-recommended-readings---selected-publications" class="anchor" aria-hidden="true" href="#recommended-readings---selected-publications"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Recommended Readings - Selected Publications</h2>
<ul>
<li>The <a href="https://joss.theoj.org/papers/10.21105/joss.03078#" rel="nofollow">Metatheory.jl introductory paper</a> gives a brief high level overview on the library and its functionalities.</li>
<li>The Julia Manual <a href="https://docs.julialang.org/en/v1/manual/metaprogramming/" rel="nofollow">metaprogramming section</a> is fundamental to understand what homoiconic expression manipulation is and how it happens in Julia.</li>
<li>An <a href="https://blog.sigplan.org/2021/04/06/equality-saturation-with-egg/" rel="nofollow">introductory blog post on SIGPLAN</a> about <code>egg</code> and e-graphs rewriting.</li>
<li><a href="https://dl.acm.org/doi/pdf/10.1145/3434304" rel="nofollow">egg: Fast and Extensible Equality Saturation</a> contains the definition of <em>E-Graphs</em> on which Metatheory.jl's equality saturation rewriting backend is based. This is a strongly recommended reading.</li>
</ul>
<h2><a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Contributing</h2>
<p>If you'd like to give us a hand and contribute to this repository you can:</p>
<ul>
<li>Find a high level description of the project architecture in <a href="https://github.com/0x0f0f0f/Metatheory.jl/blob/master/ARCHITECTURE.md">ARCHITECTURE.md</a></li>
<li>Read the contribution guidelines in <a href="https://github.com/0x0f0f0f/Metatheory.jl/blob/master/CONTRIBUTING.md">CONTRIBUTING.md</a></li>
</ul>
<p>If you enjoy Metatheory.jl and would like to help, please also consider a <a href="https://github.com/sponsors/0x0f0f0f/">tiny donation</a>.
It can help me a lot in actively developing this project.</p>
<h2><a id="user-content-please-note-that-metatheoryjl-is-in-an-experimental-alpha-stage-and-many-things-are-going-to-change" class="anchor" aria-hidden="true" href="#please-note-that-metatheoryjl-is-in-an-experimental-alpha-stage-and-many-things-are-going-to-change"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Please note that Metatheory.jl is in an experimental alpha stage and many things are going to change</h2>
<h2><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<p>You can install the stable version:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="julia&gt; using Pkg; Pkg.add(&quot;Metatheory&quot;)
"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> Pkg; Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-s"><span class="pl-pds">"</span>Metatheory<span class="pl-pds">"</span></span>)</pre></div>
<p>Or you can install the developer version (recommended by now for latest bugfixes)</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="julia&gt; using Pkg; Pkg.add(url=&quot;https://github.com/0x0f0f0f/Metatheory.jl&quot;)
"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> Pkg; Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(url<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>https://github.com/0x0f0f0f/Metatheory.jl<span class="pl-pds">"</span></span>)</pre></div>
<h2><a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<p>Since Metatheory.jl relies on <a href="https://github.com/SciML/RuntimeGeneratedFunctions.jl/">RuntimeGeneratedFunctions.jl</a>, you have to call <code>@metatheory_init</code> in the module where you are going to use Metatheory.</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="using Metatheory
using Metatheory.EGraphs

@metatheory_init
"><pre><span class="pl-k">using</span> Metatheory
<span class="pl-k">using</span> Metatheory<span class="pl-k">.</span>EGraphs

<span class="pl-c1">@metatheory_init</span></pre></div>
<h2><a id="user-content-documentation" class="anchor" aria-hidden="true" href="#documentation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Documentation</h2>
<p>Narrative and API documentation for Metatheory.jl is available <a href="https://0x0f0f0f.github.io/Metatheory.jl/dev" rel="nofollow">here</a></p>
<h2><a id="user-content-citing" class="anchor" aria-hidden="true" href="#citing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Citing</h2>
<p>If you use Metatheory.jl in your research, please <a href="https://github.com/0x0f0f0f/Metatheory.jl/blob/master/CITATION.bib">cite</a> our works.</p>
</article></div>