<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1><a id="user-content-eye-of-ra" class="anchor" aria-hidden="true" href="#eye-of-ra"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Eye of Ra</h1>


<p><a href="https://travis-ci.com/github/pengwyn/EyeOfRa.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/aaf8c06cbb19f08ebc960496eb9d4f0de585e619a60b1c32a85e39a744947332/68747470733a2f2f7472617669732d63692e636f6d2f70656e6777796e2f4579654f6652612e6a6c2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.com/pengwyn/EyeOfRa.jl.svg?branch=master" style="max-width:100%;"></a></p>
<p>This package is aimed at removing the manual aspects of the typical programming
change-check cycle, usually invoked by</p>
<ol>
<li>edit</li>
<li>save</li>
<li><code>&lt;alt-tab&gt;</code></li>
<li><code>&lt;up-arrow&gt;&lt;enter&gt;</code></li>
<li>curse/scream/yell/despair</li>
<li><code>&lt;alt-tab&gt;</code></li>
<li>Continue from step 1...</li>
</ol>
<h2><a id="user-content-using" class="anchor" aria-hidden="true" href="#using"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Using</h2>
<p>Invoke the macro <code>@observe</code> on a function call. The documentation is:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="@observe func(args... ; kwds...)
"><pre><span class="pl-c1">@observe</span> <span class="pl-c1">func</span>(args<span class="pl-k">...</span> ; kwds<span class="pl-k">...</span>)</pre></div>
<p>Use <code>Revise</code> to "observe" changes to a functions behaviour. This will track the
return values and the stdout/stderr of the function.</p>
<p>Notes:</p>
<ul>
<li>This only tracks stdout, stderr output using <code>redirect_stdxxx</code>. Many functions
(e.g. <code>display</code>) will not output to the current stdout and so will not be captured.</li>
<li>"Repeats" are recorded. Two calls repeat, when they have the same output.</li>
<li>Currently, any change to the function's module will cause the function to be retested.</li>
<li>This will probably only work on linux at the moment...</li>
</ul>
<h3><a id="user-content-example-output" class="anchor" aria-hidden="true" href="#example-output"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Example output</h3>
<p><a target="_blank" rel="noopener noreferrer" href="examples/success.png"><img src="examples/success.png" alt="Success" style="max-width:100%;"></a></p>
<h3><a id="user-content-example-with-exception" class="anchor" aria-hidden="true" href="#example-with-exception"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Example with exception</h3>
<p><a target="_blank" rel="noopener noreferrer" href="examples/error.png"><img src="examples/error.png" alt="Exception" style="max-width:100%;"></a></p>
<h2><a id="user-content-future-work" class="anchor" aria-hidden="true" href="#future-work"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Future work</h2>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> Diffs of output and returned values.</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> Multiple input arguments to test several cases at once.
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> Option to focus on failures or focus on successes.</li>
</ul>
</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> Quick option to save tests as unit tests in package.</li>
<li class="task-list-item"><input type="checkbox" id="" disabled="" class="task-list-item-checkbox"> Option to load tests from <code>runtest.jl</code>.</li>
</ul>
<h2><a id="user-content-inspiration" class="anchor" aria-hidden="true" href="#inspiration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Inspiration</h2>
<p>This idea was inspired by Brett Victor's talk "Inventing on Principle":
<a href="https://www.youtube.com/watch?v=8QiPFmIMxFc" rel="nofollow">https://www.youtube.com/watch?v=8QiPFmIMxFc</a></p>
<h1><a id="user-content-emacs-support" class="anchor" aria-hidden="true" href="#emacs-support"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Emacs support</h1>
<p>See the emacs package <a href="https://github.com/pengwyn/julia-funcobs">julia-funcobs</a>
for an IDE-like interface with <code>julia-repl</code>. Includes image support from
<code>Plots.jl</code>.</p>
<p><a target="_blank" rel="noopener noreferrer" href="examples/emacs.png"><img src="examples/emacs.png" alt="Emacs" style="max-width:100%;"></a></p>
<h1><a id="user-content-naming" class="anchor" aria-hidden="true" href="#naming"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Naming</h1>
<p>Why "Eye of Ra"?</p>
<ul>
<li>Watches over.</li>
<li>Protective.</li>
<li>Can get "out of control".</li>
<li>Horus always gets the attention.</li>
</ul>
</article></div>