<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h3 dir="auto"><a id="user-content-rough-work-in-progress" class="anchor" aria-hidden="true" href="#rough-work-in-progress"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>rough work in progress</h3>
<h3 dir="auto"><a id="user-content-steps" class="anchor" aria-hidden="true" href="#steps"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>steps</h3>
<ul dir="auto">
<li>use a version of Julia at least as new as 7897a9131bf</li>
<li>install IACA <a href="https://software.intel.com/en-us/articles/intel-architecture-code-analyzer-download" rel="nofollow">https://software.intel.com/en-us/articles/intel-architecture-code-analyzer-download</a></li>
<li>add <code>@iaca</code> macro around a loop or straight code</li>
<li>run <code>analyze(f, sig)</code></li>
</ul>
<h3 dir="auto"><a id="user-content-options" class="anchor" aria-hidden="true" href="#options"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>options</h3>
<ul dir="auto">
<li><code>analyze(..., iaca_path = "/path/to/iaca.sh")</code></li>
<li><code>analyze(..., arch = :haswell | :ivy_bridge | :sandy_bridge | :westmere | :nehalem)</code></li>
<li><code>analyze(..., analysis = :throughput | :latency)</code></li>
</ul>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; using IACA

julia&gt; function f(y::Float64)
    x = 0.0
    @iaca for i=1:100
        x += 2*y*i
    end
    x
end

julia&gt; function g(y::Float64)
    x1 = x2 = x3 = x4 = x5 = x6 = x7 = 0.0
    @iaca for i=1:7:100
        x1 += 2*y*i
        x2 += 2*y*(i+1)
        x3 += 2*y*(i+2)
        x4 += 2*y*(i+3)
        x5 += 2*y*(i+4)
        x6 += 2*y*(i+5)
        x7 += 2*y*(i+6)
    end
    x1 + x2 + x3 + x4 + x5 + x6 + x7
end

julia&gt; println(analyze(f, Tuple{Float64}))
Intel(R) Architecture Code Analyzer Version - 2.1
Analyzed File - /tmp/tmplWkO5l
Binary Format - 64Bit
Architecture  - HSW
Analysis Type - Throughput

Throughput Analysis Report
--------------------------
Block Throughput: 12.00 Cycles       Throughput Bottleneck: InterIteration

Port Binding In Cycles Per Iteration:
---------------------------------------------------------------------------------------
|  Port  |  0   -  DV  |  1   |  2   -  D   |  3   -  D   |  4   |  5   |  6   |  7   |
---------------------------------------------------------------------------------------
| Cycles | 1.0    0.0  | 2.0  | 0.0    0.0  | 0.0    0.0  | 0.0  | 1.0  | 2.0  | 0.0  |
---------------------------------------------------------------------------------------

N - port number or number of cycles resource conflict caused delay, DV - Divider pipe (on port 0)
D - Data fetch pipe (on ports 2 and 3), CP - on a critical path
F - Macro Fusion with the previous instruction occurred
* - instruction micro-ops not bound to a port
^ - Micro Fusion happened
# - ESP Tracking sync uop was issued
@ - SSE instruction followed an AVX256 instruction, dozens of cycles penalty is expected
! - instruction not supported, was not accounted in Analysis

| Num Of |                    Ports pressure in cycles                     |    |
|  Uops  |  0  - DV  |  1  |  2  -  D  |  3  -  D  |  4  |  5  |  6  |  7  |    |
---------------------------------------------------------------------------------
|   2    |           | 1.0 |           |           |     | 1.0 |     |     | CP | vcvtsi2sd xmm2, xmm0, rax
|   1    |           |     |           |           |     |     | 1.0 |     |    | add rax, 0x1
|   1    | 1.0       |     |           |           |     |     |     |     | CP | vmulsd xmm2, xmm1, xmm2
|   1    |           | 1.0 |           |           |     |     |     |     | CP | vaddsd xmm0, xmm0, xmm2
|   1    |           |     |           |           |     |     | 1.0 |     |    | cmp rax, 0x65
|   0F   |           |     |           |           |     |     |     |     |    | jnz 0xffffffffffffffe1
Total Num Of Uops: 6

julia&gt; println(analyze(g, Tuple{Float64}))
Intel(R) Architecture Code Analyzer Version - 2.1
Analyzed File - /tmp/tmpLPZdgg
Binary Format - 64Bit
Architecture  - HSW
Analysis Type - Throughput

Throughput Analysis Report
--------------------------
Block Throughput: 14.00 Cycles       Throughput Bottleneck: Port1, Port5

Port Binding In Cycles Per Iteration:
---------------------------------------------------------------------------------------
|  Port  |  0   -  DV  |  1   |  2   -  D   |  3   -  D   |  4   |  5   |  6   |  7   |
---------------------------------------------------------------------------------------
| Cycles | 7.0    0.0  | 14.0 | 0.0    0.0  | 0.0    0.0  | 0.0  | 14.0 | 2.0  | 0.0  |
---------------------------------------------------------------------------------------

N - port number or number of cycles resource conflict caused delay, DV - Divider pipe (on port 0)
D - Data fetch pipe (on ports 2 and 3), CP - on a critical path
F - Macro Fusion with the previous instruction occurred
* - instruction micro-ops not bound to a port
^ - Micro Fusion happened
# - ESP Tracking sync uop was issued
@ - SSE instruction followed an AVX256 instruction, dozens of cycles penalty is expected
! - instruction not supported, was not accounted in Analysis

| Num Of |                    Ports pressure in cycles                     |    |
|  Uops  |  0  - DV  |  1  |  2  -  D  |  3  -  D  |  4  |  5  |  6  |  7  |    |
---------------------------------------------------------------------------------
|   0*   |           |     |           |           |     |     |     |     |    | vxorps xmm0, xmm0, xmm0
|   2    |           | 1.0 |           |           |     | 1.0 |     |     | CP | vcvtsi2sd xmm0, xmm0, rcx
|   1    | 1.0       |     |           |           |     |     |     |     |    | vmulsd xmm0, xmm7, xmm0
|   1    |           | 1.0 |           |           |     |     |     |     | CP | vaddsd xmm8, xmm8, xmm0
|   1    |           |     |           |           |     | 1.0 |     |     | CP | lea rdx, ptr [rcx+0x1]
|   0*   |           |     |           |           |     |     |     |     |    | vxorps xmm0, xmm0, xmm0
|   2    |           | 1.0 |           |           |     | 1.0 |     |     | CP | vcvtsi2sd xmm0, xmm0, rdx
|   1    | 1.0       |     |           |           |     |     |     |     |    | vmulsd xmm0, xmm7, xmm0
|   1    |           | 1.0 |           |           |     |     |     |     | CP | vaddsd xmm1, xmm1, xmm0
|   1    |           |     |           |           |     | 1.0 |     |     | CP | lea rdx, ptr [rcx+0x2]
|   0*   |           |     |           |           |     |     |     |     |    | vxorps xmm0, xmm0, xmm0
|   2    |           | 1.0 |           |           |     | 1.0 |     |     | CP | vcvtsi2sd xmm0, xmm0, rdx
|   1    | 1.0       |     |           |           |     |     |     |     |    | vmulsd xmm0, xmm7, xmm0
|   1    |           | 1.0 |           |           |     |     |     |     | CP | vaddsd xmm2, xmm2, xmm0
|   1    |           |     |           |           |     | 1.0 |     |     | CP | lea rdx, ptr [rcx+0x3]
|   0*   |           |     |           |           |     |     |     |     |    | vxorps xmm0, xmm0, xmm0
|   2    |           | 1.0 |           |           |     | 1.0 |     |     | CP | vcvtsi2sd xmm0, xmm0, rdx
|   1    | 1.0       |     |           |           |     |     |     |     |    | vmulsd xmm0, xmm7, xmm0
|   1    |           | 1.0 |           |           |     |     |     |     | CP | vaddsd xmm3, xmm3, xmm0
|   1    |           |     |           |           |     | 1.0 |     |     | CP | lea rdx, ptr [rcx+0x4]
|   0*   |           |     |           |           |     |     |     |     |    | vxorps xmm0, xmm0, xmm0
|   2    |           | 1.0 |           |           |     | 1.0 |     |     | CP | vcvtsi2sd xmm0, xmm0, rdx
|   1    | 1.0       |     |           |           |     |     |     |     |    | vmulsd xmm0, xmm7, xmm0
|   1    |           | 1.0 |           |           |     |     |     |     | CP | vaddsd xmm4, xmm4, xmm0
|   1    |           |     |           |           |     | 1.0 |     |     | CP | lea rdx, ptr [rcx+0x5]
|   0*   |           |     |           |           |     |     |     |     |    | vxorps xmm0, xmm0, xmm0
|   2    |           | 1.0 |           |           |     | 1.0 |     |     | CP | vcvtsi2sd xmm0, xmm0, rdx
|   1    | 1.0       |     |           |           |     |     |     |     |    | vmulsd xmm0, xmm7, xmm0
|   1    |           | 1.0 |           |           |     |     |     |     | CP | vaddsd xmm5, xmm5, xmm0
|   1    |           |     |           |           |     | 1.0 |     |     | CP | lea rdx, ptr [rcx+0x6]
|   0*   |           |     |           |           |     |     |     |     |    | vxorps xmm0, xmm0, xmm0
|   2    |           | 1.0 |           |           |     | 1.0 |     |     | CP | vcvtsi2sd xmm0, xmm0, rdx
|   1    | 1.0       |     |           |           |     |     |     |     |    | vmulsd xmm0, xmm7, xmm0
|   1    |           | 1.0 |           |           |     |     |     |     | CP | vaddsd xmm6, xmm6, xmm0
|   1    |           |     |           |           |     |     | 1.0 |     |    | cmp rcx, rax
|   1    |           |     |           |           |     | 1.0 |     |     | CP | lea rcx, ptr [rcx+0x7]
|   1    |           |     |           |           |     |     | 1.0 |     |    | jnz 0xffffffffffffff60
Total Num Of Uops: 37"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> IACA

julia<span class="pl-k">&gt;</span> <span class="pl-k">function</span> <span class="pl-en">f</span>(y<span class="pl-k">::</span><span class="pl-c1">Float64</span>)
    x <span class="pl-k">=</span> <span class="pl-c1">0.0</span>
    <span class="pl-c1">@iaca</span> <span class="pl-k">for</span> i<span class="pl-k">=</span><span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">100</span>
        x <span class="pl-k">+=</span> <span class="pl-c1">2</span><span class="pl-k">*</span>y<span class="pl-k">*</span>i
    <span class="pl-k">end</span>
    x
<span class="pl-k">end</span>

julia<span class="pl-k">&gt;</span> <span class="pl-k">function</span> <span class="pl-en">g</span>(y<span class="pl-k">::</span><span class="pl-c1">Float64</span>)
    x1 <span class="pl-k">=</span> x2 <span class="pl-k">=</span> x3 <span class="pl-k">=</span> x4 <span class="pl-k">=</span> x5 <span class="pl-k">=</span> x6 <span class="pl-k">=</span> x7 <span class="pl-k">=</span> <span class="pl-c1">0.0</span>
    <span class="pl-c1">@iaca</span> <span class="pl-k">for</span> i<span class="pl-k">=</span><span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">7</span><span class="pl-k">:</span><span class="pl-c1">100</span>
        x1 <span class="pl-k">+=</span> <span class="pl-c1">2</span><span class="pl-k">*</span>y<span class="pl-k">*</span>i
        x2 <span class="pl-k">+=</span> <span class="pl-c1">2</span><span class="pl-k">*</span>y<span class="pl-k">*</span>(i<span class="pl-k">+</span><span class="pl-c1">1</span>)
        x3 <span class="pl-k">+=</span> <span class="pl-c1">2</span><span class="pl-k">*</span>y<span class="pl-k">*</span>(i<span class="pl-k">+</span><span class="pl-c1">2</span>)
        x4 <span class="pl-k">+=</span> <span class="pl-c1">2</span><span class="pl-k">*</span>y<span class="pl-k">*</span>(i<span class="pl-k">+</span><span class="pl-c1">3</span>)
        x5 <span class="pl-k">+=</span> <span class="pl-c1">2</span><span class="pl-k">*</span>y<span class="pl-k">*</span>(i<span class="pl-k">+</span><span class="pl-c1">4</span>)
        x6 <span class="pl-k">+=</span> <span class="pl-c1">2</span><span class="pl-k">*</span>y<span class="pl-k">*</span>(i<span class="pl-k">+</span><span class="pl-c1">5</span>)
        x7 <span class="pl-k">+=</span> <span class="pl-c1">2</span><span class="pl-k">*</span>y<span class="pl-k">*</span>(i<span class="pl-k">+</span><span class="pl-c1">6</span>)
    <span class="pl-k">end</span>
    x1 <span class="pl-k">+</span> x2 <span class="pl-k">+</span> x3 <span class="pl-k">+</span> x4 <span class="pl-k">+</span> x5 <span class="pl-k">+</span> x6 <span class="pl-k">+</span> x7
<span class="pl-k">end</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">println</span>(<span class="pl-c1">analyze</span>(f, Tuple{Float64}))
<span class="pl-c1">Intel</span>(R) Architecture Code Analyzer Version <span class="pl-k">-</span> <span class="pl-c1">2.1</span>
Analyzed File <span class="pl-k">-</span> <span class="pl-k">/</span>tmp<span class="pl-k">/</span>tmplWkO5l
Binary Format <span class="pl-k">-</span> <span class="pl-c1">64</span>Bit
Architecture  <span class="pl-k">-</span> HSW
Analysis Type <span class="pl-k">-</span> Throughput

Throughput Analysis Report
<span class="pl-k">--------------------------</span>
Block Throughput<span class="pl-k">:</span> <span class="pl-c1">12.00</span> Cycles       Throughput Bottleneck<span class="pl-k">:</span> InterIteration

Port Binding In Cycles Per Iteration<span class="pl-k">:</span>
<span class="pl-k">---------------------------------------------------------------------------------------</span>
<span class="pl-k">|</span>  Port  <span class="pl-k">|</span>  <span class="pl-c1">0</span>   <span class="pl-k">-</span>  DV  <span class="pl-k">|</span>  <span class="pl-c1">1</span>   <span class="pl-k">|</span>  <span class="pl-c1">2</span>   <span class="pl-k">-</span>  D   <span class="pl-k">|</span>  <span class="pl-c1">3</span>   <span class="pl-k">-</span>  D   <span class="pl-k">|</span>  <span class="pl-c1">4</span>   <span class="pl-k">|</span>  <span class="pl-c1">5</span>   <span class="pl-k">|</span>  <span class="pl-c1">6</span>   <span class="pl-k">|</span>  <span class="pl-c1">7</span>   <span class="pl-k">|</span>
<span class="pl-k">---------------------------------------------------------------------------------------</span>
<span class="pl-k">|</span> Cycles <span class="pl-k">|</span> <span class="pl-c1">1.0</span>    <span class="pl-c1">0.0</span>  <span class="pl-k">|</span> <span class="pl-c1">2.0</span>  <span class="pl-k">|</span> <span class="pl-c1">0.0</span>    <span class="pl-c1">0.0</span>  <span class="pl-k">|</span> <span class="pl-c1">0.0</span>    <span class="pl-c1">0.0</span>  <span class="pl-k">|</span> <span class="pl-c1">0.0</span>  <span class="pl-k">|</span> <span class="pl-c1">1.0</span>  <span class="pl-k">|</span> <span class="pl-c1">2.0</span>  <span class="pl-k">|</span> <span class="pl-c1">0.0</span>  <span class="pl-k">|</span>
<span class="pl-k">---------------------------------------------------------------------------------------</span>

N <span class="pl-k">-</span> port number or number of cycles resource conflict caused delay, DV <span class="pl-k">-</span> Divider pipe (on port <span class="pl-c1">0</span>)
D <span class="pl-k">-</span> Data fetch pipe (on ports <span class="pl-c1">2</span> and <span class="pl-c1">3</span>), CP <span class="pl-k">-</span> on a critical path
F <span class="pl-k">-</span> Macro Fusion with the previous instruction occurred
<span class="pl-k">*</span> <span class="pl-k">-</span> instruction micro<span class="pl-k">-</span>ops not bound to a port
<span class="pl-k">^</span> <span class="pl-k">-</span> Micro Fusion happened
<span class="pl-c"><span class="pl-c">#</span> - ESP Tracking sync uop was issued</span>
@ <span class="pl-k">-</span> SSE instruction followed an AVX256 instruction, dozens of cycles penalty is expected
<span class="pl-k">!</span> <span class="pl-k">-</span> instruction not supported, was not accounted <span class="pl-k">in</span> Analysis

<span class="pl-k">|</span> Num Of <span class="pl-k">|</span>                    Ports pressure <span class="pl-k">in</span> cycles                     <span class="pl-k">|</span>    <span class="pl-k">|</span>
<span class="pl-k">|</span>  Uops  <span class="pl-k">|</span>  <span class="pl-c1">0</span>  <span class="pl-k">-</span> DV  <span class="pl-k">|</span>  <span class="pl-c1">1</span>  <span class="pl-k">|</span>  <span class="pl-c1">2</span>  <span class="pl-k">-</span>  D  <span class="pl-k">|</span>  <span class="pl-c1">3</span>  <span class="pl-k">-</span>  D  <span class="pl-k">|</span>  <span class="pl-c1">4</span>  <span class="pl-k">|</span>  <span class="pl-c1">5</span>  <span class="pl-k">|</span>  <span class="pl-c1">6</span>  <span class="pl-k">|</span>  <span class="pl-c1">7</span>  <span class="pl-k">|</span>    <span class="pl-k">|</span>
<span class="pl-k">---------------------------------------------------------------------------------</span>
<span class="pl-k">|</span>   <span class="pl-c1">2</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vcvtsi2sd xmm2, xmm0, rax
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> add rax, <span class="pl-c1">0x1</span>
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span> <span class="pl-c1">1.0</span>       <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vmulsd xmm2, xmm1, xmm2
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vaddsd xmm0, xmm0, xmm2
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> cmp rax, <span class="pl-c1">0x65</span>
<span class="pl-k">|</span>   <span class="pl-c1">0</span>F   <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> jnz <span class="pl-c1">0xffffffffffffffe1</span>
Total Num Of Uops<span class="pl-k">:</span> <span class="pl-c1">6</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">println</span>(<span class="pl-c1">analyze</span>(g, Tuple{Float64}))
<span class="pl-c1">Intel</span>(R) Architecture Code Analyzer Version <span class="pl-k">-</span> <span class="pl-c1">2.1</span>
Analyzed File <span class="pl-k">-</span> <span class="pl-k">/</span>tmp<span class="pl-k">/</span>tmpLPZdgg
Binary Format <span class="pl-k">-</span> <span class="pl-c1">64</span>Bit
Architecture  <span class="pl-k">-</span> HSW
Analysis Type <span class="pl-k">-</span> Throughput

Throughput Analysis Report
<span class="pl-k">--------------------------</span>
Block Throughput<span class="pl-k">:</span> <span class="pl-c1">14.00</span> Cycles       Throughput Bottleneck<span class="pl-k">:</span> Port1, Port5

Port Binding In Cycles Per Iteration<span class="pl-k">:</span>
<span class="pl-k">---------------------------------------------------------------------------------------</span>
<span class="pl-k">|</span>  Port  <span class="pl-k">|</span>  <span class="pl-c1">0</span>   <span class="pl-k">-</span>  DV  <span class="pl-k">|</span>  <span class="pl-c1">1</span>   <span class="pl-k">|</span>  <span class="pl-c1">2</span>   <span class="pl-k">-</span>  D   <span class="pl-k">|</span>  <span class="pl-c1">3</span>   <span class="pl-k">-</span>  D   <span class="pl-k">|</span>  <span class="pl-c1">4</span>   <span class="pl-k">|</span>  <span class="pl-c1">5</span>   <span class="pl-k">|</span>  <span class="pl-c1">6</span>   <span class="pl-k">|</span>  <span class="pl-c1">7</span>   <span class="pl-k">|</span>
<span class="pl-k">---------------------------------------------------------------------------------------</span>
<span class="pl-k">|</span> Cycles <span class="pl-k">|</span> <span class="pl-c1">7.0</span>    <span class="pl-c1">0.0</span>  <span class="pl-k">|</span> <span class="pl-c1">14.0</span> <span class="pl-k">|</span> <span class="pl-c1">0.0</span>    <span class="pl-c1">0.0</span>  <span class="pl-k">|</span> <span class="pl-c1">0.0</span>    <span class="pl-c1">0.0</span>  <span class="pl-k">|</span> <span class="pl-c1">0.0</span>  <span class="pl-k">|</span> <span class="pl-c1">14.0</span> <span class="pl-k">|</span> <span class="pl-c1">2.0</span>  <span class="pl-k">|</span> <span class="pl-c1">0.0</span>  <span class="pl-k">|</span>
<span class="pl-k">---------------------------------------------------------------------------------------</span>

N <span class="pl-k">-</span> port number or number of cycles resource conflict caused delay, DV <span class="pl-k">-</span> Divider pipe (on port <span class="pl-c1">0</span>)
D <span class="pl-k">-</span> Data fetch pipe (on ports <span class="pl-c1">2</span> and <span class="pl-c1">3</span>), CP <span class="pl-k">-</span> on a critical path
F <span class="pl-k">-</span> Macro Fusion with the previous instruction occurred
<span class="pl-k">*</span> <span class="pl-k">-</span> instruction micro<span class="pl-k">-</span>ops not bound to a port
<span class="pl-k">^</span> <span class="pl-k">-</span> Micro Fusion happened
<span class="pl-c"><span class="pl-c">#</span> - ESP Tracking sync uop was issued</span>
@ <span class="pl-k">-</span> SSE instruction followed an AVX256 instruction, dozens of cycles penalty is expected
<span class="pl-k">!</span> <span class="pl-k">-</span> instruction not supported, was not accounted <span class="pl-k">in</span> Analysis

<span class="pl-k">|</span> Num Of <span class="pl-k">|</span>                    Ports pressure <span class="pl-k">in</span> cycles                     <span class="pl-k">|</span>    <span class="pl-k">|</span>
<span class="pl-k">|</span>  Uops  <span class="pl-k">|</span>  <span class="pl-c1">0</span>  <span class="pl-k">-</span> DV  <span class="pl-k">|</span>  <span class="pl-c1">1</span>  <span class="pl-k">|</span>  <span class="pl-c1">2</span>  <span class="pl-k">-</span>  D  <span class="pl-k">|</span>  <span class="pl-c1">3</span>  <span class="pl-k">-</span>  D  <span class="pl-k">|</span>  <span class="pl-c1">4</span>  <span class="pl-k">|</span>  <span class="pl-c1">5</span>  <span class="pl-k">|</span>  <span class="pl-c1">6</span>  <span class="pl-k">|</span>  <span class="pl-c1">7</span>  <span class="pl-k">|</span>    <span class="pl-k">|</span>
<span class="pl-k">---------------------------------------------------------------------------------</span>
<span class="pl-k">|</span>   <span class="pl-c1">0</span><span class="pl-k">*</span>   <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> vxorps xmm0, xmm0, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">2</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vcvtsi2sd xmm0, xmm0, rcx
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span> <span class="pl-c1">1.0</span>       <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> vmulsd xmm0, xmm7, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vaddsd xmm8, xmm8, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> lea rdx, ptr [rcx<span class="pl-k">+</span><span class="pl-c1">0x1</span>]
<span class="pl-k">|</span>   <span class="pl-c1">0</span><span class="pl-k">*</span>   <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> vxorps xmm0, xmm0, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">2</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vcvtsi2sd xmm0, xmm0, rdx
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span> <span class="pl-c1">1.0</span>       <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> vmulsd xmm0, xmm7, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vaddsd xmm1, xmm1, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> lea rdx, ptr [rcx<span class="pl-k">+</span><span class="pl-c1">0x2</span>]
<span class="pl-k">|</span>   <span class="pl-c1">0</span><span class="pl-k">*</span>   <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> vxorps xmm0, xmm0, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">2</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vcvtsi2sd xmm0, xmm0, rdx
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span> <span class="pl-c1">1.0</span>       <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> vmulsd xmm0, xmm7, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vaddsd xmm2, xmm2, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> lea rdx, ptr [rcx<span class="pl-k">+</span><span class="pl-c1">0x3</span>]
<span class="pl-k">|</span>   <span class="pl-c1">0</span><span class="pl-k">*</span>   <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> vxorps xmm0, xmm0, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">2</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vcvtsi2sd xmm0, xmm0, rdx
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span> <span class="pl-c1">1.0</span>       <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> vmulsd xmm0, xmm7, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vaddsd xmm3, xmm3, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> lea rdx, ptr [rcx<span class="pl-k">+</span><span class="pl-c1">0x4</span>]
<span class="pl-k">|</span>   <span class="pl-c1">0</span><span class="pl-k">*</span>   <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> vxorps xmm0, xmm0, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">2</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vcvtsi2sd xmm0, xmm0, rdx
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span> <span class="pl-c1">1.0</span>       <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> vmulsd xmm0, xmm7, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vaddsd xmm4, xmm4, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> lea rdx, ptr [rcx<span class="pl-k">+</span><span class="pl-c1">0x5</span>]
<span class="pl-k">|</span>   <span class="pl-c1">0</span><span class="pl-k">*</span>   <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> vxorps xmm0, xmm0, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">2</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vcvtsi2sd xmm0, xmm0, rdx
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span> <span class="pl-c1">1.0</span>       <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> vmulsd xmm0, xmm7, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vaddsd xmm5, xmm5, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> lea rdx, ptr [rcx<span class="pl-k">+</span><span class="pl-c1">0x6</span>]
<span class="pl-k">|</span>   <span class="pl-c1">0</span><span class="pl-k">*</span>   <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> vxorps xmm0, xmm0, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">2</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vcvtsi2sd xmm0, xmm0, rdx
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span> <span class="pl-c1">1.0</span>       <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> vmulsd xmm0, xmm7, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> vaddsd xmm6, xmm6, xmm0
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> cmp rcx, rax
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> CP <span class="pl-k">|</span> lea rcx, ptr [rcx<span class="pl-k">+</span><span class="pl-c1">0x7</span>]
<span class="pl-k">|</span>   <span class="pl-c1">1</span>    <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>           <span class="pl-k">|</span>           <span class="pl-k">|</span>     <span class="pl-k">|</span>     <span class="pl-k">|</span> <span class="pl-c1">1.0</span> <span class="pl-k">|</span>     <span class="pl-k">|</span>    <span class="pl-k">|</span> jnz <span class="pl-c1">0xffffffffffffff60</span>
Total Num Of Uops<span class="pl-k">:</span> <span class="pl-c1">37</span></pre></div>
</article></div>