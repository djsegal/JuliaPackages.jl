<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><p align="center" dir="auto">
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/bchaber/iskra/blob/master/logo.svg"><img src="https://github.com/bchaber/iskra/raw/master/logo.svg" width="256px" alt="The logo is based on a symbol of the highest Slavic god: Perun found at https://commons.wikimedia.org/wiki/File:Thundermarks.svg" style="max-width: 100%;"></a>
  </p><h1 dir="auto"><a id="user-content-iskra-" class="anchor" aria-hidden="true" href="#iskra-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>iskra <a href="https://zenodo.org/badge/latestdoi/202223612" rel="nofollow"><img src="https://camo.githubusercontent.com/b6ae3524966b5356ffb351204c19a152e8d757b2638430058b4f6ed45c50d2e7/68747470733a2f2f7a656e6f646f2e6f72672f62616467652f3230323232333631322e737667" alt="DOI" data-canonical-src="https://zenodo.org/badge/202223612.svg" style="max-width: 100%;"></a></h1>
<p dir="auto"></p>
<p dir="auto">A particle-in-cell simulator for spark simulations ("iskra" is the Polish word for spark).</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="../../blob/master/img/two-stream-rho-evolution.png"><img src="../../blob/master/img/two-stream-rho-evolution.png" alt="" style="max-width: 100%;"></a></p>
<h1 dir="auto"><a id="user-content-construction_worker-announcement" class="anchor" aria-hidden="true" href="#construction_worker-announcement"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><g-emoji class="g-emoji" alias="construction_worker" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f477.png">ðŸ‘·</g-emoji> announcement</h1>
<p dir="auto">Currently the code is being rewritten and will be significantly faster. The field solvers were moved to a separate repositories (namely: <a href="https://github.com/bchaber/pole">pole</a> and <a href="https://github.com/bchaber/fala">fala</a>). We plan to put the improved version of the code in Spring 2022.</p>
<h1 dir="auto"><a id="user-content-origin" class="anchor" aria-hidden="true" href="#origin"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>origin</h1>
<p dir="auto">The code started as a loosely based version of Lubos Brieda's MATLAB code ES-PIC (<a href="https://www.particleincell.com/2011/particle-in-cell-example/" rel="nofollow">https://www.particleincell.com/2011/particle-in-cell-example/</a>). Right now it supports 1D (X) and 2D (XY) electrostatic simulations of plasma (2D simulations in cylindrical coordinate system will appear soon).
Another source of inspiration also comes from Lubos Brieda (<a href="https://github.com/particleincell/Starfish">https://github.com/particleincell/Starfish</a>). It helped implement DSMC and MCC in iskra.</p>
<h1 dir="auto"><a id="user-content-publications" class="anchor" aria-hidden="true" href="#publications"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>publications</h1>
<p dir="auto">Below is the list of publications using this project:</p>
<p dir="auto">[1] B. Chaber, "Particle-in-Cell code for gas discharge simulations," 2020 IEEE 21st International Conference on Computational Problems of Electrical Engineering (CPEE), 2020, pp. 1-4, doi: 10.1109/CPEE50798.2020.9238682.</p>
<h1 dir="auto"><a id="user-content-features" class="anchor" aria-hidden="true" href="#features"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>features</h1>
<p dir="auto">In this code we try to keep a few separate modules: for the field solver, the grid, particle-in-cell algorithm and circuit simulations.</p>
<p dir="auto">The circuit is coupled using surface charge density on the electrode' surface. For now, only RLC circuit can be connected between one of the electrode and the ground of the system. Charges hitting electrodes can be absorbed or reflected. The absorbed charge is accumulated and can interact with the circuit elements.</p>
<p dir="auto">Iskra tries to keep working with diagnostics (particles' positions and other parameters, field distributions, etc.) as simple as possible. The computational code makes different quantities of interest available for saving them by the user. Currently, the diagnostics data are stored according to OpenPMD standard (<a href="http://openpmd.org" rel="nofollow">http://openpmd.org</a>) in HDF5 files. They <strong>cannot</strong> be interpreted out of the box using openpmd-viewer (due to the way HDF5.jl stores strings). You have to remove <code>.decode()</code> here and there from openpmd-viewer Python files...</p>
<h1 dir="auto"><a id="user-content-running" class="anchor" aria-hidden="true" href="#running"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>running</h1>
<p dir="auto">To run this code few dependencies have to be installed in Julia (version &gt;= 1.5):</p>
<p dir="auto">You can use the environment of the package:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ cd iskra/
$ ls *.toml
Manifest.toml	Project.toml
$ julia --project src/iskra.jl problem/01_single_electron.jl
..."><pre class="notranslate"><code>$ cd iskra/
$ ls *.toml
Manifest.toml	Project.toml
$ julia --project src/iskra.jl problem/01_single_electron.jl
...
</code></pre></div>
<p dir="auto">Alternatively, you can run it from REPL:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="$ julia --project
julia&gt; PROBLEM = &quot;problem/01_single_electron.jl&quot;
julia&gt; include(&quot;src/iskra.jl&quot;)
..."><pre class="notranslate"><code>$ julia --project
julia&gt; PROBLEM = "problem/01_single_electron.jl"
julia&gt; include("src/iskra.jl")
...
</code></pre></div>
<p dir="auto">Please, mind that the during the saving process of diagnostics data the current
directory is changed, so to re-run some simulation you might want to change the
directory in REPL.</p>
<h1 dir="auto"><a id="user-content-verification" class="anchor" aria-hidden="true" href="#verification"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>verification</h1>
<p dir="auto">This code has been partialy verified against XOOPIC from PTSG (<a href="http://ptsg.egr.msu.edu" rel="nofollow">http://ptsg.egr.msu.edu</a>). We have compared two-stream instability simulation and got similar results from both codes. In the near future, DSMC and MCC modules will be verified.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="../../blob/master/img/rf-discharge-density-evolution.png"><img src="../../blob/master/img/rf-discharge-density-evolution.png" alt="" style="max-width: 100%;"></a></p>
<h1 dir="auto"><a id="user-content-disclimer" class="anchor" aria-hidden="true" href="#disclimer"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>disclimer</h1>
<p dir="auto">Expect many sharp edges of this code. If you try to modify too much you will find a bear trying to eat you. Be careful.</p>
</article></div>