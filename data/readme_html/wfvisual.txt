<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-wfvisualjl--wind-farm-visualizer" class="anchor" aria-hidden="true" href="#wfvisualjl--wind-farm-visualizer"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>WFVisual.jl â€“ Wind Farm Visualizer</h1>
<p dir="auto">Module for the visualization of wind farm layout and wind turbine design optimization.
See <a href="https://nbviewer.jupyter.org/github/byuflowlab/wind-farm-utilities/blob/master/docs/geometry_processing.ipynb" rel="nofollow"><code>docs/geometry_processing.ipynb</code></a> and <a href="https://github.com/byuflowlab/WFVisual.jl/blob/master/examples/simple_windfarm.jl"><code>examples/simple_windfarm.jl</code></a>
for an example on how to use this package.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="docs/img/spanishfork00.png"><img src="docs/img/spanishfork00.png" alt="Pic here" width="800px" style="max-width: 100%;"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="docs/img/spanishfork-aerial00.png"><img src="docs/img/spanishfork-aerial00.png" alt="Pic here" width="650px" style="max-width: 100%;"></a></p>
<h2 dir="auto"><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<p dir="auto">WFVisual was written in Julia v0.6, however, PyJulia (the package that Python
uses to run Julia code) only supports Julia v0.7+. If using WFVisual in
a purely Julia environment, I'd recommend using Julia v0.6 to save the headache
of deprication warnings. Also, for some unkown reason, WFVisual runs incredibly
slow in v0.7+ (for instance, try running the example under
<a href="https://github.com/byuflowlab/WFVisual.jl/blob/master/examples/simple_windfarm.jl"><code>examples/simple_windfarm.jl</code></a>).
However, if calling the code through Python, you'll have to set up WFVisual in Julia v0.7.</p>
<p dir="auto">To get things running, first install the following dependecies (in v0.6 this is
done with the commands <code>Pkg.add("name_of_package")</code> and
<code>Pkg.clone("url_to_geometrictools")</code>):</p>
<ul dir="auto">
<li>Add the packages PyCall, PyPlot, Dierckx, Roots, QuadGK, JLD, CSV as</li>
</ul>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="] add name_of_package"><pre>] add name_of_package</pre></div>
<ul dir="auto">
<li>Add the <code>GeometricTools</code> package as</li>
</ul>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="] add &quot;https://github.com/byuflowlab/GeometricTools.jl&quot;"><pre>] add <span class="pl-s"><span class="pl-pds">"</span>https://github.com/byuflowlab/GeometricTools.jl<span class="pl-pds">"</span></span></pre></div>
<p dir="auto">Then install this package with</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="] add &quot;https://github.com/byuflowlab/wind-farm-utilities&quot;"><pre>] add <span class="pl-s"><span class="pl-pds">"</span>https://github.com/byuflowlab/wind-farm-utilities<span class="pl-pds">"</span></span></pre></div>
<p dir="auto">or</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Pkg.clone(&quot;https://github.com/byuflowlab/wind-farm-utilities&quot;)"><pre>Pkg<span class="pl-k">.</span><span class="pl-c1">clone</span>(<span class="pl-s"><span class="pl-pds">"</span>https://github.com/byuflowlab/wind-farm-utilities<span class="pl-pds">"</span></span>)</pre></div>
<p dir="auto">in v0.6.</p>
<p dir="auto">Then you should be able to run the example <a href="https://github.com/byuflowlab/WFVisual.jl/blob/master/examples/simple_windfarm.jl"><code>examples/simple_windfarm.jl</code></a> without
any complications changing the variable <code>save_path</code> to the path where you want
to save the outputs of this example (make sure the path exists, otherwise it
will throw an error). Notice that this example only takes ~40 seconds to run in
v0.6, meanwhile it takes about 20 minutes in v0.7.</p>
<p dir="auto"><a href="https://github.com/byuflowlab/WFVisual.jl/blob/master/examples/simple_windfarm_gaussianwake.jl"><code>examples/simple_windfarm_gaussianwake.jl</code></a>
shows an example with an implementation of a gaussian wake model (simplified
version of the Bastankhah).</p>
<p dir="auto">NOTE: This package uses Paraview as its visualizer and it will call it with the
command <code>run('paraview')</code> after outputting geometries, so make
sure Paraview is set up in your system and callable through the command line
(see the readme of <a href="https://github.com/byuflowlab/GeometricTools.jl">GeometricTools</a>
for guidance).</p>
<h2 dir="auto"><a id="user-content-calling-this-package-from-python" class="anchor" aria-hidden="true" href="#calling-this-package-from-python"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Calling this package from Python</h2>
<p dir="auto">In order to call this package through Python you will need to install the
Python package PyJulia (I recommend doing it through <code>pip install pyjulia --user</code>). PyJulia by default will call whatever version of Julia it finds
under the terminal command <code>julia</code>, and it only works with versions
higher or equal to v0.7. Since WFVisual was written in v0.6, the only
version that will work both with PyJulia and WFVisual is v0.7, so make sure to
have this version as your default system <code>julia</code> command (or point PyJulia
manually to it).</p>
<p dir="auto">The example <a href="https://github.com/byuflowlab/WFVisual.jl/blob/master/examples/simple_windfarm_python.py"><code>examples/simple_windfarm_python.py</code></a>
shows how this package can be called from Python 2.7.</p>
<h2 dir="auto"><a id="user-content-geometry-database" class="anchor" aria-hidden="true" href="#geometry-database"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Geometry database</h2>
<p dir="auto">Generating blade, hub, and tower geometries is computationally intensive (it
takes about ~20 seconds to generate the grid geometry of a full wind turbine).
In order to avoid this overhead, all blade, hub, and tower geometries are
pre-generated in a normalized scale, and saved as a database of geometries under
the folder <code>data/</code> for v0.6 and <code>datav07</code> for v0.7. Everytime a windfarm
layout is generated, the normalized pre-generated geometry of every turbine is
read from the database and scaled to its diameter, tower height, and number of
blades indicated to the function <code>generate_windfarm(...)</code>, thus avoiding the
overhead of generating the geometry from scratch.</p>
<p dir="auto">See the notebook <a href="https://nbviewer.jupyter.org/github/byuflowlab/wind-farm-utilities/blob/master/docs/geometry_processing.ipynb" rel="nofollow"><code>docs/geometry_processing.ipynb</code></a> for an example on how to add blades, hubs, and
towers to the database.</p>
<h2 dir="auto"><a id="user-content-authorship" class="anchor" aria-hidden="true" href="#authorship"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Authorship</h2>
<ul dir="auto">
<li>Authors   : Eduardo J Alvarez and PJ Stanley</li>
<li>Email     : <a href="mailto:Edo.AlvarezR@gmail.com">Edo.AlvarezR@gmail.com</a></li>
<li>Created   : Jul 2018</li>
<li>License   : MIT License</li>
</ul>
<h2 dir="auto"><a id="user-content-examples" class="anchor" aria-hidden="true" href="#examples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Examples</h2>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="docs/vid/turbine00.gif"><img src="docs/vid/turbine00.gif" alt="Pic here" width="800px" data-animated-image="" style="max-width: 100%;"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="docs/img/jared-side02.png"><img src="docs/img/jared-side02.png" alt="Pic here" width="800px" style="max-width: 100%;"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="docs/img/jared-front00.png"><img src="docs/img/jared-front00.png" alt="Pic here" width="800px" style="max-width: 100%;"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="docs/img/bigjared-aerial01.png"><img src="docs/img/bigjared-aerial01.png" alt="Pic here" width="350px" style="max-width: 100%;"></a></p>
</article></div>