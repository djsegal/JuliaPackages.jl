<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-climacorejl" class="anchor" aria-hidden="true" href="#climacorejl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>ClimaCore.jl</h1>
<table>
<thead>
<tr>
<th align="right"></th>
<th align="left"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="right"><strong>Docs Build</strong></td>
<td align="left"><a href="https://github.com/CliMA/ClimaCore.jl/actions?query=workflow%3ADocumentation"><img src="https://github.com/CliMA/ClimaCore.jl/workflows/Documentation/badge.svg" alt="docs build" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td align="right"><strong>Documentation</strong></td>
<td align="left"><a href="https://CliMA.github.io/ClimaCore.jl/dev/" rel="nofollow"><img src="https://camo.githubusercontent.com/7fcec4b2d3ab291529fce8ef6a4fcd4129a0683b2f5d5fe2f5c648f02db8b616/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6465762d626c75652e737667" alt="dev" data-canonical-src="https://img.shields.io/badge/docs-dev-blue.svg" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td align="right"><strong>GHA CI</strong></td>
<td align="left"><a href="https://github.com/CliMA/ClimaCore.jl/actions/workflows/OS-UnitTests.yml"><img src="https://github.com/CliMA/ClimaCore.jl/actions/workflows/OS-UnitTests.yml/badge.svg" alt="gha ci" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td align="right"><strong>Buildkite CI</strong></td>
<td align="left"><a href="https://buildkite.com/clima/climacore-ci" rel="nofollow"><img src="https://camo.githubusercontent.com/abad61a7f79f192fa7369f1a299d50b2bb880f82122444aa9fbad6c3f6b25c5d/68747470733a2f2f62616467652e6275696c646b6974652e636f6d2f32623633643363343933343738303466363162643865393963386238356530353837313235336239323631326364316166342e737667" alt="buildkite ci" data-canonical-src="https://badge.buildkite.com/2b63d3c49347804f61bd8e99c8b85e05871253b92612cd1af4.svg" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td align="right"><strong>Code Coverage</strong></td>
<td align="left"><a href="https://codecov.io/gh/CliMA/ClimaCore.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/4887197d61c7dcb037d8ac846026d55066a51ff716846fb1c027dd86e821d8ab/68747470733a2f2f636f6465636f762e696f2f67682f436c694d412f436c696d61436f72652e6a6c2f6272616e63682f6d61696e2f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/CliMA/ClimaCore.jl/branch/main/graph/badge.svg" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td align="right"><strong>Bors enabled</strong></td>
<td align="left"><a href="https://app.bors.tech/repositories/32973" rel="nofollow"><img src="https://camo.githubusercontent.com/0974fbc63eeb2ed86d518ed0afaafe112e9e907ffa1c459396b0be2434c4f83b/68747470733a2f2f626f72732e746563682f696d616765732f62616467655f736d616c6c2e737667" alt="bors" data-canonical-src="https://bors.tech/images/badge_small.svg" style="max-width: 100%;"></a></td>
</tr>
<tr>
<td align="right"><strong>DOI</strong></td>
<td align="left"><a href="https://zenodo.org/badge/latestdoi/356355994" rel="nofollow"><img src="https://camo.githubusercontent.com/652fd410054b072ca4155a960ea7660fcf8d38a6cfd01a5a487f8f392ce67d41/68747470733a2f2f7a656e6f646f2e6f72672f62616467652f3335363335353939342e737667" alt="zenodo" data-canonical-src="https://zenodo.org/badge/356355994.svg" style="max-width: 100%;"></a></td>
</tr>
</tbody>
</table>
<p dir="auto">The Climate Modelling Alliance (<a href="https://clima.caltech.edu/" rel="nofollow">CliMA</a>) is developing a new Earth System Model (ESM), entirely written in the <a href="https://julialang.org/" rel="nofollow">Julia</a> language. The main goal of the project is to build an ESM that automatically learns from diverse data sources to produce accurate climate predictions with quantified uncertainties. The CliMA model targets both CPU and GPU architectures, using a common codebase. ClimaCore.jl constitutes the dynamical core (<em>dycore</em>) of the atmosphere and land models, providing discretization tools to solve the governing equations of the ESM component models.
ClimaCore.jl's high-level application programming interface (API) facilitates modularity and composition of differential operators and the definition of flexible discretizations. This, in turn, is coupled with low-level APIs that support different data layouts, specialized implementations, and flexible models for threading, to better face high-performance optimization, data storage, and scalability challenges on modern HPC architectures.</p>
<h2 dir="auto"><a id="user-content-technical-aims-and-current-support" class="anchor" aria-hidden="true" href="#technical-aims-and-current-support"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Technical aims and current support</h2>
<ul dir="auto">
<li>Support both large-eddy simulation (LES) and general circulation model (GCM) configurations for the atmosphere.</li>
<li>A suite of tools for constructing space discretizations.</li>
<li>Horizontal spectral elements:
<ul dir="auto">
<li>Supports both continuous Galerkin (CG) and discontinuous Galerkin (DG) spectral element discretizations.</li>
</ul>
</li>
<li>Flexible choice of vertical discretization (currently staggered finite differences)</li>
<li>Support for different geometries (Cartesian, spherical), with governing equations discretized in terms of covariant  vectors for curvilinear, non-orthogonal systems and Cartesian vectors for Euclidean spaces.</li>
<li><code>Field</code> abstraction:
<ul dir="auto">
<li>Scalar, vector or struct-valued</li>
<li>Stores values, geometry, and mesh information</li>
<li>Flexible memory layouts: Array-of-Structs (AoS), Struct-of-Arrays (SoA),Array-of-Struct-of-Arrays (AoSoA)</li>
<li>Useful overloads: <code>sum</code> (integral), <code>norm</code>, etc.</li>
<li>Compatible with <a href="https://diffeq.sciml.ai/stable/" rel="nofollow"><code>DifferentialEquations.jl</code></a> time steppers.</li>
</ul>
</li>
<li>Composable operators via broadcasting: apply a function element-wise to an array; scalar values are broadcast over arrays</li>
<li>Fusion of multiple operations; can be specialized for custom functions or argument types (e.g. <code>CuArray</code> compiles and applies a custom CUDA kernel).</li>
<li>Operators (<code>grad</code>, <code>div</code>, <code>interpolate</code>) are “pseudo-functions”: Act like functions when broadcasted over a <code>Field</code>; fuse operators and function calls.</li>
<li>Add element node size dimensions to type domain
<ul dir="auto">
<li>i.e., specialize on polynomial degree</li>
<li>important for GPU kernel performance.</li>
</ul>
</li>
<li>Flexible memory layouts allow for flexible threading models (upcoming):
<ul dir="auto">
<li>CPU thread over elements</li>
<li>GPU thread over nodes.</li>
</ul>
</li>
</ul>
</article></div>