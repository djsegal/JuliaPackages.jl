<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-littleephemeris" class="anchor" aria-hidden="true" href="#littleephemeris"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>LittleEphemeris</h1>
<p dir="auto">Paquete resultante del Trabajo de Fin de Grado de Ingeniería Informática. Este paquete se utiliza para calcular las coordenadas de la posición y la velocidad de los cuerpos celestes especificados, mediante a interpolación polinómica en nodos de Chebyshev. También se utiliza para hacer una gestión ágil de ficheros de coeficientes.</p>
<h2 dir="auto"><a id="user-content-instalación" class="anchor" aria-hidden="true" href="#instalación"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Instalación</h2>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; using Pkg
julia&gt; Pkg.add(&quot;LittleEphemeris&quot;)"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> Pkg
julia<span class="pl-k">&gt;</span> Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-s"><span class="pl-pds">"</span>LittleEphemeris<span class="pl-pds">"</span></span>)</pre></div>
<h2 dir="auto"><a id="user-content-ficheros-necesarios" class="anchor" aria-hidden="true" href="#ficheros-necesarios"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Ficheros necesarios</h2>
<p dir="auto">Para que este paquete requiere ciertos archivos para su funcionamiento estos ficheros son:</p>
<ul dir="auto">
<li>Al menos un fichero LSK (LeapSeconds Kernel). Estos ficheros se pueden encontrar <a href="https://naif.jpl.nasa.gov/pub/naif/generic_kernels/lsk/" rel="nofollow">aquí</a>. El que ha sido usado a lo largo de la creación de este paquete ha sido el fichero <a href="https://naif.jpl.nasa.gov/pub/naif/generic_kernels/lsk/naif0012.tls" rel="nofollow">naif0012.tls</a>.</li>
<li>El fichero SPK con las efemerides de los cuerpos deseados en los instantes deseados. Se pueden encontrar ficheros SPK <a href="https://naif.jpl.nasa.gov/pub/naif/generic_kernels/spk/" rel="nofollow">aquí</a>. El que ha sido usado a lo largo de la creación de este paquete ha sido el fichero <a href="https://naif.jpl.nasa.gov/pub/naif/generic_kernels/spk/planets/de440.bsp" rel="nofollow">de440.bsp</a>.</li>
<li>Un fichero CSV que contiene una única columna con los intervalos de los tiempos, en formato ET.</li>
<li>Un fichero JSON con los datos de los cuerpos que nos interesan. Esta información se puede sacar del servidor FTP de la NASA: ftp://ssd.jpl.nasa.gov. Más especificamente del fichero que se encuentra en la ruta: ftp://ssd.jpl.nasa.gov/pub/eph/planets/ascii/de440/header.440.</li>
</ul>
<p dir="auto">Todos estos ficheros se pueden generar automaticamente de la siguiente manera:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using LittleEphemeris
generate_files(&quot;./data/&quot;)"><pre><span class="pl-k">using</span> LittleEphemeris
<span class="pl-c1">generate_files</span>(<span class="pl-s"><span class="pl-pds">"</span>./data/<span class="pl-pds">"</span></span>)</pre></div>
<p dir="auto">Este proceso puede tardar un poco ya que es necesario descargar varios ficheros de coeficientes para extraer la información de los intervalos de tiempo.</p>
<h2 dir="auto"><a id="user-content-primeros-pasos" class="anchor" aria-hidden="true" href="#primeros-pasos"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Primeros pasos</h2>
<p dir="auto">Una vez generados los ficheros lo primero es cargar los kernels para poder</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using SPICE
furnsh(&quot;data/naif0012.tls&quot;, &quot;data/de440.bsp&quot;)"><pre><span class="pl-k">using</span> SPICE
<span class="pl-c1">furnsh</span>(<span class="pl-s"><span class="pl-pds">"</span>data/naif0012.tls<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>data/de440.bsp<span class="pl-pds">"</span></span>)</pre></div>
<p dir="auto">Despues para calcular el estado de un cuerpo en un instante de tiempo deseado es necesario generar un fichero de coeficientes.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="ID_list = [3, 4]
time_interval = (utc2et(&quot;2022-01-01T12:00:00&quot;), utc2et(&quot;2023-01-01T00:00:00&quot;))
time_interval_list = fill(time_interval, 2)

create_coeffs_file(&quot;data/coeffs.json&quot;, &quot;data/coeffs.csv&quot;, ID_list, time_interval_list, &quot;header_data.json&quot;, &quot;data/time.csv&quot;)"><pre>ID_list <span class="pl-k">=</span> [<span class="pl-c1">3</span>, <span class="pl-c1">4</span>]
time_interval <span class="pl-k">=</span> (<span class="pl-c1">utc2et</span>(<span class="pl-s"><span class="pl-pds">"</span>2022-01-01T12:00:00<span class="pl-pds">"</span></span>), <span class="pl-c1">utc2et</span>(<span class="pl-s"><span class="pl-pds">"</span>2023-01-01T00:00:00<span class="pl-pds">"</span></span>))
time_interval_list <span class="pl-k">=</span> <span class="pl-c1">fill</span>(time_interval, <span class="pl-c1">2</span>)

<span class="pl-c1">create_coeffs_file</span>(<span class="pl-s"><span class="pl-pds">"</span>data/coeffs.json<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>data/coeffs.csv<span class="pl-pds">"</span></span>, ID_list, time_interval_list, <span class="pl-s"><span class="pl-pds">"</span>header_data.json<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>data/time.csv<span class="pl-pds">"</span></span>)</pre></div>
<p dir="auto">Una vez creado el fichero de coeficientes podemos generar una estructura del tipo BodyCoeffs para calcular el estado del cuerpo deseado.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Earth = BodyCoeffs(&quot;data/coeffs.json&quot;, &quot;data/coeffs.csv&quot;, 3, time_interval);
t = utc2et(&quot;2022-05-17T10:45:00&quot;)

Earth(t)"><pre>Earth <span class="pl-k">=</span> <span class="pl-c1">BodyCoeffs</span>(<span class="pl-s"><span class="pl-pds">"</span>data/coeffs.json<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>data/coeffs.csv<span class="pl-pds">"</span></span>, <span class="pl-c1">3</span>, time_interval);
t <span class="pl-k">=</span> <span class="pl-c1">utc2et</span>(<span class="pl-s"><span class="pl-pds">"</span>2022-05-17T10:45:00<span class="pl-pds">"</span></span>)

<span class="pl-c1">Earth</span>(t)</pre></div>
<h2 dir="auto"><a id="user-content-documentación" class="anchor" aria-hidden="true" href="#documentación"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Documentación</h2>
<p dir="auto">Para más información consultar la <a href="https://aitoriglesias.github.io/LittleEphemeris.jl/index.html" rel="nofollow">documentación</a>.</p>
</article></div>