<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-drakevisualizer" class="anchor" aria-hidden="true" href="#drakevisualizer"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>DrakeVisualizer</h1>
<p dir="auto"><a href="https://travis-ci.org/rdeits/DrakeVisualizer.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/dd9d76eb3b76bf3c82211add2f2a90295e4483458390ee2b9c1a94104ba45799/68747470733a2f2f7472617669732d63692e6f72672f7264656974732f4472616b6556697375616c697a65722e6a6c2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/rdeits/DrakeVisualizer.jl.svg?branch=master" style="max-width: 100%;"></a>
<a href="https://codecov.io/gh/rdeits/DrakeVisualizer.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/4a138e5d825119abc8f2701c06900e72f5385b8373a49cd656eccd1683bd107a/68747470733a2f2f636f6465636f762e696f2f67682f7264656974732f4472616b6556697375616c697a65722e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/rdeits/DrakeVisualizer.jl/branch/master/graph/badge.svg" style="max-width: 100%;"></a></p>
<hr>
<p dir="auto"><strong>Note:</strong> While this package should still work, active development has been moved to <a href="https://github.com/rdeits/MeshCat.jl">MeshCat.jl</a>, which offers more features and a much less complicated set of dependencies.</p>
<hr>
<p dir="auto">This package provides a Julia interface to the Drake Visualizer, part of the <a href="http://drake.mit.edu" rel="nofollow">Drake</a> project and built on top of <a href="https://github.com/RobotLocomotion/director">Director</a>, a highly customizable 3D interface for robotics visualization and interaction.</p>
<h1 dir="auto"><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h1>
<p dir="auto">DrakeVisualizer.jl uses <a href="https://github.com/JuliaLang/BinDeps.jl">BinDeps.jl</a> to try to automatically install an appropriate copy of Director for you. On Ubuntu (14.04 and higher) and macOS, this package will attempt to download the pre-built binaries of Director from <a href="http://people.csail.mit.edu/patmarion/software/director/" rel="nofollow">http://people.csail.mit.edu/patmarion/software/director/</a>. On other Linux platforms, it will compile Director from source. If you would like to force Director to build from source on any platform, just set the environment variable <code>DIRECTOR_BUILD_FROM_SOURCE=1</code>.</p>
<h2 dir="auto"><a id="user-content-dependencies" class="anchor" aria-hidden="true" href="#dependencies"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Dependencies</h2>
<p dir="auto">On Ubuntu (14.04 and up) and macOS, all of Director's dependencies will automatically be installed using BinDeps.jl. On other platforms, you'll need to provide them yourself. The required packages are available via <code>apt-get</code> as:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="libqt4-dev
libqt4-opengl-dev
python-numpy
python-dev"><pre class="notranslate"><code>libqt4-dev
libqt4-opengl-dev
python-numpy
python-dev
</code></pre></div>
<h1 dir="auto"><a id="user-content-troubleshooting" class="anchor" aria-hidden="true" href="#troubleshooting"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Troubleshooting</h1>
<p dir="auto">If you have issues with the Director application itself (like your geometry not showing up), you may have an out-of-date version of the Director binaries. To clear the downloaded binaries, you can run:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="julia&gt; DrakeVisualizer.delete_director_binaries()"><pre class="notranslate"><code>julia&gt; DrakeVisualizer.delete_director_binaries()
</code></pre></div>
<p dir="auto">After which you will need to re-download the binaries with:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="julia&gt; Pkg.build(&quot;DrakeVisualizer&quot;)"><pre class="notranslate"><code>julia&gt; Pkg.build("DrakeVisualizer")
</code></pre></div>
<h2 dir="auto"><a id="user-content-linux-configuring-large-udp-packets" class="anchor" aria-hidden="true" href="#linux-configuring-large-udp-packets"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Linux: Configuring Large UDP Packets</h2>
<p dir="auto"><code>DrakeVisualizer</code> uses <a href="http://lcm-proj.github.io/" rel="nofollow">LCM</a> for communication, and LCM uses UDP under the hood. Very large LCM messages (like those created when loading a robot with lots of mesh geometries) can result in UDP packets being dropped, which will result in you not seeing anything in the visualizer. If that happens to you, you'll need to follow the instructions in <a href="https://github.com/rdeits/DrakeVisualizer.jl/issues/19#issuecomment-267429751" data-hovercard-type="issue" data-hovercard-url="/rdeits/DrakeVisualizer.jl/issues/19/hovercard">this comment</a>. Edit <code>/etc/sysctl.conf</code> and add:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="net.core.rmem_max=2097152
net.core.rmem_default=2097152"><pre class="notranslate"><code>net.core.rmem_max=2097152
net.core.rmem_default=2097152
</code></pre></div>
<h1 dir="auto"><a id="user-content-launching-the-viewer" class="anchor" aria-hidden="true" href="#launching-the-viewer"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Launching the Viewer</h1>
<p dir="auto">You can launch the viewer application with</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="julia&gt; DrakeVisualizer.new_window()"><pre class="notranslate"><code>julia&gt; DrakeVisualizer.new_window()
</code></pre></div>
<p dir="auto">which is just a convenience wrapper around a call to the <code>drake-visualizer</code> executable, included in the <code>director</code> binaries or source installation.</p>
<h1 dir="auto"><a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Usage:</h1>
<p dir="auto">This package makes use of <a href="https://github.com/JuliaGeometry/GeometryTypes.jl">GeometryTypes.jl</a> to represent robot geometries and <a href="https://github.com/FugroRoames/CoordinateTransformations.jl">CoordinateTransformations.jl</a> to represent spatial transformations. Check out <a href="https://github.com/rdeits/DrakeVisualizer.jl/blob/master/demo.ipynb">demo.ipynb</a> for some examples of usage.</p>
<h2 dir="auto"><a id="user-content-geometric-primitives" class="anchor" aria-hidden="true" href="#geometric-primitives"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Geometric Primitives</h2>
<p dir="auto">Geometric primitives from GeometryTypes.jl can be visualized directly:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using DrakeVisualizer
using GeometryTypes
box = HyperRectangle(Vec(0.,0,0), Vec(1.,1,1))
model = Visualizer(box)"><pre><span class="pl-k">using</span> DrakeVisualizer
<span class="pl-k">using</span> GeometryTypes
box <span class="pl-k">=</span> <span class="pl-c1">HyperRectangle</span>(<span class="pl-c1">Vec</span>(<span class="pl-c1">0.</span>,<span class="pl-c1">0</span>,<span class="pl-c1">0</span>), <span class="pl-c1">Vec</span>(<span class="pl-c1">1.</span>,<span class="pl-c1">1</span>,<span class="pl-c1">1</span>))
model <span class="pl-k">=</span> <span class="pl-c1">Visualizer</span>(box)</pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://cloud.githubusercontent.com/assets/591886/19826370/3efea352-9d56-11e6-9d6b-695035c5baae.png"><img src="https://cloud.githubusercontent.com/assets/591886/19826370/3efea352-9d56-11e6-9d6b-695035c5baae.png" alt="box" style="max-width: 100%;"></a></p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="sphere = HyperSphere(Point(0., 0, 0), 1.0)
model = Visualizer(sphere)"><pre>sphere <span class="pl-k">=</span> <span class="pl-c1">HyperSphere</span>(<span class="pl-c1">Point</span>(<span class="pl-c1">0.</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>), <span class="pl-c1">1.0</span>)
model <span class="pl-k">=</span> <span class="pl-c1">Visualizer</span>(sphere)</pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://cloud.githubusercontent.com/assets/591886/19826371/414ebec6-9d56-11e6-99e3-73a3bad190b9.png"><img src="https://cloud.githubusercontent.com/assets/591886/19826371/414ebec6-9d56-11e6-99e3-73a3bad190b9.png" alt="sphere" style="max-width: 100%;"></a></p>
<p dir="auto">Once a Visualizer model has been created, it can be rendered at arbitrary positions and orientations:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using CoordinateTransformations
settransform!(model, Translation(1.0, 0.0, 0.0))"><pre><span class="pl-k">using</span> CoordinateTransformations
<span class="pl-c1">settransform!</span>(model, <span class="pl-c1">Translation</span>(<span class="pl-c1">1.0</span>, <span class="pl-c1">0.0</span>, <span class="pl-c1">0.0</span>))</pre></div>
<p dir="auto">DrakeVisualizer can also render mesh data:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using MeshIO
using FileIO
cat = load(joinpath(Pkg.dir(&quot;GeometryTypes&quot;), &quot;test&quot;, &quot;data&quot;, &quot;cat.obj&quot;))
Visualizer(cat)"><pre><span class="pl-k">using</span> MeshIO
<span class="pl-k">using</span> FileIO
cat <span class="pl-k">=</span> <span class="pl-c1">load</span>(<span class="pl-c1">joinpath</span>(Pkg<span class="pl-k">.</span><span class="pl-c1">dir</span>(<span class="pl-s"><span class="pl-pds">"</span>GeometryTypes<span class="pl-pds">"</span></span>), <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>data<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>cat.obj<span class="pl-pds">"</span></span>))
<span class="pl-c1">Visualizer</span>(cat)</pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://cloud.githubusercontent.com/assets/591886/19826425/faebbb9e-9d57-11e6-852f-71c91f9ff757.png"><img src="https://cloud.githubusercontent.com/assets/591886/19826425/faebbb9e-9d57-11e6-852f-71c91f9ff757.png" alt="cat mesh" style="max-width: 100%;"></a></p>
<p dir="auto">And it can even generate 3D contours from functions:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="# First, we'll define our function:
f = x -&gt; sum(sin, 5 * x)

# Then we pick a region of interest in which to sample the function.
# This region starts at (-1, -1, -1) and extends to (1, 1, 1):
lower_bound = Vec(-1.,-1,-1)
upper_bound = Vec(1., 1, 1)

# contour_mesh constructs a mesh representing an approximation of
# the surface in 3D space for which f(x) = 0
mesh = contour_mesh(f, lower_bound, upper_bound)
Visualizer(mesh)"><pre><span class="pl-c"><span class="pl-c">#</span> First, we'll define our function:</span>
f <span class="pl-k">=</span> x <span class="pl-k">-&gt;</span> <span class="pl-c1">sum</span>(sin, <span class="pl-c1">5</span> <span class="pl-k">*</span> x)

<span class="pl-c"><span class="pl-c">#</span> Then we pick a region of interest in which to sample the function.</span>
<span class="pl-c"><span class="pl-c">#</span> This region starts at (-1, -1, -1) and extends to (1, 1, 1):</span>
lower_bound <span class="pl-k">=</span> <span class="pl-c1">Vec</span>(<span class="pl-k">-</span><span class="pl-c1">1.</span>,<span class="pl-k">-</span><span class="pl-c1">1</span>,<span class="pl-k">-</span><span class="pl-c1">1</span>)
upper_bound <span class="pl-k">=</span> <span class="pl-c1">Vec</span>(<span class="pl-c1">1.</span>, <span class="pl-c1">1</span>, <span class="pl-c1">1</span>)

<span class="pl-c"><span class="pl-c">#</span> contour_mesh constructs a mesh representing an approximation of</span>
<span class="pl-c"><span class="pl-c">#</span> the surface in 3D space for which f(x) = 0</span>
mesh <span class="pl-k">=</span> <span class="pl-c1">contour_mesh</span>(f, lower_bound, upper_bound)
<span class="pl-c1">Visualizer</span>(mesh)</pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://cloud.githubusercontent.com/assets/591886/19826595/a1e09484-9d5c-11e6-9268-314059767224.png"><img src="https://cloud.githubusercontent.com/assets/591886/19826595/a1e09484-9d5c-11e6-9268-314059767224.png" alt="custom function contour mesh" style="max-width: 100%;"></a></p>
<p dir="auto">For more visualizations, including moving and rotating visualized elements, and visualizing the level sets of functions, check out <a href="https://github.com/rdeits/DrakeVisualizer.jl/blob/master/demo.ipynb">demo.ipynb</a>.</p>
</article></div>