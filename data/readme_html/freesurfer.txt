<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="docs/fsjl-logo-dark.png"><img src="docs/fsjl-logo-dark.png" width="400" style="max-width: 100%;"></a></p>
<h3 dir="auto"><a id="user-content-load-this-package" class="anchor" aria-hidden="true" href="#load-this-package"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Load this package</h3>
<p dir="auto">If you want julia (and this package) to use multi-threading for faster computation, you have to explicitly tell it to. You can do that either by starting julia  with <code>julia --thread auto</code>, or by setting the environment variable <code>JULIA_NUM_THREADS</code> to <code>auto</code> before starting julia. (This will use the total number of CPU threads available on your computer. Alternatively, you can specify a number of threads in place of <code>auto</code>.)</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; using FreeSurfer"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> FreeSurfer</pre></div>
<h3 dir="auto"><a id="user-content-read-mgh-mgz-nii-niigz-volumes" class="anchor" aria-hidden="true" href="#read-mgh-mgz-nii-niigz-volumes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Read .mgh, .mgz, .nii, .nii.gz volumes</h3>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; aa = mri_read(&quot;/usr/local/freesurfer/dev/subjects/fsaverage/mri/aparc+aseg.mgz&quot;);

julia&gt; fa = mri_read(&quot;/usr/local/freesurfer/dev/trctrain/hcp/MGH35_HCP_FA_template.nii.gz&quot;);"><pre>julia<span class="pl-k">&gt;</span> aa <span class="pl-k">=</span> <span class="pl-c1">mri_read</span>(<span class="pl-s"><span class="pl-pds">"</span>/usr/local/freesurfer/dev/subjects/fsaverage/mri/aparc+aseg.mgz<span class="pl-pds">"</span></span>);

julia<span class="pl-k">&gt;</span> fa <span class="pl-k">=</span> <span class="pl-c1">mri_read</span>(<span class="pl-s"><span class="pl-pds">"</span>/usr/local/freesurfer/dev/trctrain/hcp/MGH35_HCP_FA_template.nii.gz<span class="pl-pds">"</span></span>);</pre></div>
<h3 dir="auto"><a id="user-content-display-volume-and-header-summary-info-in-the-terminal" class="anchor" aria-hidden="true" href="#display-volume-and-header-summary-info-in-the-terminal"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Display volume and header summary info in the terminal</h3>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; disp(aa)

julia&gt; disp(fa)"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">disp</span>(aa)

julia<span class="pl-k">&gt;</span> <span class="pl-c1">disp</span>(fa)</pre></div>
<h3 dir="auto"><a id="user-content-display-a-slice-view-of-the-volume-in-a-pop-up-window" class="anchor" aria-hidden="true" href="#display-a-slice-view-of-the-volume-in-a-pop-up-window"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Display a slice view of the volume in a pop-up window</h3>
<p dir="auto">By default this will be an axial view, middle slice, first frame. See <code>?fs.show</code> for how to change what is displayed.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; show(aa)

julia&gt; show(fa)"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">show</span>(aa)

julia<span class="pl-k">&gt;</span> <span class="pl-c1">show</span>(fa)</pre></div>
<h3 dir="auto"><a id="user-content-write-mgh-mgz-nii-niigz-volumes" class="anchor" aria-hidden="true" href="#write-mgh-mgz-nii-niigz-volumes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Write .mgh, .mgz, .nii, .nii.gz volumes</h3>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; mri_write(aa, &quot;/tmp/aparc+aseg.nii.gz&quot;)

julia&gt; mri_write(fa, &quot;/tmp/MGH35_HCP_FA_template.mgz&quot;)"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">mri_write</span>(aa, <span class="pl-s"><span class="pl-pds">"</span>/tmp/aparc+aseg.nii.gz<span class="pl-pds">"</span></span>)

julia<span class="pl-k">&gt;</span> <span class="pl-c1">mri_write</span>(fa, <span class="pl-s"><span class="pl-pds">"</span>/tmp/MGH35_HCP_FA_template.mgz<span class="pl-pds">"</span></span>)</pre></div>
<h3 dir="auto"><a id="user-content-read-bruker-scan-directories" class="anchor" aria-hidden="true" href="#read-bruker-scan-directories"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Read Bruker scan directories</h3>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; ph = mri_read(&quot;/opt/nmrdata/PV-7.0.0/ayendiki/Phantom.cO1/5/&quot;);"><pre>julia<span class="pl-k">&gt;</span> ph <span class="pl-k">=</span> <span class="pl-c1">mri_read</span>(<span class="pl-s"><span class="pl-pds">"</span>/opt/nmrdata/PV-7.0.0/ayendiki/Phantom.cO1/5/<span class="pl-pds">"</span></span>);</pre></div>
<h3 dir="auto"><a id="user-content-read-a-trk-tractography-streamline-file" class="anchor" aria-hidden="true" href="#read-a-trk-tractography-streamline-file"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Read a .trk tractography streamline file</h3>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; tr = trk_read(&quot;/usr/local/freesurfer/dev/trctrain/hcp/mgh_1001/syn/acomm.bbr.prep.trk&quot;);"><pre>julia<span class="pl-k">&gt;</span> tr <span class="pl-k">=</span> <span class="pl-c1">trk_read</span>(<span class="pl-s"><span class="pl-pds">"</span>/usr/local/freesurfer/dev/trctrain/hcp/mgh_1001/syn/acomm.bbr.prep.trk<span class="pl-pds">"</span></span>);</pre></div>
<h3 dir="auto"><a id="user-content-write-a-trk-tractography-streamline-file" class="anchor" aria-hidden="true" href="#write-a-trk-tractography-streamline-file"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Write a .trk tractography streamline file</h3>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; trk_write(tr, &quot;/tmp/acomm.trk&quot;)"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">trk_write</span>(tr, <span class="pl-s"><span class="pl-pds">"</span>/tmp/acomm.trk<span class="pl-pds">"</span></span>)</pre></div>
<h3 dir="auto"><a id="user-content-tutorial" class="anchor" aria-hidden="true" href="#tutorial"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Tutorial</h3>
<p dir="auto"><a href="https://github.com/freesurfer/FreeSurfer.jl/blob/master/docs/tutorial.ipynb">A gentle introduction to diffusion MRI</a></p>
</article></div>