<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-promclientjl" class="anchor" aria-hidden="true" href="#promclientjl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>PromClient.jl</h1>
<p dir="auto">Lightweight Julia Implementation of a Prometheus Client for Julia services.</p>
<p dir="auto">At the moment it supports:</p>
<ul dir="auto">
<li>Gauge</li>
<li>Counter</li>
<li>Histogram</li>
</ul>
<h2 dir="auto"><a id="user-content-not-yet-supported-metric-types" class="anchor" aria-hidden="true" href="#not-yet-supported-metric-types"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Not yet supported Metric types:</h2>
<ul dir="auto">
<li>Summary</li>
</ul>
<h2 dir="auto"><a id="user-content-to-dos-in-future-not-yet-supported" class="anchor" aria-hidden="true" href="#to-dos-in-future-not-yet-supported"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>To Do's in future (not yet supported)</h2>
<ul dir="auto">
<li>Default System Metrics (CPU time, GC time, memory use etc.).</li>
<li>Decorators for code timers directly into metrics.</li>
</ul>
<p dir="auto">For further on metric types see <a href="https://prometheus.io/docs/concepts/metric_types/" rel="nofollow">https://prometheus.io/docs/concepts/metric_types/</a></p>
<h1 dir="auto"><a id="user-content-quick-start" class="anchor" aria-hidden="true" href="#quick-start"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Quick Start</h1>
<p dir="auto">See Tests for more detailed examples.</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="# Create a new metric. Defaults to int, use the vtype kwarg for other numeric types
julia&gt; metric1 = CounterMetric(&quot;test:Counter&quot;, &quot;Helpful Description String&quot;, [&quot;hostname&quot;, &quot;port&quot;, &quot;threadid&quot;])

# Increase/decrease/set/reset values. Counters only go up, gauges can go up or down
# Histograms use `observe` instead
# Note label values must be string
julia&gt; inc(metric1, [&quot;0.0.0.0&quot;, &quot;9001&quot;, string(Threads.threadid())]);  # adds 1
julia&gt; inc(metric1, [&quot;0.0.0.0&quot;, &quot;9002&quot;, &quot;-1&quot;], 10);  # adds 10

# Print output, uses the DEFAULT COLLECTOR
generate_latest_prom_metrics()"><pre class="notranslate"><code># Create a new metric. Defaults to int, use the vtype kwarg for other numeric types
julia&gt; metric1 = CounterMetric("test:Counter", "Helpful Description String", ["hostname", "port", "threadid"])

# Increase/decrease/set/reset values. Counters only go up, gauges can go up or down
# Histograms use `observe` instead
# Note label values must be string
julia&gt; inc(metric1, ["0.0.0.0", "9001", string(Threads.threadid())]);  # adds 1
julia&gt; inc(metric1, ["0.0.0.0", "9002", "-1"], 10);  # adds 10

# Print output, uses the DEFAULT COLLECTOR
generate_latest_prom_metrics()
</code></pre></div>
<p dir="auto">Which looks something like this:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="# HELP test:Counter Helpful Description String
# TYPE test:Counter counter
test:Counter{port=&quot;9001&quot;,hostname=&quot;0.0.0.0&quot;,threadid=&quot;1&quot;} 1
test:Counter{port=&quot;9002&quot;,hostname=&quot;0.0.0.0&quot;,threadid=&quot;-1&quot;} 10 "><pre class="notranslate"><code># HELP test:Counter Helpful Description String
# TYPE test:Counter counter
test:Counter{port="9001",hostname="0.0.0.0",threadid="1"} 1
test:Counter{port="9002",hostname="0.0.0.0",threadid="-1"} 10 
</code></pre></div>
<p dir="auto">See <a href="https://prometheus.io/docs/instrumenting/exposition_formats/#text-based-format" rel="nofollow">https://prometheus.io/docs/instrumenting/exposition_formats/#text-based-format</a> for more details on the required output format.</p>
</article></div>