<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1><a id="user-content-sounds" class="anchor" aria-hidden="true" href="#sounds"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Sounds</h1>
<p><a href="https://www.repostatus.org/#abandoned" rel="nofollow"><img src="https://camo.githubusercontent.com/95932b706b57130bb726bcf9b1f28908bfb678ab/68747470733a2f2f7777772e7265706f7374617475732e6f72672f6261646765732f6c61746573742f6162616e646f6e65642e737667" alt="Project Status: Abandoned â€“ Initial development has started, but there has not yet been a stable, usable release; the project has been abandoned and the author(s) do not intend on continuing development." data-canonical-src="https://www.repostatus.org/badges/latest/abandoned.svg" style="max-width:100%;"></a>
<a href="https://travis-ci.org/haberdashPI/Sounds.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/9b7e6ef54bdd7c3f739fa41f0b77300ae9342992/68747470733a2f2f7472617669732d63692e6f72672f68616265726461736850492f536f756e64732e6a6c2e7376673f6272616e63683d6d6173746572" alt="TravisCI Status" data-canonical-src="https://travis-ci.org/haberdashPI/Sounds.jl.svg?branch=master" style="max-width:100%;"></a>
<a href="https://codecov.io/gh/haberdashPI/Sounds.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/980a467ff904f458827d6545769b66811da1611a/68747470733a2f2f636f6465636f762e696f2f67682f68616265726461736850492f536f756e64732e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/haberdashPI/Sounds.jl/branch/master/graph/badge.svg" style="max-width:100%;"></a>
<a href="https://haberdashPI.github.io/Sounds.jl/stable" rel="nofollow"><img src="https://camo.githubusercontent.com/f7b92a177c912c1cc007fc9b40f17ff3ee3bb414/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d737461626c652d626c75652e737667" alt="" data-canonical-src="https://img.shields.io/badge/docs-stable-blue.svg" style="max-width:100%;"></a>
<a href="https://haberdashPI.github.io/Sounds.jl/latest" rel="nofollow"><img src="https://camo.githubusercontent.com/57bae07ecd50a99519ad0516d91f4ec8f0f48e12/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6c61746573742d626c75652e737667" alt="" data-canonical-src="https://img.shields.io/badge/docs-latest-blue.svg" style="max-width:100%;"></a></p>
<p><strong>NOTE</strong>: This package is being renamed and move to a new repository <a href="https://github.com/haberdashPI/SignalOperators.jl">SignalOperators</a>. This version of the repository is for Julia 0.6 and lower.</p>
<p>Sounds is a <a href="https://julialang.org/" rel="nofollow">Julia</a> package that aims to provide a clean interface for generating and manipulating sounds.</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> Sounds

<span class="pl-c"><span class="pl-c">#</span> create a pure tone 20 dB below a power 1 signal</span>
sound1 <span class="pl-k">=</span> <span class="pl-c1">tone</span>(<span class="pl-c1">1</span>kHz,<span class="pl-c1">5</span>s) <span class="pl-k">|&gt;</span> normpower <span class="pl-k">|&gt;</span> <span class="pl-c1">amplify</span>(<span class="pl-k">-</span><span class="pl-c1">20</span>dB)

<span class="pl-c"><span class="pl-c">#</span> load a sound from a file, matching the power to that of sound1</span>
sound2 <span class="pl-k">=</span> <span class="pl-c1">Sound</span>(<span class="pl-s"><span class="pl-pds">"</span>mysound.wav<span class="pl-pds">"</span></span>) <span class="pl-k">|&gt;</span> normpower <span class="pl-k">|&gt;</span> <span class="pl-c1">amplify</span>(<span class="pl-k">-</span><span class="pl-c1">20</span>dB)

<span class="pl-c"><span class="pl-c">#</span> create a 1kHz sawtooth wave </span>
sound3 <span class="pl-k">=</span> <span class="pl-c1">Sound</span>(t <span class="pl-k">-&gt;</span> <span class="pl-c1">1000</span>t <span class="pl-k">.%</span> <span class="pl-c1">1</span>,<span class="pl-c1">2</span>s) <span class="pl-k">|&gt;</span> normpower

<span class="pl-c"><span class="pl-c">#</span> create a 5Hz amplitude modulated noise</span>
sound4 <span class="pl-k">=</span> <span class="pl-c1">noise</span>(<span class="pl-c1">2</span>s) <span class="pl-k">|&gt;</span> <span class="pl-c1">envelope</span>(<span class="pl-c1">tone</span>(<span class="pl-c1">5</span>Hz,<span class="pl-c1">2</span>s)) <span class="pl-k">|&gt;</span> normpower

<span class="pl-c"><span class="pl-c">#</span> create 1kHz tone surrounded by a notch noise</span>
SNR <span class="pl-k">=</span> <span class="pl-c1">5</span>dB
x <span class="pl-k">=</span> <span class="pl-c1">tone</span>(<span class="pl-c1">1</span>kHz,<span class="pl-c1">1</span>s) <span class="pl-k">|&gt;</span> ramp <span class="pl-k">|&gt;</span> normpower <span class="pl-k">|&gt;</span> <span class="pl-c1">amplify</span>(<span class="pl-k">-</span><span class="pl-c1">20</span>dB <span class="pl-k">+</span> SNR)
y <span class="pl-k">=</span> <span class="pl-c1">noise</span>(<span class="pl-c1">1</span>s) <span class="pl-k">|&gt;</span> <span class="pl-c1">bandstop</span>(<span class="pl-c1">0.5</span>kHz,<span class="pl-c1">2</span>kHz) <span class="pl-k">|&gt;</span> normpower <span class="pl-k">|&gt;</span>
  <span class="pl-c1">amplify</span>(<span class="pl-k">-</span><span class="pl-c1">20</span>dB)
scene <span class="pl-k">=</span> <span class="pl-c1">mix</span>(x,y)</pre></div>
<p>Once you've created a sound you can save it or use
<a href="https://github.com/JuliaAudio/PortAudio.jl">PortAudio.jl</a> to play it.</p>
<div class="highlight highlight-source-julia"><pre>sound1 <span class="pl-k">=</span> <span class="pl-c1">tone</span>(<span class="pl-c1">1</span>kHz,<span class="pl-c1">5</span>s) <span class="pl-k">|&gt;</span> normpower <span class="pl-k">|&gt;</span> <span class="pl-c1">amplify</span>(<span class="pl-k">-</span><span class="pl-c1">20</span>dB)
<span class="pl-c1">save</span>(<span class="pl-s"><span class="pl-pds">"</span>puretone.wav<span class="pl-pds">"</span></span>,sound1)

<span class="pl-k">using</span> PortAudio
<span class="pl-c1">play</span>(sound1)</pre></div>
<p>Sounds work much like arrays, and in addition to the normal ways of indexing an
array, you can access the channels by name (<code>:left</code> and <code>:right</code>) and you can
access time slices using <a href="https://github.com/ajkeller34/Unitful.jl">Untiful.jl</a>
values and <a href="https://github.com/JuliaMath/IntervalSets.jl">IntervalSets.jl</a>. For
example:</p>
<div class="highlight highlight-source-julia"><pre>sound1[<span class="pl-c1">1</span>s <span class="pl-k">..</span> <span class="pl-c1">2</span>s,<span class="pl-c1">:left</span>]
sound1[<span class="pl-c1">3</span>s <span class="pl-k">..</span> ends,<span class="pl-c1">:right</span>]
sound1[<span class="pl-c1">200</span>ms <span class="pl-k">..</span> <span class="pl-c1">500</span>ms]
sound1[<span class="pl-c1">:right</span>]
<span class="pl-c1">leftright</span>(sound1[<span class="pl-c1">0</span>s <span class="pl-k">..</span> <span class="pl-c1">1</span>s,<span class="pl-c1">:left</span>],sound2[<span class="pl-c1">1</span>s <span class="pl-k">..</span> <span class="pl-c1">2</span>s,<span class="pl-c1">:right</span>])</pre></div>
<p>Because sounds have well defined promotion semantics, when working with multiple
sounds, things "just work". Specifically, if the sounds have a different number
of channels, a different sampling rate or different bit rate, the sounds are
first promoted to the highest fidelity representation, and then the given method
is applied over the promoted representation.</p>
<p>See the <a href="https://haberdashPI.github.io/Sounds.jl/latest" rel="nofollow">documentation</a> for a complete
description of available methods.</p>
<h1><a id="user-content-alternative-solutions" class="anchor" aria-hidden="true" href="#alternative-solutions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Alternative Solutions</h1>
<p>There are two other ways you might represent sounds in Julia,
<a href="https://github.com/JuliaArrays/AxisArrays.jl">AxisArrays.jl</a> and
<a href="https://github.com/JuliaAudio/SampledSignals.jl">SampledSignals.jl</a>. A lot of
the ideas for this package came from these two packages (thanks!). Here are some
of the ways that a <code>Sound</code> differs from these other solutions.</p>
<p><code>SampledSignals</code> vs. <code>Sounds</code>:</p>
<ol>
<li><code>SampledSignals</code> does not include the various sound manipulation routines
available in <code>Sounds</code>. This was the primary motivation for the present package.
<code>Sound</code> objects were designed to make these manipulation routines easy to define.</li>
<li>In <code>SampledSignals</code> automatic conversion is handled with I/O sinks
and sources. In <code>Sounds</code>, I use the standard type promotion mechanism.</li>
<li><code>Sounds</code> uses more recent packages for representing units and intervals of time.</li>
<li><code>SampledSignals</code> has a more ambitious scope, and seeks to represent many
kinds of signals in multiple domains, not just sounds in their time-amplitude
representation.</li>
</ol>
<p><code>AxisArray</code> vs. <code>Sounds</code>:</p>
<ol>
<li>An <code>AxisArray</code> must have its dimensions explicitly specified
during construction. <code>Sounds</code> knows what the axes for a sound should be.</li>
<li>There is no automatic promotion of the sample rate or channel number when using
an <code>AxisArray</code>.</li>
<li>The methods defined on an <code>AxisArray</code> are not defined for a <code>Sound</code>
(e.g. axes, axisnames, etc...).</li>
<li>Unlike indexing  into a <code>Sound</code>, there is no <code>ends</code> defined for an <code>AxisArray</code>;
you must explicitly calculate the duration of the array when indexing by
time.</li>
</ol>
<p>If you want to use either of these other packages with <code>Sounds</code>, many of the
sound manipulation routines provided here are written generically enough to
handle any type (though some routines will promote the output to a <code>Sound</code>). If
you construct a sound using this package you can easily convert it to one of
these other types, or vice versa, by calling an appropriate constructor.
(e.g. <code>SampleBuf(tone(1kHz,1s))</code>, <code>Sound(samplebuf)</code>, <code>AxisArray(sound)</code>). Bear
in mind that <code>SampledSignals</code> exports some symbols that conflict with <code>Sounds</code>
(e.g. last time I checked it uses an older approach for representing units and
exports conflicting symbosl for these units), so it is probably best to <code>import</code>
Sounds or SampledSignals and employ <code>using</code> on the other.</p>
<h1><a id="user-content-status" class="anchor" aria-hidden="true" href="#status"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Status</h1>
<p>I use this package all the time in other projects, so it should be pretty bug free. However, it is not yet well integrated into the rest of the ecosystem in Julia for working with audio. I'm in the process of thinking through how to do that with this <a href="https://github.com/JuliaAudio/SampledSignals.jl/issues/29">issue</a>.</p>
</article></div>