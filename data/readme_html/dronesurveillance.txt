<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-dronesurveillancejl" class="anchor" aria-hidden="true" href="#dronesurveillancejl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>DroneSurveillance.jl</h1>
<p dir="auto"><a href="https://github.com/JuliaPOMDP/DroneSurveillance.jl/actions"><img src="https://github.com/JuliaPOMDP/DroneSurveillance.jl/workflows/CI/badge.svg" alt="Build status" style="max-width: 100%;"></a>
<a href="https://codecov.io/gh/juliapomdp/DroneSurveillance.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/015e5283a48fd8313a3b475697f8cd859e2160e9929acd73d48356e7116f67d8/68747470733a2f2f636f6465636f762e696f2f67682f6a756c6961706f6d64702f44726f6e655375727665696c6c616e63652e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/juliapomdp/DroneSurveillance.jl/branch/master/graph/badge.svg" style="max-width: 100%;"></a></p>
<p dir="auto">Implementation of a drone surveillance problem<sup>1</sup> with the <a href="https://github.com/JuliaPOMDP/POMDPs.jl">POMDPs.jl</a>.</p>
<p dir="auto"><sup>1</sup> M. Svoreňová, M. Chmelík, K. Leahy, H. F. Eniser, K. Chatterjee, I. Černá, C. Belta, "
Temporal logic motion planning using POMDPs with parity objectives: case study paper", <em>International Conference on Hybrid Systems: Computation and Control (HSCC)</em>, 2015.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="drone_surveillance.gif"><img src="drone_surveillance.gif" alt="drone_surveillance.gif" data-animated-image="" style="max-width: 100%;"></a></p>
<h2 dir="auto"><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using Pkg
Pkg.add(PackageSpec(url=&quot;https://github.com/JuliaPOMDP/DroneSurveillance.jl&quot;))"><pre><span class="pl-k">using</span> Pkg
Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-c1">PackageSpec</span>(url<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>https://github.com/JuliaPOMDP/DroneSurveillance.jl<span class="pl-pds">"</span></span>))</pre></div>
<h2 dir="auto"><a id="user-content-example" class="anchor" aria-hidden="true" href="#example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Example</h2>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using DroneSurveillance
using POMDPs

# import a solver from POMDPs.jl e.g. SARSOP
using SARSOP

# for visualization
using POMDPGifs
import Cairo

pomdp = DroneSurveillancePOMDP() # initialize the problem 

solver = SARSOPSolver(precision=1e-3) # configure the solver

policy = solve(solver, pomdp) # solve the problem

makegif(pomdp, policy, filename=&quot;out.gif&quot;)"><pre><span class="pl-k">using</span> DroneSurveillance
<span class="pl-k">using</span> POMDPs

<span class="pl-c"><span class="pl-c">#</span> import a solver from POMDPs.jl e.g. SARSOP</span>
<span class="pl-k">using</span> SARSOP

<span class="pl-c"><span class="pl-c">#</span> for visualization</span>
<span class="pl-k">using</span> POMDPGifs
<span class="pl-k">import</span> Cairo

pomdp <span class="pl-k">=</span> <span class="pl-c1">DroneSurveillancePOMDP</span>() <span class="pl-c"><span class="pl-c">#</span> initialize the problem </span>

solver <span class="pl-k">=</span> <span class="pl-c1">SARSOPSolver</span>(precision<span class="pl-k">=</span><span class="pl-c1">1e-3</span>) <span class="pl-c"><span class="pl-c">#</span> configure the solver</span>

policy <span class="pl-k">=</span> <span class="pl-c1">solve</span>(solver, pomdp) <span class="pl-c"><span class="pl-c">#</span> solve the problem</span>

<span class="pl-c1">makegif</span>(pomdp, policy, filename<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>out.gif<span class="pl-pds">"</span></span>)</pre></div>
<h2 dir="auto"><a id="user-content-problem-description" class="anchor" aria-hidden="true" href="#problem-description"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Problem Description</h2>
<p dir="auto">A drone must survey two region (in green) while avoiding to fly over a ground agent. The drone has a limited field of view.</p>
<ul dir="auto">
<li>
<p dir="auto"><strong>States</strong>: position of the drone and the agent in the grid world</p>
</li>
<li>
<p dir="auto"><strong>Actions</strong>: Moving up, down, left, right, or hovering over the current cell.</p>
</li>
<li>
<p dir="auto"><strong>Transition model</strong>: The drone moves deterministically to the desired cell depending on the action chosen. The agent follows a random policy, it can stay in the same cell or move to a neighboring cell with equal probability. In addition the agent cannot enter the area to survey.</p>
</li>
<li>
<p dir="auto"><strong>Observation model</strong>: if the agent is in the field of view of the drone, the drone observes the position of the agent within its field of view with probability 1, otherwise it does not observe the agent (value <code>OUT</code>).</p>
</li>
<li>
<p dir="auto"><strong>Initial state</strong>: the drone starts in the bottom left corner, the agent is initialized outside the field of view of the drone.</p>
</li>
<li>
<p dir="auto"><strong>Reward model</strong>: a naive reward model is implemented, the drone receives +1 for reaching the second area to survey, and -1 if it flies over the ground agent.</p>
</li>
</ul>
<h3 dir="auto"><a id="user-content-dronesurveillancepomdp-parameters" class="anchor" aria-hidden="true" href="#dronesurveillancepomdp-parameters"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><code>DroneSurveillancePOMDP</code> Parameters</h3>
<ul dir="auto">
<li>constructor: <code>DroneSurveillancePOMDP(kwargs...)</code></li>
<li>keyword arguments:
<ul dir="auto">
<li><code>size::Tuple{Int64, Int64} = (5,5)</code> size of the grid world</li>
<li><code>region_A::DSPos = [1, 1]</code> first region to survey, initial state of the quad</li>
<li><code>region_B::DSPos = [size[1], size[2]]</code> second region to survey</li>
<li><code>fov::Tuple{Int64, Int64} = (3, 3)</code> size of the field of view of the drone</li>
<li><code>agent_policy::Symbol = :random</code> policy of the other agent, only random is implemented</li>
<li><code>terminal_state::DSState = DSState([-1, -1], [-1, -1])</code> a sentinel state to encode terminal states</li>
<li><code>discount_factor::Float64 = 0.95</code> the discount factor</li>
</ul>
</li>
</ul>
<h3 dir="auto"><a id="user-content-internal-types" class="anchor" aria-hidden="true" href="#internal-types"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Internal types:</h3>
<ul dir="auto">
<li><code>DSPos</code> represents a position in the grid as a static array of 2 integers</li>
<li><code>DSState</code> represents the state of the environment, the field <code>quad</code> represents the position of the drone and the file <code>agent</code> the position of the ground agent</li>
</ul>
</article></div>