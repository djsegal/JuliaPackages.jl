<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1><a id="user-content-detrended-cross-correlation-analysis" class="anchor" aria-hidden="true" href="#detrended-cross-correlation-analysis"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Detrended Cross-Correlation Analysis</h1>
<p>A module to perform <strong>DCCA coefficients</strong> analysis. The coefficient <code>rho</code> describes the <strong>correlation strength</strong> between two <strong>time-series</strong> depending on <strong>time scales</strong>. It lies in [-1, 1], 1 being perfect correlations, and -1 perfect anticorrelations.<br>
The package provides also functions returning a 95% confidence interval for the null-hypothesis (= "no-correlations").</p>
<table>
<thead>
<tr>
<th align="center"><strong>Travis</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><a href="https://travis-ci.com/johncwok/DCCA.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/ec56ea2f720d265351323f3759e0e4d3f0598bde87b97be23e868738a22eb5dc/68747470733a2f2f7472617669732d63692e636f6d2f6a6f686e63776f6b2f444343412e6a6c2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.com/johncwok/DCCA.jl.svg?branch=master" style="max-width:100%;"></a></td>
</tr>
</tbody>
</table>
<p>The implementation is based on
Zebende G, Et al. <em>DCCA cross-correlation coefficient differentiation: Theoretical and practical approaches</em> (2013), and was tested by reproducing the results of <em>DCCA and DMCA correlations of cryptocurrency markets</em> (2020) from Paulo Ferreira, et al.</p>
<h2><a id="user-content-perform-a-dcca-coefficients-computation" class="anchor" aria-hidden="true" href="#perform-a-dcca-coefficients-computation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Perform a DCCA coefficients computation:</h2>
<p>To compute DCCA coefficients, call the <code>rhoDCCA</code> function like: <code>pts, rho = rhoDCCA(timeSeries1, timeSeries2)</code>. It has the following parameters:</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="rhoDCCA(timeSeries1, timeSeries2; box_start = 3, box_stop = div(length(series1),10), nb_pts = 30, order = 1)
"><pre><span class="pl-c1">rhoDCCA</span>(timeSeries1, timeSeries2; box_start <span class="pl-k">=</span> <span class="pl-c1">3</span>, box_stop <span class="pl-k">=</span> <span class="pl-c1">div</span>(<span class="pl-c1">length</span>(series1),<span class="pl-c1">10</span>), nb_pts <span class="pl-k">=</span> <span class="pl-c1">30</span>, order <span class="pl-k">=</span> <span class="pl-c1">1</span>)</pre></div>
<p><strong>Input arguments</strong>:</p>
<ul>
<li><strong>timeSeries1, timeSeries2</strong> (<a href="https://docs.julialang.org/en/v1/base/arrays/" rel="nofollow">Array{Float64,1}</a>): Time series to analyse, need to be of the <strong>same length</strong>.</li>
<li><strong>box_start, box_stop</strong> (<a href="https://docs.julialang.org/en/v1/manual/integers-and-floating-point-numbers/" rel="nofollow">Int</a>): Start and end point of the analysis. defaults respectively to 3 (the minimal possible time-scale) and 1/10th of the data length (passed this size the variance gets large).</li>
<li><strong>nb_pts</strong> (<a href="https://docs.julialang.org/en/v1/manual/integers-and-floating-point-numbers/" rel="nofollow">Int</a>): Number of points to carry the analysis onto. mostly relevant for plotting.</li>
<li><strong>order</strong>  (<a href="https://docs.julialang.org/en/v1/manual/integers-and-floating-point-numbers/" rel="nofollow">Int</a>): Order of the polynomial to use for detrending. If not given, defaults to 1 (linear detrending). If <code>order</code> is too high, overfitting can happen, impacting the results.</li>
</ul>
<p><strong>Returns</strong>:</p>
<ul>
<li><strong>pts</strong> (<a href="https://docs.julialang.org/en/v1/base/arrays/" rel="nofollow">Array{Int,1}</a>): List of points (time-scales) where the analysis is carried out.</li>
<li><strong>rho</strong> (<a href="https://docs.julialang.org/en/v1/base/arrays/" rel="nofollow">Array{Float64,1}</a>): Value of the DCCA coefficient at each points in <code>pts</code>.</li>
</ul>
<h2><a id="user-content-get-the-95-confidence-interval" class="anchor" aria-hidden="true" href="#get-the-95-confidence-interval"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Get the 95% confidence interval</h2>
<p>As a rule of thumb : values of <code>rho</code> in [-0.1,0.1] usually aren't significant.</p>
<p>The confidence intervals provided by this package correspond to the <strong>null-hypothesis</strong> i.e <strong>no correlations</strong>. If <code>rho</code> gets <strong>outside</strong> of this interval it can be considered <strong>significant</strong>.</p>
<p>To get a fast estimation of the confidence interval, call the <code>empirical_CI</code> function like: <code>pts, ci = empirical_CI(dataLength)</code>.</p>
<p>For a more accurate estimation, you can call <code>bootstrap_CI</code>: <code>pts, ci = bootstrap_CI(timeSeries1, timeSeries2; iterations = 200)</code>. This operation is much more demanding and can take up to several minutes. The <code>iterations</code> argument controls the number of repetitions for the bootstrap procedure, the higher the value, the smoother and cleaner the estimation will be, but it will also take longer.</p>
<h2><a id="user-content-example-of-simple-analysis" class="anchor" aria-hidden="true" href="#example-of-simple-analysis"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Example of simple analysis:</h2>
<p>calling the DCCA function with random white noise</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="julia&gt; x1 = rand(2000); x2 = rand(2000)
x,y = rhoDCCA(x1,x2)
pts, ci = empirical_CI(length(x1))
"><pre>julia<span class="pl-k">&gt;</span> x1 <span class="pl-k">=</span> <span class="pl-c1">rand</span>(<span class="pl-c1">2000</span>); x2 <span class="pl-k">=</span> <span class="pl-c1">rand</span>(<span class="pl-c1">2000</span>)
x,y <span class="pl-k">=</span> <span class="pl-c1">rhoDCCA</span>(x1,x2)
pts, ci <span class="pl-k">=</span> <span class="pl-c1">empirical_CI</span>(<span class="pl-c1">length</span>(x1))</pre></div>
<p>Gave the following plot :</p>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="a = scatter(x,y, markersize = 7, xscale = :log, title = &quot;Example of DCCA analysis : \n Correlations between two white noise time series&quot;, label = &quot;rho coefficients&quot;, xlabel = &quot;window sizes&quot;, ylabel = &quot;Correlation strengh&quot;)
plot!(a,pts,ci, color = &quot;red&quot;, linestyle = :dot, label = &quot;limits of null-hypothesis&quot;)
plot!(a,pts,-ci, color = &quot;red&quot;, linestyle = :dot, label = &quot;&quot;)
display(a)
"><pre>a <span class="pl-k">=</span> <span class="pl-c1">scatter</span>(x,y, markersize <span class="pl-k">=</span> <span class="pl-c1">7</span>, xscale <span class="pl-k">=</span> <span class="pl-c1">:log</span>, title <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Example of DCCA analysis : <span class="pl-cce">\n</span> Correlations between two white noise time series<span class="pl-pds">"</span></span>, label <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>rho coefficients<span class="pl-pds">"</span></span>, xlabel <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>window sizes<span class="pl-pds">"</span></span>, ylabel <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Correlation strengh<span class="pl-pds">"</span></span>)
<span class="pl-c1">plot!</span>(a,pts,ci, color <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>red<span class="pl-pds">"</span></span>, linestyle <span class="pl-k">=</span> <span class="pl-c1">:dot</span>, label <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>limits of null-hypothesis<span class="pl-pds">"</span></span>)
<span class="pl-c1">plot!</span>(a,pts,<span class="pl-k">-</span>ci, color <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>red<span class="pl-pds">"</span></span>, linestyle <span class="pl-k">=</span> <span class="pl-c1">:dot</span>, label <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>)
<span class="pl-c1">display</span>(a)</pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/34754896/71250144-34804000-231f-11ea-912b-d2bdbacfd22b.JPG"><img src="https://user-images.githubusercontent.com/34754896/71250144-34804000-231f-11ea-912b-d2bdbacfd22b.JPG" width="600" style="max-width:100%;"></a></p>
As noted previously, the value here lies in [-0.1,0.1] although we took here 2 series of white uncorrelated noise.
<h2><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation:</h2>
<div class="highlight highlight-source-julia position-relative" data-snippet-clipboard-copy-content="julia&gt; Using Pkg
Pkg.add(&quot;DCCA&quot;)
"><pre>julia<span class="pl-k">&gt;</span> Using Pkg
Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-s"><span class="pl-pds">"</span>DCCA<span class="pl-pds">"</span></span>)</pre></div>
<h2><a id="user-content-to-do" class="anchor" aria-hidden="true" href="#to-do"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>To-do:</h2>
<ul>
<li>implement spline detrending?</li>
</ul>
</article></div>