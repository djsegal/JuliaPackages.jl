<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-griddingmachinejl" class="anchor" aria-hidden="true" href="#griddingmachinejl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>GriddingMachine.jl</h1>

<h2 dir="auto"><a id="user-content-credits" class="anchor" aria-hidden="true" href="#credits"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Credits</h2>
<p dir="auto">Please cite our paper(s) when you use GriddingMachine:</p>
<ul dir="auto">
<li>Y. Wang, P. Köhler, R. K. Braghiere, M. Longo, R. Doughty, A. A. Bloom, and C. Frankenberg. 2022.
GriddingMachine, a database and software for Earth system modeling at global and regional scales.
Scientific Data. 9: 258.
<a href="https://doi.org/10.1038/s41597-022-01346-x" rel="nofollow">DOI</a></li>
</ul>
<h2 dir="auto"><a id="user-content-about" class="anchor" aria-hidden="true" href="#about"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>About</h2>
<p dir="auto"><a href="https://github.com/CliMA/GriddingMachine.jl"><code>GriddingMachine.jl</code></a> includes a collection of global canopy propertie. To best utilize <code>Pkg.Artifacts</code> and FTP storage, <a href="https://github.com/CliMA/GriddingMachine.jl"><code>GriddingMachine.jl</code></a> only supports julia 1.6 and above.</p>
<table>
<thead>
<tr>
<th align="left">Documentation</th>
<th align="left">CI Status</th>
<th align="left">Compatibility</th>
<th align="left">Code Coverage</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="https://CliMA.github.io/GriddingMachine.jl/dev/" rel="nofollow"><img src="https://camo.githubusercontent.com/7fcec4b2d3ab291529fce8ef6a4fcd4129a0683b2f5d5fe2f5c648f02db8b616/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6465762d626c75652e737667" alt="" data-canonical-src="https://img.shields.io/badge/docs-dev-blue.svg" style="max-width: 100%;"></a></td>
<td align="left"><a href="https://github.com/CliMA/GriddingMachine.jl/actions?query=branch%3A%22main%22++workflow%3A%22JuliaStable%22"><img src="https://github.com/CliMA/GriddingMachine.jl/workflows/JuliaStable/badge.svg?branch=main" alt="" style="max-width: 100%;"></a></td>
<td align="left"><a href="https://github.com/CliMA/GriddingMachine.jl/actions?query=branch%3A%22main%22++workflow%3A%22Julia-1.6%22"><img src="https://github.com/CliMA/GriddingMachine.jl/workflows/Julia-1.6/badge.svg?branch=main" alt="" style="max-width: 100%;"></a></td>
<td align="left"><a href="https://codecov.io/gh/CliMA/GriddingMachine.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/58b7a930bce3b157c3dc7e65b17abf478ffa41e2eafbd08ba90ddb6133ee0fda/68747470733a2f2f636f6465636f762e696f2f67682f436c694d412f4772696464696e674d616368696e652e6a6c2f6272616e63682f6d61696e2f67726170682f62616467652e737667" alt="" data-canonical-src="https://codecov.io/gh/CliMA/GriddingMachine.jl/branch/main/graph/badge.svg" style="max-width: 100%;"></a></td>
</tr>
</tbody>
</table>
<h2 dir="auto"><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; using Pkg;
julia&gt; Pkg.add(&quot;GriddingMachine&quot;);"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> Pkg;
julia<span class="pl-k">&gt;</span> Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-s"><span class="pl-pds">"</span>GriddingMachine<span class="pl-pds">"</span></span>);</pre></div>
<h2 dir="auto"><a id="user-content-api" class="anchor" aria-hidden="true" href="#api"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>API</h2>
<p dir="auto">GriddingMachine has the following sub-modules, some of which are in development. The sub-modules are</p>
<table>
<thead>
<tr>
<th align="left">Sub-module</th>
<th align="left">Functionality</th>
<th align="left">Ready to use</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Blender</td>
<td align="left">Regrid the gridded datasets</td>
<td align="left">Testing</td>
</tr>
<tr>
<td align="left">Collector</td>
<td align="left">Distribute the gridded datasets</td>
<td align="left">v0.2</td>
</tr>
<tr>
<td align="left">Fetcher</td>
<td align="left">Download ungridded datasets</td>
<td align="left">Testing</td>
</tr>
<tr>
<td align="left">Indexer</td>
<td align="left">Read the gridded datasets</td>
<td align="left">v0.2</td>
</tr>
<tr>
<td align="left">Partitioner</td>
<td align="left">Sort the ungridded datasets</td>
<td align="left">Testing</td>
</tr>
<tr>
<td align="left">Requestor</td>
<td align="left">Request gridded datasets</td>
<td align="left">v0.2</td>
</tr>
</tbody>
</table>
<p dir="auto">See <a href="https://CliMA.github.io/GriddingMachine.jl/stable/API/" rel="nofollow"><code>API</code></a> for more detailed information about how to use <a href="https://github.com/CliMA/GriddingMachine.jl"><code>GriddingMachine.jl</code></a>.</p>
<p dir="auto">To automatically download and query the file path of the dataset, use</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; using GriddingMachine.Collector;
julia&gt; file_path = query_collection(&quot;VCMAX_2X_1Y_V1&quot;);"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> GriddingMachine<span class="pl-k">.</span>Collector;
julia<span class="pl-k">&gt;</span> file_path <span class="pl-k">=</span> <span class="pl-c1">query_collection</span>(<span class="pl-s"><span class="pl-pds">"</span>VCMAX_2X_1Y_V1<span class="pl-pds">"</span></span>);</pre></div>
<p dir="auto">To request a partial dataset from the server without download the entire dataset, use</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; using GriddingMachine.Requestor;
julia&gt; dat,std = request_LUT(&quot;VCMAX_2X_1Y_V1&quot;, 35.1, 115.2);
julia&gt; dat,std = request_LUT(&quot;VCMAX_2X_1Y_V1&quot;, 35.1, 115.2; interpolation=true);"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> GriddingMachine<span class="pl-k">.</span>Requestor;
julia<span class="pl-k">&gt;</span> dat,std <span class="pl-k">=</span> <span class="pl-c1">request_LUT</span>(<span class="pl-s"><span class="pl-pds">"</span>VCMAX_2X_1Y_V1<span class="pl-pds">"</span></span>, <span class="pl-c1">35.1</span>, <span class="pl-c1">115.2</span>);
julia<span class="pl-k">&gt;</span> dat,std <span class="pl-k">=</span> <span class="pl-c1">request_LUT</span>(<span class="pl-s"><span class="pl-pds">"</span>VCMAX_2X_1Y_V1<span class="pl-pds">"</span></span>, <span class="pl-c1">35.1</span>, <span class="pl-c1">115.2</span>; interpolation<span class="pl-k">=</span><span class="pl-c1">true</span>);</pre></div>
<h2 dir="auto"><a id="user-content-other-language-supports" class="anchor" aria-hidden="true" href="#other-language-supports"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Other language supports</h2>
<table>
<thead>
<tr>
<th align="left">Language</th>
<th align="left">Link to Github repository</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Matlab</td>
<td align="left"><a href="https://github.com/Yujie-W/octave-griddingmachine">octave-griddingmachine</a></td>
</tr>
<tr>
<td align="left">Octave</td>
<td align="left"><a href="https://github.com/Yujie-W/octave-griddingmachine">octave-griddingmachine</a></td>
</tr>
<tr>
<td align="left">R</td>
<td align="left"><a href="https://github.com/Yujie-W/r-griddingmachine">r-griddingmachine</a></td>
</tr>
<tr>
<td align="left">Python</td>
<td align="left"><a href="https://github.com/Yujie-W/python-griddingmachine">python-griddingmachine</a></td>
</tr>
</tbody>
</table>
<h2 dir="auto"><a id="user-content-data-contribution" class="anchor" aria-hidden="true" href="#data-contribution"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Data contribution</h2>
<p dir="auto">We welcome the contribution of global scale datasets to <code>GriddingMachine.jl</code>. To maximally promote data reuse, we ask data owners to preprocess your datasets before sharing with us, the requirements
are:</p>
<ul dir="auto">
<li>The dataset is stored in a NetCDF file</li>
<li>The dataset is either a 2D or 3D array</li>
<li>The dataset is cylindrically projected (WGS84 projection)</li>
<li>The first dimension of the dataset is longitude</li>
<li>The second dimension of the dataset is latitude</li>
<li>The third dimension (if available) is the cycle index, e.g., time</li>
<li>The longitude is oriented from west to east hemisphere (-180° to 180°)</li>
<li>The latitude is oriented from south to north hemisphere (-90° to 90°)</li>
<li>The dataset covers the entire globe (missing data allowed)</li>
<li>Missing data is labeled as NaN (not a number) rather than an unrealistic fill value</li>
<li>The dataset is not scaled (linearly, exponentially, or logarithmically)</li>
<li>The dataset has common units, such as μmol m⁻² s⁻¹ for maximum carboxylation rate</li>
<li>The spatial resolution is uniform longitudinally and latitudinally, e.g., both at 1/2°</li>
<li>The spatial resolution is an integer division of 1°, such as 1/2°, 1/12°, 1/240°</li>
<li>Each grid cell represents the average value of everything inside the grid cell area (as opposing to a single point in the middle of the cell)</li>
<li>The label for the data is "data" (for conveniently loading the data)</li>
<li>The label for the error is "std" (for conveniently loading the error)</li>
<li>The dataset must contain one data array and one error array besides the dimensions</li>
<li>The dataset contains citation information in the attributes</li>
<li>The dataset contains a log summarizing changes if different from original source</li>
</ul>
<p dir="auto">The reprocessed NetCDF file should contain (only) the following fields:</p>
<table>
<thead>
<tr>
<th align="left">Field</th>
<th align="left">Dimension</th>
<th align="left">Description</th>
<th align="left">Attributes</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">lon</td>
<td align="left">1D</td>
<td align="left">Longitude in the center of a grid</td>
<td align="left">unit</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">description</td>
</tr>
<tr>
<td align="left">lat</td>
<td align="left">1D</td>
<td align="left">Latitude in the center of a grid</td>
<td align="left">unit</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">description</td>
</tr>
<tr>
<td align="left">ind</td>
<td align="left">1D</td>
<td align="left">Cycle index (for 3D data only)</td>
<td align="left">unit</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">description</td>
</tr>
<tr>
<td align="left">data</td>
<td align="left">2D/3D</td>
<td align="left">Data in the center of a grid</td>
<td align="left">longname</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">unit</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">about</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">authors</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">year</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">title</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">journal</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">doi</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">changeN</td>
</tr>
<tr>
<td align="left">std</td>
<td align="left">2D/3D</td>
<td align="left">Error of data in the center of a grid</td>
<td align="left">same as data</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p dir="auto">For data contributors who have limited knowledge about Github and Julia, we recommend to contribute your reprocessed data to us by tag an issue via the button
<a href="https://github.com/CliMA/GriddingMachine.jl/issues">New issue</a> in the Issues Tab. See an example table <a href="https://github.com/CliMA/GriddingMachine.jl/issues/62#issuecomment-1097063134" data-hovercard-type="issue" data-hovercard-url="/CliMA/GriddingMachine.jl/issues/62/hovercard">here</a>. See
<a href="https://docs.google.com/document/d/1Q1M9SZAG_domwy8Awe5iFNZRv53RDkNG29qVuQQFYG4/edit?usp=sharing" rel="nofollow">this google doc</a> for an example of this data reprocessing and deployment.</p>
<p dir="auto">For data contributors who are experienced Github and Julia users, we also welcome that your contribution of code directly. See this <a href="https://github.com/CliMA/GriddingMachine.jl/pull/68" data-hovercard-type="pull_request" data-hovercard-url="/CliMA/GriddingMachine.jl/pull/68/hovercard">pull request</a>
for an example of the pull request.</p>
</article></div>