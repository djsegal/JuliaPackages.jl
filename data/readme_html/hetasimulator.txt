<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><p dir="auto"><a href="https://hetalang.github.io/" rel="nofollow"><img src="https://camo.githubusercontent.com/e9cda848b36c3fd17d03517f68ac443be0600524b13527e6deb25af74fbf17f4/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f2543442542312d486574615f70726f6a6563742d626c7565" alt="Heta project" data-canonical-src="https://img.shields.io/badge/%CD%B1-Heta_project-blue" style="max-width: 100%;"></a>
<a href="https://juliahub.com/ui/Packages/HetaSimulator/IIE0h" rel="nofollow"><img src="https://camo.githubusercontent.com/64aa2b2894a6623120fbeba9b00ef9bade7755bc625b55645ad903a371252e6d/68747470733a2f2f6a756c69616875622e636f6d2f646f63732f4865746153696d756c61746f722f76657273696f6e2e737667" alt="version" data-canonical-src="https://juliahub.com/docs/HetaSimulator/version.svg" style="max-width: 100%;"></a>
<a href="https://GitHub.com/hetalang/HetaSimulator.jl/issues/"><img src="https://camo.githubusercontent.com/9a474cc7a30fb422f9c2ac530ae6386ab625c578b3235c9655f7386b52fc821f/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6973737565732f686574616c616e672f4865746153696d756c61746f722e6a6c2e737667" alt="GitHub issues" data-canonical-src="https://img.shields.io/github/issues/hetalang/HetaSimulator.jl.svg" style="max-width: 100%;"></a>
<a href="https://coveralls.io/github/hetalang/HetaSimulator.jl?branch=master" rel="nofollow"><img src="https://camo.githubusercontent.com/1cf4863dda61d7785f1a497868a484c1305e2098055f451343ec0189e1d3ac21/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f686574616c616e672f4865746153696d756c61746f722e6a6c2f62616467652e7376673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/github/hetalang/HetaSimulator.jl/badge.svg?branch=master" style="max-width: 100%;"></a>
<a href="https://hetalang.github.io/HetaSimulator.jl/dev" rel="nofollow"><img src="https://camo.githubusercontent.com/80750b8b77e6c95b35221c96914003ec222b68a64b0d719ec610adc664435b4b/68747470733a2f2f696d672e736869656c64732e696f2f776562736974653f646f776e5f636f6c6f723d79656c6c6f77266c6162656c3d6170692d646f63732675705f636f6c6f723d677265656e2675726c3d6874747073253341253246253246686574616c616e672e6769746875622e696f2532464865746153696d756c61746f722e6a6c253246646576253246" alt="api-docs" data-canonical-src="https://img.shields.io/website?down_color=yellow&amp;label=api-docs&amp;up_color=green&amp;url=https%3A%2F%2Fhetalang.github.io%2FHetaSimulator.jl%2Fdev%2F" style="max-width: 100%;"></a>
<a href="https://github.com/hetalang/HetaSimulator.jl/blob/master/LICENSE"><img src="https://camo.githubusercontent.com/4b5b9bce3cb2888aeb51400b5a43b7614883ac88d57f0ff469d546bc98c30e4f/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f686574616c616e672f4865746153696d756c61746f722e6a6c2e737667" alt="GitHub license" data-canonical-src="https://img.shields.io/github/license/hetalang/HetaSimulator.jl.svg" style="max-width: 100%;"></a></p>
<h1 dir="auto"><a id="user-content-hetasimulator" class="anchor" aria-hidden="true" href="#hetasimulator"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>HetaSimulator</h1>
<p dir="auto"><strong>HetaSimulator</strong> is an OpenSource simulation and parameters estimation (fitting) platform for the <a href="https://hetalang.github.io/#/" rel="nofollow">Heta modeling language</a>.
The main purpose of the package is to establish the linkage between emerging <a href="https://en.wikipedia.org/wiki/Quantitative_systems_pharmacology" rel="nofollow">QSP frameworks</a> and fast computational methods (parallel simulations, automatic differentiation, etc.).</p>
<p dir="auto">The latest documentation can be found here: <a href="https://hetalang.github.io/HetaSimulator.jl/dev/" rel="nofollow">https://hetalang.github.io/HetaSimulator.jl/dev/</a>.</p>
<p dir="auto">See the <a href="./roadmap.md">ROAD MAP</a> for future implementations.</p>
<h2 dir="auto"><a id="user-content-introduction" class="anchor" aria-hidden="true" href="#introduction"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Introduction</h2>
<p dir="auto">Heta language is a domain-specific modeling language (DSL) for dynamic models used in quantitative systems pharmacology (QSP) and systems biology (SB). The Heta code and the tables can be translated into <a href="https://hetalang.github.io/#/heta-compiler/?id=supported-tools" rel="nofollow">variety of formats</a> like Simbiology, Matlab, mrgsolve, DBSolve and many others.</p>
<p dir="auto">This package provides the simulation engines for the Heta-based models and modeling platforms to be run in Julia. A QSP model can be directly run using the HetaSimulator without additional tools. The ODE system in general form can also be run with HetaSimulator.</p>
<p dir="auto">Internally HetaSimulator utilizes the facilities of OpenSource projects like <a href="https://julialang.org/" rel="nofollow">Julia</a> and <a href="https://sciml.ai/" rel="nofollow">SciML ecosystem</a>.</p>
<h2 dir="auto"><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<p dir="auto">It is assumed that you have <strong>Julia</strong> installed. The latest Julia release can be downloaded from <a href="https://julialang.org/downloads/" rel="nofollow">julialang.org</a></p>
<p dir="auto">To install or update HetaSimulator and Heta compiler run the code below in Julia environment:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; ]
(@v1.6) pkg&gt; add HetaSimulator"><pre>julia<span class="pl-k">&gt;</span> ]
(<span class="pl-c1">@v1</span>.<span class="pl-c1">6</span>) pkg<span class="pl-k">&gt;</span> add HetaSimulator</pre></div>
<p dir="auto">Internally HetaSimulator uses Heta compiler.
Sometimes it is required to update the compiler's version.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="# update heta compiler for v0.6.10
julia&gt; heta_update(&quot;0.6.10&quot;) "><pre><span class="pl-c"><span class="pl-c">#</span> update heta compiler for v0.6.10</span>
julia<span class="pl-k">&gt;</span> <span class="pl-c1">heta_update</span>(<span class="pl-s"><span class="pl-pds">"</span>0.6.10<span class="pl-pds">"</span></span>) </pre></div>
<h2 dir="auto"><a id="user-content-basic-usage" class="anchor" aria-hidden="true" href="#basic-usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Basic usage</h2>
<p dir="auto">Create a model in Heta format or use your Heta-based platform.
Here we will use the example with a simple model with two species and one reaction.</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="// index.heta file in directory &quot;my_project&quot;
comp1 @Compartment .= 1.5;

s1 @Species {compartment: comp1, output: true} .= 12;
s2 @Species {compartment: comp1, output: true} .= 0;

r1 @Reaction {actors: s1 =&gt; s2, output: true} := k1 * s1 * comp1;

k1 @Const = 1e-3;"><pre lang="heta" class="notranslate"><code>// index.heta file in directory "my_project"
comp1 @Compartment .= 1.5;

s1 @Species {compartment: comp1, output: true} .= 12;
s2 @Species {compartment: comp1, output: true} .= 0;

r1 @Reaction {actors: s1 =&gt; s2, output: true} := k1 * s1 * comp1;

k1 @Const = 1e-3;
</code></pre></div>
<p dir="auto"><em>To read more about Heta code read <a href="https://hetalang.github.io/#/specifications/" rel="nofollow">Heta specifications</a></em></p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using HetaSimulator, Plots

# set the absolute or relative path to the project directory
platform = load_platform(&quot;./my_project&quot;)
# wait for the platform compilation...

# get the base Heta model
model = platform.models[:nameless]

# single simulation and plot
results = Scenario(model, (0., 1200.)) |&gt; sim
plot(results)"><pre><span class="pl-k">using</span> HetaSimulator, Plots

<span class="pl-c"><span class="pl-c">#</span> set the absolute or relative path to the project directory</span>
platform <span class="pl-k">=</span> <span class="pl-c1">load_platform</span>(<span class="pl-s"><span class="pl-pds">"</span>./my_project<span class="pl-pds">"</span></span>)
<span class="pl-c"><span class="pl-c">#</span> wait for the platform compilation...</span>

<span class="pl-c"><span class="pl-c">#</span> get the base Heta model</span>
model <span class="pl-k">=</span> platform<span class="pl-k">.</span>models[<span class="pl-c1">:nameless</span>]

<span class="pl-c"><span class="pl-c">#</span> single simulation and plot</span>
results <span class="pl-k">=</span> <span class="pl-c1">Scenario</span>(model, (<span class="pl-c1">0.</span>, <span class="pl-c1">1200.</span>)) <span class="pl-k">|&gt;</span> sim
<span class="pl-c1">plot</span>(results)</pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/hetalang/HetaSimulator.jl/master/plot0.png"><img src="https://raw.githubusercontent.com/hetalang/HetaSimulator.jl/master/plot0.png" alt="Plot" style="max-width: 100%;"></a></p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="# transform results to data frame
df = DataFrame(results)
...
9×4 DataFrame
 Row │ t             s1        s2           scope  
     │ Float64       Float64   Float64      Symbol 
─────┼─────────────────────────────────────────────
   1 │    0.0555525  11.9993   0.000666611  ode_
   2 │    0.611077   11.9927   0.00733069   ode_"><pre><span class="pl-c"><span class="pl-c">#</span> transform results to data frame</span>
df <span class="pl-k">=</span> <span class="pl-c1">DataFrame</span>(results)
<span class="pl-k">...</span>
<span class="pl-c1">9</span><span class="pl-k">×</span><span class="pl-c1">4</span> DataFrame
 Row │ t             s1        s2           scope  
     │ Float64       Float64   Float64      Symbol 
─────┼─────────────────────────────────────────────
   <span class="pl-c1">1</span> │    <span class="pl-c1">0.0555525</span>  <span class="pl-c1">11.9993</span>   <span class="pl-c1">0.000666611</span>  ode_
   <span class="pl-c1">2</span> │    <span class="pl-c1">0.611077</span>   <span class="pl-c1">11.9927</span>   <span class="pl-c1">0.00733069</span>   ode_</pre></div>
<p dir="auto"><em>To read more about available functions, see the <a href="https://hetalang.github.io/HetaSimulator.jl/dev/" rel="nofollow">documentation</a></em></p>
<h2 dir="auto"><a id="user-content-getting-help" class="anchor" aria-hidden="true" href="#getting-help"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Getting help</h2>
<ul dir="auto">
<li>Read the <a href="https://hetalang.github.io/HetaSimulator.jl/dev/" rel="nofollow">docs</a></li>
<li>Use <a href="https://gitter.im/hetalang/community?utm_source=readme" rel="nofollow">Gitter Chatroom</a>.</li>
<li>Use <a href="https://github.com/hetalang/HetaSimulator.jl/issues">Issue Tracker</a></li>
</ul>
<h2 dir="auto"><a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Contributing</h2>
<ul dir="auto">
<li><a href="https://github.com/hetalang/HetaSimulator.jl">Source Code</a></li>
<li><a href="https://github.com/hetalang/HetaSimulator.jl/issues">Issue Tracker</a></li>
<li>See also contributing in <a href="https://hetalang.github.io/#/CONTRIBUTING" rel="nofollow">Heta project</a></li>
</ul>
<h2 dir="auto"><a id="user-content-license" class="anchor" aria-hidden="true" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>License</h2>
<p dir="auto">This package is distributed under the terms of the <a href="./LICENSE">MIT License</a>.</p>
<p dir="auto">Copyright 2020-2022, InSysBio LLC</p>
</article></div>