<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-cachepath" class="anchor" aria-hidden="true" href="#cachepath"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>CachePath</h1>
<p dir="auto"><a href="https://github.com/jlapeyre/CachePath.jl/actions/workflows/CI.yml?query=branch%3Amain"><img src="https://github.com/jlapeyre/CachePath.jl/actions/workflows/CI.yml/badge.svg?branch=main" alt="Build Status" style="max-width: 100%;"></a>
<a href="https://codecov.io/gh/jlapeyre/CachePath.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/adb6d1b601467cdd212d51f75b78bd5dd64141189420946c61404e47ec79796b/68747470733a2f2f636f6465636f762e696f2f67682f6a6c6170657972652f4361636865506174682e6a6c2f6272616e63682f6d61696e2f67726170682f62616467652e737667" alt="Coverage" data-canonical-src="https://codecov.io/gh/jlapeyre/CachePath.jl/branch/main/graph/badge.svg" style="max-width: 100%;"></a></p>
<p dir="auto"><code>CachePath</code> allows temporarily using a depot for saving and loading precompiled cache (<code>.ji</code>) files.</p>
<p dir="auto">If you have ever been frustrated in trying to store and load precompiled caches from a particular
location by manipulating <code>DEPOT_PATH[1]</code>, then <code>CachePath</code> might solve your problem.
<code>CachePath</code> does not work by manipulating <code>DEPOT_PATH</code> or any other list of paths. Rather,
<code>CachePath.require</code> is a copy of <code>Base.require</code> (which is called by <code>using</code> and <code>import</code>) that takes
an additional argument, a depot path. This depot path is only valid during that call,
and only for the package <code>require</code>d.
Other lists of paths, including <code>DEPOT_PATH</code> and <code>LOAD_PATH</code> are ignored during this
call. The source and caches for other packages, (eg. dependencies) will be searched
in the usual way, with the special depot path playing no role.</p>
<p dir="auto">The only symbol exported from CachePath is <code>@cpimport</code>.</p>
<h3 dir="auto"><a id="user-content-macro-cpimport" class="anchor" aria-hidden="true" href="#macro-cpimport"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Macro <code>@cpimport</code></h3>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="@cpimport module depot_path::AbstractString"><pre class="notranslate"><code>@cpimport module depot_path::AbstractString
</code></pre></div>
<p dir="auto">Import <code>module</code> using <code>depot_path</code> to store and retrieve the precompile
cache. Precompile caches existing elsewhere are ignored.</p>
<p dir="auto">The semantics of <code>@cpimport</code> probably differ from those of <code>import</code> in
other ways.</p>
<h6 dir="auto"><a id="user-content-examples" class="anchor" aria-hidden="true" href="#examples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Examples:</h6>
<p dir="auto">Import the module <code>Example</code> using "./newdepot" for storing and retrieving
the precompile cache.</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="julia&gt; @cpimport Example &quot;./newdepot&quot;"><pre class="notranslate"><code>julia&gt; @cpimport Example "./newdepot"
</code></pre></div>
<p dir="auto">Import <code>Example</code> inside another module</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="module NewMod
using CachePath

@cpimport Example &quot;./depot1&quot;

end"><pre class="notranslate"><code>module NewMod
using CachePath

@cpimport Example "./depot1"

end
</code></pre></div>
<h3 dir="auto"><a id="user-content-functions" class="anchor" aria-hidden="true" href="#functions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Functions</h3>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="CachePath.require(package::AbstractString, depot_path::AbstractString)
CachePath.require(package::Base.PkgId, depot_path::AbstractString)"><pre class="notranslate"><code>CachePath.require(package::AbstractString, depot_path::AbstractString)
CachePath.require(package::Base.PkgId, depot_path::AbstractString)
</code></pre></div>
<p dir="auto">Load <code>package</code> and store the cached precompile file in the depot specified
by <code>depot_path</code>. If it does not exist, <code>depot_path</code> is created. If the
cached precompiled file is found in <code>depot_path</code>, then it is loaded.</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="CachePath.require(into::Module, module::Symbol, depot_path::AbstractString)"><pre class="notranslate"><code>CachePath.require(into::Module, module::Symbol, depot_path::AbstractString)
</code></pre></div>
<p dir="auto">This is almost a copy of the function in <code>Base</code> with the same signature. It
is called by <code>@cpimport</code></p>
<h3 dir="auto"><a id="user-content-examples-1" class="anchor" aria-hidden="true" href="#examples-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Examples</h3>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="const Example = CachePath.require(&quot;Example&quot;, &quot;./a_depot&quot;)"><pre><span class="pl-k">const</span> Example <span class="pl-k">=</span> CachePath<span class="pl-k">.</span><span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">"</span>Example<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>./a_depot<span class="pl-pds">"</span></span>)</pre></div>
</article></div>