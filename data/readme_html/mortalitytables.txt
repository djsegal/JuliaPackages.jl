<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-mortalitytables" class="anchor" aria-hidden="true" href="#mortalitytables"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>MortalityTables</h1>
<p dir="auto"><a href="https://JuliaActuary.github.io/MortalityTables.jl/stable" rel="nofollow"><img src="https://camo.githubusercontent.com/c97f0a5f2ae95755f64a27f1aa8d9a17462941fd3d6c907c7630abd5d3e60acf/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d737461626c652d626c75652e737667" alt="Stable" data-canonical-src="https://img.shields.io/badge/docs-stable-blue.svg" style="max-width: 100%;"></a>
<a href="https://JuliaActuary.github.io/MortalityTables.jl/dev" rel="nofollow"><img src="https://camo.githubusercontent.com/7fcec4b2d3ab291529fce8ef6a4fcd4129a0683b2f5d5fe2f5c648f02db8b616/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6465762d626c75652e737667" alt="Dev" data-canonical-src="https://img.shields.io/badge/docs-dev-blue.svg" style="max-width: 100%;"></a>
<a href="https://github.com/JuliaActuary/MortalityTables.jl/actions?query=workflow%3ACI"><img src="https://github.com/JuliaActuary/MortalityTables.jl/workflows/CI/badge.svg" alt="CI" style="max-width: 100%;"></a>
<a href="https://codecov.io/gh/JuliaActuary/MortalityTables.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/683bab884dda6551a72dec5f88e2f4ea252c237b65649658fa7ab8d2a2666a12/68747470733a2f2f636f6465636f762e696f2f67682f4a756c6961416374756172792f4d6f7274616c6974795461626c65732e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/JuliaActuary/MortalityTables.jl/branch/master/graph/badge.svg" style="max-width: 100%;"></a>
<a href="https://www.tidyverse.org/lifecycle/" rel="nofollow"><img src="https://camo.githubusercontent.com/5ec0d0db8f3620ff195adc221400e92093621d81dfeeddffeff7e0a52bcdd435/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6966654379636c652d537461626c652d677265656e" alt="lifecycle" data-canonical-src="https://img.shields.io/badge/LifeCycle-Stable-green" style="max-width: 100%;"></a></p>
<p dir="auto">A Julia package for working with MortalityTables. Has:</p>
<ul dir="auto">
<li>Full set of SOA mort.soa.org tables included</li>
<li><code>survival</code> and <code>decrement</code> functions to calculate decrements over period of time</li>
<li>Partial year mortality calculations (Uniform, Constant, Balducci)</li>
<li>Friendly syntax and flexible usage</li>
<li>Extensive set of parametric mortality models.</li>
</ul>
<h2 dir="auto"><a id="user-content-on-this-page" class="anchor" aria-hidden="true" href="#on-this-page"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>On this Page:</h2>
<ul dir="auto">
<li><a href="#examples">Examples</a>
<ul dir="auto">
<li><a href="#quickstart">Quickstart</a></li>
<li><a href="#quickly-access-and-compare-tables">Quickly access and compare tables</a></li>
<li><a href="#scaling-and-capping-rates">Scaling and capping rates</a></li>
</ul>
</li>
<li><a href="#fractional-years">Fractional Years</a></li>
<li><a href="#Tables">Tables</a>
<ul dir="auto">
<li><a href="#mortsoaorg-tables">mort.SOA.org Tables</a></li>
<li><a href="#from-csv">From CSV</a></li>
<li><a href="#from-XTbML">From XTbML</a></li>
<li><a href="#custom-tables">Custom Tables</a></li>
</ul>
</li>
<li><a href="#parameterized-models">Parameterized Models</a></li>
</ul>
<h2 dir="auto"><a id="user-content-examples" class="anchor" aria-hidden="true" href="#examples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Examples</h2>
<h3 dir="auto"><a id="user-content-quickstart" class="anchor" aria-hidden="true" href="#quickstart"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Quickstart</h3>
<p dir="auto">Load and see information about a particular table:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; vbt2001 = MortalityTables.table(&quot;2001 VBT Residual Standard Select and Ultimate - Male Nonsmoker, ANB&quot;)
MortalityTable (Insured Lives Mortality):
   Name:
       2001 VBT Residual Standard Select and Ultimate - Male Nonsmoker, ANB
   Fields:
       (:select, :ultimate, :metadata)
   Provider:
       Society of Actuaries
   mort.SOA.org ID:
       1118
   mort.SOA.org link:
       https://mort.soa.org/ViewTable.aspx?&amp;TableIdentity=1118
   Description:
       2001 Valuation Basic Table (VBT) Residual Standard Select and Ultimate Table -  Male Nonsmoker.
       Basis: Age Nearest Birthday. 
       Minimum Select Age: 0. 
       Maximum Select Age: 99. 
       Minimum Ultimate Age: 25. 
       Maximum Ultimate Age: 120"><pre>julia<span class="pl-k">&gt;</span> vbt2001 <span class="pl-k">=</span> MortalityTables<span class="pl-k">.</span><span class="pl-c1">table</span>(<span class="pl-s"><span class="pl-pds">"</span>2001 VBT Residual Standard Select and Ultimate - Male Nonsmoker, ANB<span class="pl-pds">"</span></span>)
MortalityTable (Insured Lives Mortality)<span class="pl-k">:</span>
   Name<span class="pl-k">:</span>
       <span class="pl-c1">2001</span> VBT Residual Standard Select and Ultimate <span class="pl-k">-</span> Male Nonsmoker, ANB
   Fields<span class="pl-k">:</span>
       (<span class="pl-c1">:select</span>, <span class="pl-c1">:ultimate</span>, <span class="pl-c1">:metadata</span>)
   Provider<span class="pl-k">:</span>
       Society of Actuaries
   mort<span class="pl-k">.</span>SOA<span class="pl-k">.</span>org ID<span class="pl-k">:</span>
       <span class="pl-c1">1118</span>
   mort<span class="pl-k">.</span>SOA<span class="pl-k">.</span>org link<span class="pl-k">:</span>
       https<span class="pl-k">:</span><span class="pl-k">//</span>mort<span class="pl-k">.</span>soa<span class="pl-k">.</span>org<span class="pl-k">/</span>ViewTable<span class="pl-k">.</span>aspx?<span class="pl-k">&amp;</span>TableIdentity<span class="pl-k">=</span><span class="pl-c1">1118</span>
   Description<span class="pl-k">:</span>
       <span class="pl-c1">2001</span> Valuation Basic Table (VBT) Residual Standard Select and Ultimate Table <span class="pl-k">-</span>  Male Nonsmoker.
       Basis<span class="pl-k">:</span> Age Nearest Birthday. 
       Minimum Select Age<span class="pl-k">:</span> <span class="pl-c1">0.</span> 
       Maximum Select Age<span class="pl-k">:</span> <span class="pl-c1">99.</span> 
       Minimum Ultimate Age<span class="pl-k">:</span> <span class="pl-c1">25.</span> 
       Maximum Ultimate Age<span class="pl-k">:</span> <span class="pl-c1">120</span></pre></div>
<p dir="auto">The package revolves around easy-to-access vectors which are indexed by attained age:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; vbt2001.select[35]          # vector of rates for issue age 35
 0.00036
 0.00048
 ⋮
 0.94729
 1.0
 
julia&gt; vbt2001.select[35][35]      # issue age 35, attained age 35
 0.00036
 
julia&gt; vbt2001.select[35][50:end] # issue age 35, attained age 50 through end of table
0.00316
0.00345
 ⋮
0.94729
1.0

julia&gt; vbt2001.ultimate[95]        # ultimate vectors only need to be called with the attained age
 0.24298"><pre>julia<span class="pl-k">&gt;</span> vbt2001<span class="pl-k">.</span>select[<span class="pl-c1">35</span>]          <span class="pl-c"><span class="pl-c">#</span> vector of rates for issue age 35</span>
 <span class="pl-c1">0.00036</span>
 <span class="pl-c1">0.00048</span>
 ⋮
 <span class="pl-c1">0.94729</span>
 <span class="pl-c1">1.0</span>
 
julia<span class="pl-k">&gt;</span> vbt2001<span class="pl-k">.</span>select[<span class="pl-c1">35</span>][<span class="pl-c1">35</span>]      <span class="pl-c"><span class="pl-c">#</span> issue age 35, attained age 35</span>
 <span class="pl-c1">0.00036</span>
 
julia<span class="pl-k">&gt;</span> vbt2001<span class="pl-k">.</span>select[<span class="pl-c1">35</span>][<span class="pl-c1">50</span><span class="pl-k">:</span><span class="pl-c1">end</span>] <span class="pl-c"><span class="pl-c">#</span> issue age 35, attained age 50 through end of table</span>
<span class="pl-c1">0.00316</span>
<span class="pl-c1">0.00345</span>
 ⋮
<span class="pl-c1">0.94729</span>
<span class="pl-c1">1.0</span>

julia<span class="pl-k">&gt;</span> vbt2001<span class="pl-k">.</span>ultimate[<span class="pl-c1">95</span>]        <span class="pl-c"><span class="pl-c">#</span> ultimate vectors only need to be called with the attained age</span>
 <span class="pl-c1">0.24298</span></pre></div>
<p dir="auto">Calculate the force of mortality or survival over a range of time:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; survival(vbt2001.ultimate,30,40) # the survival between ages 30 and 40
0.9894404665434904

julia&gt; decrement(vbt2001.ultimate,30,40) # the decrement between ages 30 and 40
0.010559533456509618"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">survival</span>(vbt2001<span class="pl-k">.</span>ultimate,<span class="pl-c1">30</span>,<span class="pl-c1">40</span>) <span class="pl-c"><span class="pl-c">#</span> the survival between ages 30 and 40</span>
<span class="pl-c1">0.9894404665434904</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">decrement</span>(vbt2001<span class="pl-k">.</span>ultimate,<span class="pl-c1">30</span>,<span class="pl-c1">40</span>) <span class="pl-c"><span class="pl-c">#</span> the decrement between ages 30 and 40</span>
<span class="pl-c1">0.010559533456509618</span></pre></div>
<p dir="auto">Non-whole periods of time are supported when you specify the assumption (<code>Constant()</code>, <code>Uniform()</code>, or <code>Balducci()</code>) for fractional periods:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; survival(vbt2001.ultimate,30,40.5,Uniform()) # the survival between ages 30 and 40.5
0.9887676470262408"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">survival</span>(vbt2001<span class="pl-k">.</span>ultimate,<span class="pl-c1">30</span>,<span class="pl-c1">40.5</span>,<span class="pl-c1">Uniform</span>()) <span class="pl-c"><span class="pl-c">#</span> the survival between ages 30 and 40.5</span>
<span class="pl-c1">0.9887676470262408</span></pre></div>
<h3 dir="auto"><a id="user-content-quickly-access-and-compare-tables" class="anchor" aria-hidden="true" href="#quickly-access-and-compare-tables"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Quickly access and compare tables</h3>
<p dir="auto">This example shows how to develop a visual comparison of rates from scratch, but you may be interested in <a href="#mortality-table-comparison-tool">this pre-built tool</a> for this purpose.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using MortalityTables, Plots


cso_2001 = MortalityTables.table(&quot;2001 CSO Super Preferred Select and Ultimate - Male Nonsmoker, ANB&quot;)
cso_2017 = MortalityTables.table(&quot;2017 Loaded CSO Preferred Structure Nonsmoker Super Preferred Male ANB&quot;)

issue_age = 80
mort = [
	cso_2001.select[issue_age][issue_age:end],
	cso_2017.select[issue_age][issue_age:end],
	     ]
plot(
	   mort,
	   label = [&quot;2001 CSO&quot; &quot;2017 CSO&quot;],
	   title = &quot;Comparison of 2107 and 2001 CSO \n for SuperPref NS 80-year-old male&quot;,
	   xlabel=&quot;duration&quot;)"><pre><span class="pl-k">using</span> MortalityTables, Plots


cso_2001 <span class="pl-k">=</span> MortalityTables<span class="pl-k">.</span><span class="pl-c1">table</span>(<span class="pl-s"><span class="pl-pds">"</span>2001 CSO Super Preferred Select and Ultimate - Male Nonsmoker, ANB<span class="pl-pds">"</span></span>)
cso_2017 <span class="pl-k">=</span> MortalityTables<span class="pl-k">.</span><span class="pl-c1">table</span>(<span class="pl-s"><span class="pl-pds">"</span>2017 Loaded CSO Preferred Structure Nonsmoker Super Preferred Male ANB<span class="pl-pds">"</span></span>)

issue_age <span class="pl-k">=</span> <span class="pl-c1">80</span>
mort <span class="pl-k">=</span> [
	cso_2001<span class="pl-k">.</span>select[issue_age][issue_age<span class="pl-k">:</span><span class="pl-c1">end</span>],
	cso_2017<span class="pl-k">.</span>select[issue_age][issue_age<span class="pl-k">:</span><span class="pl-c1">end</span>],
	     ]
<span class="pl-c1">plot</span>(
	   mort,
	   label <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">"</span>2001 CSO<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>2017 CSO<span class="pl-pds">"</span></span>],
	   title <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Comparison of 2107 and 2001 CSO <span class="pl-cce">\n</span> for SuperPref NS 80-year-old male<span class="pl-pds">"</span></span>,
	   xlabel<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>duration<span class="pl-pds">"</span></span>)</pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/711879/96251676-6cbfd180-0f76-11eb-9082-b01630eaca4f.png"><img src="https://user-images.githubusercontent.com/711879/96251676-6cbfd180-0f76-11eb-9082-b01630eaca4f.png" alt="Comparison of 2001 and 2017 CSO \n for 80-year-old male" style="max-width: 100%;"></a></p>
<p dir="auto">Easily extend the analysis to move up the <a href="http://worrydream.com/LadderOfAbstraction/" rel="nofollow">ladder of abstraction</a>:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="
issue_ages = 18:80
durations = 1:40

# compute the relative rates with the element-wise division (&quot;brodcasting&quot; in Julia)
function rel_diff(a, b, issue_age,duration)
        att_age = issue_age + duration - 1
        return a[issue_age][att_age] / b[issue_age][att_age]
end


diff = [rel_diff(cso_2017.select,cso_2001.select,ia,dur) for ia in issue_ages, dur in durations]
contour(durations,
        issue_ages,
        diff,
        xlabel=&quot;duration&quot;,ylabel=&quot;issue ages&quot;,
        title=&quot;Relative difference between 2017 and 2001 CSO \n M PFN&quot;,
        fill=true
        )"><pre>issue_ages <span class="pl-k">=</span> <span class="pl-c1">18</span><span class="pl-k">:</span><span class="pl-c1">80</span>
durations <span class="pl-k">=</span> <span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">40</span>

<span class="pl-c"><span class="pl-c">#</span> compute the relative rates with the element-wise division ("brodcasting" in Julia)</span>
<span class="pl-k">function</span> <span class="pl-en">rel_diff</span>(a, b, issue_age,duration)
        att_age <span class="pl-k">=</span> issue_age <span class="pl-k">+</span> duration <span class="pl-k">-</span> <span class="pl-c1">1</span>
        <span class="pl-k">return</span> a[issue_age][att_age] <span class="pl-k">/</span> b[issue_age][att_age]
<span class="pl-k">end</span>


diff <span class="pl-k">=</span> [<span class="pl-c1">rel_diff</span>(cso_2017<span class="pl-k">.</span>select,cso_2001<span class="pl-k">.</span>select,ia,dur) <span class="pl-k">for</span> ia <span class="pl-k">in</span> issue_ages, dur <span class="pl-k">in</span> durations]
<span class="pl-c1">contour</span>(durations,
        issue_ages,
        diff,
        xlabel<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>duration<span class="pl-pds">"</span></span>,ylabel<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>issue ages<span class="pl-pds">"</span></span>,
        title<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>Relative difference between 2017 and 2001 CSO <span class="pl-cce">\n</span> M PFN<span class="pl-pds">"</span></span>,
        fill<span class="pl-k">=</span><span class="pl-c1">true</span>
        )</pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/711879/83955100-11861180-a815-11ea-9a22-c85bacceb4bc.png"><img src="https://user-images.githubusercontent.com/711879/83955100-11861180-a815-11ea-9a22-c85bacceb4bc.png" alt="heatmap comparison of 2017 CSO and 2001 CSO Mortality Table" style="max-width: 100%;"></a></p>
<h3 dir="auto"><a id="user-content-scaling-and-capping-rates" class="anchor" aria-hidden="true" href="#scaling-and-capping-rates"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Scaling and capping rates</h3>
<p dir="auto">Say that you want to take a given mortality table, scale it by <code>130%</code>, and cap it at <code>1.0</code>. You can do this easliy by <a href="https://docs.julialang.org/en/v1/manual/arrays/index.html#Broadcasting-1" rel="nofollow">broadcasting</a> over the underlying rates (which is really just a vector of numbers at the end of the day):</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="issue_age = 30
m = cso_2001.select[issue_age]

scaled_m = min.(cso_2001.select[issue_age] .* 1.3, 1.0) # 130% and capped at 1.0 version of `m`"><pre>issue_age <span class="pl-k">=</span> <span class="pl-c1">30</span>
m <span class="pl-k">=</span> cso_2001<span class="pl-k">.</span>select[issue_age]

scaled_m <span class="pl-k">=</span> <span class="pl-c1">min</span>.(cso_2001<span class="pl-k">.</span>select[issue_age] <span class="pl-k">.*</span> <span class="pl-c1">1.3</span>, <span class="pl-c1">1.0</span>) <span class="pl-c"><span class="pl-c">#</span> 130% and capped at 1.0 version of `m`</span></pre></div>
<p dir="auto">Note that <code>min.(cso_2001.select .* 1.3, 1.0)</code> won't work because <code>cso_2001.select</code> is still a vector-of-vectors (a vector for each issue age). You need to drill down to a given issue age or use an <code>ulitmate</code> table to manipulate the rates in this way.</p>
<h2 dir="auto"><a id="user-content-fractional-years" class="anchor" aria-hidden="true" href="#fractional-years"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Fractional Years</h2>
<p dir="auto">When evaluating survival over partial years when you are given full year mortality
rates, you must make an assumption over how those deaths are distributed throughout
the year. Three assumptions are provided as options and are based on formulas
from the <a href="https://www.soa.org/globalassets/assets/Files/Research/2016-10-experience-study-calculations.pdf" rel="nofollow">2016 Experience Study Calculations paper from the SOA</a>, specifically pages 40-44.</p>
<p dir="auto">The three assumptions are:</p>
<ul dir="auto">
<li><code>Uniform()</code> which assumes an increasing force of mortality throughout the year.</li>
<li><code>Constant()</code> which assumes a level force of mortality throughout the year.</li>
<li><code>Balducci()</code> which assumes a decreasing force of mortality over the year. It seems <a href="https://www.soa.org/globalassets/assets/library/research/actuarial-research-clearing-house/1978-89/1988/arch-1/arch88v17.pdf" rel="nofollow">to
be for making it easier</a> to calculate successive months by hand rather than any theoretical basis.</li>
</ul>
<h2 dir="auto"><a id="user-content-tables" class="anchor" aria-hidden="true" href="#tables"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Tables</h2>
<h3 dir="auto"><a id="user-content-bundled-tables" class="anchor" aria-hidden="true" href="#bundled-tables"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Bundled Tables</h3>
<p dir="auto">Comes with all tables built in via <a href="https://mort.soa.org" rel="nofollow">mort.SOA.org</a> and by using <a href="https://mort.soa.org/TermsOfUse.aspx" rel="nofollow">you agree to their terms</a>. The tables were accessed and mirrored as of the date documented in the <a href="https://github.com/JuliaActuary/Artifacts">JuliaActuary Artifacts repository</a></p>
<p dir="auto">Not all tables have been tested that they work by default, though no issues have been reported with any of the the VBT/CSO/other common tables.</p>
<h4 dir="auto"><a id="user-content-load-custom-set-of-tables" class="anchor" aria-hidden="true" href="#load-custom-set-of-tables"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Load custom set of tables</h4>
<p dir="auto">Download the <code>.xml</code> <a href="https://mort.soa.org/About.aspx" rel="nofollow">aka the (<code>XTbML</code> format)</a> version of the table from <a href="https://mort.soa.org" rel="nofollow">mort.SOA.org</a> and place it in a directory of your choosing. Then call <code>MortaliyTables.read_tables(path_to_your_dir)</code>.</p>
<h3 dir="auto"><a id="user-content-mortsoaorg-tables" class="anchor" aria-hidden="true" href="#mortsoaorg-tables"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><a href="https://mort.soa.org" rel="nofollow">mort.SOA.org</a> Tables</h3>
<p dir="auto">Given a table id (<a href="https://mort.soa.org/ViewTable.aspx?&amp;TableIdentity=60029" rel="nofollow">for example</a> <code>60029</code>), you can also use this to get the table of interest:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="aus_life_table_female = MortalityTables.table(60029)
aus_life_table_female[0]  # returns the attained age 0 rate of 0.10139"><pre>aus_life_table_female <span class="pl-k">=</span> MortalityTables<span class="pl-k">.</span><span class="pl-c1">table</span>(<span class="pl-c1">60029</span>)
aus_life_table_female[<span class="pl-c1">0</span>]  <span class="pl-c"><span class="pl-c">#</span> returns the attained age 0 rate of 0.10139</span></pre></div>
<h3 dir="auto"><a id="user-content-from-csv" class="anchor" aria-hidden="true" href="#from-csv"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>From CSV</h3>
<p dir="auto">If you have a CSV file that is from <a href="mort.SOA.org">mort.SOA.org</a>, or follows the same structure, then you can load and parse the table into a <code>MortalityTable</code> like so:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using CSV
using MortalityTables

path = &quot;path/to/table.csv&quot;
file = CSV.File(path,header=false) # SOA's CSV files have no true header
table = MortalityTable(file)"><pre><span class="pl-k">using</span> CSV
<span class="pl-k">using</span> MortalityTables

path <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>path/to/table.csv<span class="pl-pds">"</span></span>
file <span class="pl-k">=</span> CSV<span class="pl-k">.</span><span class="pl-c1">File</span>(path,header<span class="pl-k">=</span><span class="pl-c1">false</span>) <span class="pl-c"><span class="pl-c">#</span> SOA's CSV files have no true header</span>
table <span class="pl-k">=</span> <span class="pl-c1">MortalityTable</span>(file)</pre></div>
<h3 dir="auto"><a id="user-content-from-xtbml" class="anchor" aria-hidden="true" href="#from-xtbml"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>From XTbML</h3>
<p dir="auto">If you have a file using the XTbML format:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="using MortalityTables
path = &quot;path/to/table.xml&quot;
table = MortalityTables.readXTbML(path)"><pre class="notranslate"><code>using MortalityTables
path = "path/to/table.xml"
table = MortalityTables.readXTbML(path)
</code></pre></div>
<h3 dir="auto"><a id="user-content-custom-tables" class="anchor" aria-hidden="true" href="#custom-tables"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Custom Tables</h3>
<p dir="auto">Say you have an ultimate vector and select matrix, and you want to leverage the MortalityTables package.</p>
<p dir="auto">Here's an example, where we first construct the <code>UlitmateMortality</code> and then combine
it with the select rates to get a <code>SelectMortality</code> table.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using MortalityTables

# represents attained ages of 15 through 100
ult_vec = [0.005, 0.008, ...,0.805,1.00]
ult = UltimateMortality(ult_vec,start_age = 15)"><pre><span class="pl-k">using</span> MortalityTables

<span class="pl-c"><span class="pl-c">#</span> represents attained ages of 15 through 100</span>
ult_vec <span class="pl-k">=</span> [<span class="pl-c1">0.005</span>, <span class="pl-c1">0.008</span>, <span class="pl-k">...</span>,<span class="pl-c1">0.805</span>,<span class="pl-c1">1.00</span>]
ult <span class="pl-k">=</span> <span class="pl-c1">UltimateMortality</span>(ult_vec,start_age <span class="pl-k">=</span> <span class="pl-c1">15</span>)</pre></div>
<p dir="auto">We can now use this the ultimate rates all by itself:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="q(ult,15,1) # 0.005"><pre><span class="pl-c1">q</span>(ult,<span class="pl-c1">15</span>,<span class="pl-c1">1</span>) <span class="pl-c"><span class="pl-c">#</span> 0.005</span></pre></div>
<p dir="auto">And join with the select rates, which for our example will start at age 0:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="# attained age going down the column, duration across
select_matrix = [ 0.001 0.002 ... 0.010;
                  0.002 0.003 ... 0.012;
                  ...
                ]
sel_start_age = 0
sel = SelectMortality(select_matrix,ult,start_age = 0)

sel[0][0] #issue age 0, attained age 0 rate of  0.001
sel[0][100] #issue age 0, attained age 100 rate of  1.0"><pre><span class="pl-c"><span class="pl-c">#</span> attained age going down the column, duration across</span>
select_matrix <span class="pl-k">=</span> [ <span class="pl-c1">0.001</span> <span class="pl-c1">0.002</span> <span class="pl-k">...</span> <span class="pl-c1">0.010</span>;
                  <span class="pl-c1">0.002</span> <span class="pl-c1">0.003</span> <span class="pl-k">...</span> <span class="pl-c1">0.012</span>;
                  <span class="pl-k">...</span>
                ]
sel_start_age <span class="pl-k">=</span> <span class="pl-c1">0</span>
sel <span class="pl-k">=</span> <span class="pl-c1">SelectMortality</span>(select_matrix,ult,start_age <span class="pl-k">=</span> <span class="pl-c1">0</span>)

sel[<span class="pl-c1">0</span>][<span class="pl-c1">0</span>] <span class="pl-c"><span class="pl-c">#</span>issue age 0, attained age 0 rate of  0.001</span>
sel[<span class="pl-c1">0</span>][<span class="pl-c1">100</span>] <span class="pl-c"><span class="pl-c">#</span>issue age 0, attained age 100 rate of  1.0</span></pre></div>
<p dir="auto">Lastly, to take the <code>SelectMortality</code> and <code>UltimateMortality</code> we just created,
we can combine them into one stored object, along with a <code>TableMetaData</code>:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="my_table = MortalityTable(
              s1,
              u1,
              metadata=TableMetaData(name=&quot;My Table&quot;, comments=&quot;Rates for Product XYZ&quot;)
              )"><pre>my_table <span class="pl-k">=</span> <span class="pl-c1">MortalityTable</span>(
              s1,
              u1,
              metadata<span class="pl-k">=</span><span class="pl-c1">TableMetaData</span>(name<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>My Table<span class="pl-pds">"</span></span>, comments<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>Rates for Product XYZ<span class="pl-pds">"</span></span>)
              )</pre></div>
<h2 dir="auto"><a id="user-content-parameterized-models" class="anchor" aria-hidden="true" href="#parameterized-models"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Parameterized Models</h2>
<p dir="auto">The following parametric models are available:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="Gompertz
InverseGompertz
Makeham
Opperman
Thiele
Wittstein
Perks
Weibull
InverseWeibull
VanderMaen
VanderMaen2
StrehlerMildvan
Quadratic
Beard
MakehamBeard
GammaGompertz
Siler
HeligmanPollard
HeligmanPollard2
HeligmanPollard3
HeligmanPollard4
RogersPlanck
Martinelle
Kostaki
Kannisto
KannistoMakeham"><pre class="notranslate"><code>Gompertz
InverseGompertz
Makeham
Opperman
Thiele
Wittstein
Perks
Weibull
InverseWeibull
VanderMaen
VanderMaen2
StrehlerMildvan
Quadratic
Beard
MakehamBeard
GammaGompertz
Siler
HeligmanPollard
HeligmanPollard2
HeligmanPollard3
HeligmanPollard4
RogersPlanck
Martinelle
Kostaki
Kannisto
KannistoMakeham
</code></pre></div>
<p dir="auto">Use like so:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="a = 0.0002
b = 0.13
c = 0.001
m = MortalityTables.Makeham(a=a,b=b,c=c)
g = MortalityTables.Gompertz(a=a,b=b)"><pre>a <span class="pl-k">=</span> <span class="pl-c1">0.0002</span>
b <span class="pl-k">=</span> <span class="pl-c1">0.13</span>
c <span class="pl-k">=</span> <span class="pl-c1">0.001</span>
m <span class="pl-k">=</span> MortalityTables<span class="pl-k">.</span><span class="pl-c1">Makeham</span>(a<span class="pl-k">=</span>a,b<span class="pl-k">=</span>b,c<span class="pl-k">=</span>c)
g <span class="pl-k">=</span> MortalityTables<span class="pl-k">.</span><span class="pl-c1">Gompertz</span>(a<span class="pl-k">=</span>a,b<span class="pl-k">=</span>b)</pre></div>
<p dir="auto">Now some examples with <code>m</code>, but could use <code>g</code> interchangeably:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="age = 20
m[20]                 # the mortality rate at age 20
decrement(m,20,25)    # the five year cumulative mortality rate
survival(m,20,25) # the five year survival rate"><pre>age <span class="pl-k">=</span> <span class="pl-c1">20</span>
m[<span class="pl-c1">20</span>]                 <span class="pl-c"><span class="pl-c">#</span> the mortality rate at age 20</span>
<span class="pl-c1">decrement</span>(m,<span class="pl-c1">20</span>,<span class="pl-c1">25</span>)    <span class="pl-c"><span class="pl-c">#</span> the five year cumulative mortality rate</span>
<span class="pl-c1">survival</span>(m,<span class="pl-c1">20</span>,<span class="pl-c1">25</span>) <span class="pl-c"><span class="pl-c">#</span> the five year survival rate</span></pre></div>
<h3 dir="auto"><a id="user-content-other-notes" class="anchor" aria-hidden="true" href="#other-notes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Other notes</h3>
<ul dir="auto">
<li>Because of the large number of models and the likelihood for overlap with other things (e.g. <code>Quadratic</code> or <code>Weibull</code> would be expected to be found in other contexts as well), these models Are not exported from the package, so you need to call them by prefixing with <code>MortalityTables</code>.
<ul dir="auto">
<li>e.g. : <code>MortalityTables.Kostaki()</code></li>
</ul>
</li>
<li>Because of the large number of parameters for the models, the arguments are keyword rather than positional: <code>MortalityTables.Gompertz(a=0.01,b=0.2)</code></li>
<li>The models have default values, so they can be called without args like this: <code>MortalityTables.Gompertz()</code>.
<ul dir="auto">
<li>See the help text for what the default values are: <code>?Gompertz</code></li>
</ul>
</li>
</ul>
<h2 dir="auto"><a id="user-content-mortality-table-comparison-tool" class="anchor" aria-hidden="true" href="#mortality-table-comparison-tool"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Mortality Table Comparison Tool</h2>
<p dir="auto">You may be interested in <a href="https://juliaactuary.org/tutorials/mortalitytablecomparison/" rel="nofollow">this tool</a> to compare mortality tables:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/711879/95031145-e94ed800-0679-11eb-8d8f-b560585042a6.gif"><img src="https://user-images.githubusercontent.com/711879/95031145-e94ed800-0679-11eb-8d8f-b560585042a6.gif" alt="A gif showing a visualization of the differences between two mortality tables" data-animated-image="" style="max-width: 100%;"></a></p>
<h2 dir="auto"><a id="user-content-references" class="anchor" aria-hidden="true" href="#references"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>References</h2>
<ul dir="auto">
<li><a href="https://mort.soa.org/" rel="nofollow">SOA Mortality Tables</a></li>
<li><a href="https://www.cambridge.org/vi/academic/subjects/statistics-probability/statistics-econometrics-finance-and-insurance/actuarial-mathematics-life-contingent-risks-2nd-edition?format=HB" rel="nofollow">Actuarial Mathematics for Life Contingent Risks, 2nd ed</a></li>
<li><a href="https://www.soa.org/globalassets/assets/Files/Research/2016-10-experience-study-calculations.pdf" rel="nofollow">Experience Study Calculations, SOA</a></li>
<li>Parametric models were adapted from the <a href="https://github.com/mpascariu/MortalityLaws">MortalityLaws </a> R package</li>
</ul>
<h2 dir="auto"><a id="user-content-similar-projects" class="anchor" aria-hidden="true" href="#similar-projects"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Similar Projects</h2>
<ul dir="auto">
<li><a href="https://github.com/franciscogarate/pyliferisk">Pyliferisk, a Python package</a></li>
<li><a href="https://github.com/actuarialopensource/pymort">Pymort, a Python package</a></li>
</ul>
</article></div>