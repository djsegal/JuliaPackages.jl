<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-dynacof-the-dynamic-agroforestry-coffee-crop-model-" class="anchor" aria-hidden="true" href="#dynacof-the-dynamic-agroforestry-coffee-crop-model-"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>DynACof: The Dynamic Agroforestry Coffee Crop Model <a target="_blank" rel="noopener noreferrer" href="www/logo.png"><img src="www/logo.png" alt="logo" width="300" align="right" style="max-width: 100%;"></a></h1>
<p dir="auto"><a href="https://VEZY.github.io/DynACof.jl/stable" rel="nofollow"><img src="https://camo.githubusercontent.com/c97f0a5f2ae95755f64a27f1aa8d9a17462941fd3d6c907c7630abd5d3e60acf/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d737461626c652d626c75652e737667" alt="Stable" data-canonical-src="https://img.shields.io/badge/docs-stable-blue.svg" style="max-width: 100%;"></a>
<a href="https://VEZY.github.io/DynACof.jl/dev" rel="nofollow"><img src="https://camo.githubusercontent.com/7fcec4b2d3ab291529fce8ef6a4fcd4129a0683b2f5d5fe2f5c648f02db8b616/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6465762d626c75652e737667" alt="Dev" data-canonical-src="https://img.shields.io/badge/docs-dev-blue.svg" style="max-width: 100%;"></a>
<a href="https://github.com/VEZY/DynACof.jl/actions/workflows/CI.yml"><img src="https://github.com/VEZY/DynACof.jl/actions/workflows/CI.yml/badge.svg" alt="CI" style="max-width: 100%;"></a>
<a href="https://codecov.io/gh/VEZY/DynACof.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/b8d1916670fd6abd5951e2f7f7a2bfc5b40b79d003aed0af5dc1b27a840bdefb/68747470733a2f2f636f6465636f762e696f2f67682f56455a592f44796e41436f662e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="Codecov" data-canonical-src="https://codecov.io/gh/VEZY/DynACof.jl/branch/master/graph/badge.svg" style="max-width: 100%;"></a></p>
<h2 dir="auto"><a id="user-content-overview" class="anchor" aria-hidden="true" href="#overview"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Overview</h2>
<p dir="auto">DynACof is a process-based model that computes plot-scale Net Primary Productivity, carbon allocation, growth, yield, energy, and water balance of coffee plantations according to management, while accounting for spatial effects using metamodels from the 3D process-based <a href="https://maespa.github.io/" rel="nofollow">MAESPA</a>. The model also uses coffee bud and fruit cohorts for reproductive development to better represent fruit carbon demand distribution along the year.</p>
<p dir="auto">This is the Julia version of the DynACof model, the only one that is maintained. To get to the (unmaintained) R version, please follow this <a href="https://vezy.github.io/DynACof" rel="nofollow">link</a>.</p>
<h2 dir="auto"><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<p dir="auto">To download DynACof, simply execute these lines of code in the REPL:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using Pkg; Pkg.add(&quot;DynACof&quot;)"><pre><span class="pl-k">using</span> Pkg; Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-s"><span class="pl-pds">"</span>DynACof<span class="pl-pds">"</span></span>)</pre></div>
<p dir="auto">The package is tested routinely to pass all tests using Github actions.</p>
<h2 dir="auto"><a id="user-content-example" class="anchor" aria-hidden="true" href="#example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Example</h2>
<p dir="auto">This is a basic example using the parameters and meteorology from Vezy et al. (2019). First, you have to download the data from this
<a href="https://github.com/VEZY/DynACof.jl_inputs">Github repository</a>.</p>
<p dir="auto">Then, simply execute this line of code to run a simulation over the whole period:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using DynACof
Sim, Meteo, Parameters= dynacof(input_path= &quot;the_path_where_you_downloaded_the_data/DynACof.jl_inputs&quot;,
                                file_name= (constants= &quot;constants.jl&quot;,site=&quot;site.jl&quot;,meteo=&quot;meteorology.txt&quot;,
                                            soil=&quot;soil.jl&quot;,coffee=&quot;coffee.jl&quot;,tree=&quot;tree.jl&quot;));"><pre><span class="pl-k">using</span> DynACof
Sim, Meteo, Parameters<span class="pl-k">=</span> <span class="pl-c1">dynacof</span>(input_path<span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>the_path_where_you_downloaded_the_data/DynACof.jl_inputs<span class="pl-pds">"</span></span>,
                                file_name<span class="pl-k">=</span> (constants<span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>constants.jl<span class="pl-pds">"</span></span>,site<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>site.jl<span class="pl-pds">"</span></span>,meteo<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>meteorology.txt<span class="pl-pds">"</span></span>,
                                            soil<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>soil.jl<span class="pl-pds">"</span></span>,coffee<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>coffee.jl<span class="pl-pds">"</span></span>,tree<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>tree.jl<span class="pl-pds">"</span></span>));</pre></div>
<p dir="auto">To use your own data, you have to tell DynACof where to find it using the <code>input_path</code> argument, and what are the file names with the <code>file_name</code>
argument. A separate <a href="https://github.com/VEZY/DynACof.jl_inputs">Github repository</a> is available for input files templates, and some help on how to proceed.</p>
<p dir="auto">Example of a simulation without shade trees:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Sim, Meteo, Parameters= dynacof(input_path= &quot;the_path_where_you_downloaded_the_data/DynACof.jl_inputs&quot;,
                                file_name= (constants= &quot;constants.jl&quot;,site=&quot;site.jl&quot;,meteo=&quot;meteorology.txt&quot;,
                                            soil=&quot;soil.jl&quot;,coffee=&quot;coffee.jl&quot;,tree=&quot;&quot;));"><pre>Sim, Meteo, Parameters<span class="pl-k">=</span> <span class="pl-c1">dynacof</span>(input_path<span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>the_path_where_you_downloaded_the_data/DynACof.jl_inputs<span class="pl-pds">"</span></span>,
                                file_name<span class="pl-k">=</span> (constants<span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>constants.jl<span class="pl-pds">"</span></span>,site<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>site.jl<span class="pl-pds">"</span></span>,meteo<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>meteorology.txt<span class="pl-pds">"</span></span>,
                                            soil<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>soil.jl<span class="pl-pds">"</span></span>,coffee<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>coffee.jl<span class="pl-pds">"</span></span>,tree<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>));</pre></div>
<h2 dir="auto"><a id="user-content-notes" class="anchor" aria-hidden="true" href="#notes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Notes</h2>
<p dir="auto">The model first computes the shade tree, then the coffee and then the soil. So if you need to update the metamodels, please keep in mind that the state of soil of a given day is only accessible on the next day for the tree and the coffee, unless the code is updated too. The model is implemented like this for simplicity, based on the hypothesis that the soil has a rather slow dynamic compared to plants dynamics.</p>
<h2 dir="auto"><a id="user-content-code-of-conduct" class="anchor" aria-hidden="true" href="#code-of-conduct"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Code of conduct</h2>
<p dir="auto">Please note that this project is released with a <a href="CODE_OF_CONDUCT.md">Contributor Code of Conduct</a>. By participating in this project you agree
to abide by its terms.</p>
<h2 dir="auto"><a id="user-content-acknowledgments" class="anchor" aria-hidden="true" href="#acknowledgments"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Acknowledgments</h2>
<p dir="auto">The DynACof model was mainly developed thanks to the MACCAC
project[1], which was funded by the french ANR (Agence Nationale de la
Recherche). The authors were funded by CIRAD[2] and INRA[3]. The
authors are grateful for the support of the <a href="https://aquiares.com/" rel="nofollow">Aquiares
farm</a> and the CATIE[4] for the long-term coffee
agroforestry trial, the SOERE F-ORE-T which is supported annually by
Ecofor, Allenvi and the French national research infrastructure
<a href="http://www.anaee-france.fr/fr/" rel="nofollow">ANAEE-F</a>; the CIRAD-IRD-SAFSE project
(France) and the PCP platform of CATIE. CoffeeFlux observatory was
supported and managed by CIRAD researchers. We are grateful to the staff
from Costa-Rica, in particular Alvaro Barquero, Alejandra Barquero,
Jenny Barquero, Alexis Perez, Guillermo Ramirez, Rafael Acuna, Manuel
Jara, Alonso Barquero for their technical and field support.</p>
<hr>
<p dir="auto"><sub>The DynACof logo was made using
<a href="http://logomakr.com" title="Logo Makr" rel="nofollow">LogoMakr.com</a> </sub></p>
<ol dir="auto">
<li>
<p dir="auto"><strong>MACACC project ANR-13-AGRO-0005</strong>, Viabilité et Adaptation des
Ecosystèmes Productifs, Territoires et Ressources face aux
Changements Globaux AGROBIOSPHERE 2013 program</p>
</li>
<li>
<p dir="auto">Centre de Coopération Internationale en Recherche Agronomique pour
le Développement</p>
</li>
<li>
<p dir="auto">Institut National de la Recherche Agronomique</p>
</li>
<li>
<p dir="auto">Centro Agronómico Tropical de Investigación y Enseñanza</p>
</li>
</ol>
</article></div>