<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-linajl" class="anchor" aria-hidden="true" href="#linajl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>LinA.jl</h1>
<p dir="auto"><a href="https://lico-labs.github.io/LinA.jl/" rel="nofollow"><img src="https://camo.githubusercontent.com/56f8252ba8e9d3f0b810769543f77823d2fe031ce560d4c2d69fb1fcad800383/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6c61746573742d626c75652e737667" alt="" data-canonical-src="https://img.shields.io/badge/docs-latest-blue.svg" style="max-width: 100%;"></a></p>
<p dir="auto">LinA is a state-of-the-art piecewise linear approximation package which approximates (or over/under-estimates) univariate diffentiable <math-renderer class="js-inline-math" style="display: inline" data-static-url="https://github.githubassets.com/static" data-run-id="7f61465240e7fc509216405990c3967c">$\mathbb{R} \rightarrow \mathbb{R}$</math-renderer> functions with an optimal (in term of number of segments) piecewise linear function given an error metric.
Both absolute and relative errors are implemented. It is also possible to add custom error types. LinA works with expressions as well as with native Julia functions.
Details of the algorithms can be found in <a href="https://hal.archives-ouvertes.fr/hal-03336003" rel="nofollow">this paper.</a></p>
<h2 dir="auto">
<a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<p dir="auto">To install LinA, first enter Pkg mode by hitting <code>]</code>, and then run the following command:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="pkg&gt; add https://github.com/LICO-labs/LinA.jl"><pre lang="julia-repl" class="notranslate"><code>pkg&gt; add https://github.com/LICO-labs/LinA.jl
</code></pre></div>
<h2 dir="auto">
<a id="user-content-usage-of-the-lina-package" class="anchor" aria-hidden="true" href="#usage-of-the-lina-package"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Usage of the LinA package</h2>
<p dir="auto">For the full documentation, see the <a href="https://lico-labs.github.io/LinA.jl/" rel="nofollow">documentation webpage.</a></p>
<h3 dir="auto">
<a id="user-content-basic-use" class="anchor" aria-hidden="true" href="#basic-use"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Basic use</h3>
<p dir="auto">To linearize <math-renderer class="js-inline-math" style="display: inline" data-static-url="https://github.githubassets.com/static" data-run-id="7f61465240e7fc509216405990c3967c">$f(x) = x^2$</math-renderer> from -10 to 10 with a maximum absolute error of <math-renderer class="js-inline-math" style="display: inline" data-static-url="https://github.githubassets.com/static" data-run-id="7f61465240e7fc509216405990c3967c">$2$</math-renderer> simply do</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; using LinA

julia&gt; pwl = Linearize(:(x^2),-10,10,Absolute(2))
5-element Vector{LinA.LinearPiece}:
 -16.000000000000004 x -62.00000000000003 from -10.0 to -6.0
 -8.0 x -14.0 from -6.0 to -2.0
 0.0 x + 2.0 from -2.0 to 2.0
 8.0 x -14.0 from 2.0 to 5.999999999999999
 15.999999999999996 x -61.99999999999998 from 5.999999999999999 to 10.0
"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> LinA

julia<span class="pl-k">&gt;</span> pwl <span class="pl-k">=</span> <span class="pl-c1">Linearize</span>(:(x<span class="pl-k">^</span><span class="pl-c1">2</span>),<span class="pl-k">-</span><span class="pl-c1">10</span>,<span class="pl-c1">10</span>,<span class="pl-c1">Absolute</span>(<span class="pl-c1">2</span>))
<span class="pl-c1">5</span><span class="pl-k">-</span>element Vector{LinA<span class="pl-k">.</span>LinearPiece}<span class="pl-k">:</span>
 <span class="pl-k">-</span><span class="pl-c1">16.000000000000004</span> x <span class="pl-k">-</span><span class="pl-c1">62.00000000000003</span> from <span class="pl-k">-</span><span class="pl-c1">10.0</span> to <span class="pl-k">-</span><span class="pl-c1">6.0</span>
 <span class="pl-k">-</span><span class="pl-c1">8.0</span> x <span class="pl-k">-</span><span class="pl-c1">14.0</span> from <span class="pl-k">-</span><span class="pl-c1">6.0</span> to <span class="pl-k">-</span><span class="pl-c1">2.0</span>
 <span class="pl-c1">0.0</span> x <span class="pl-k">+</span> <span class="pl-c1">2.0</span> from <span class="pl-k">-</span><span class="pl-c1">2.0</span> to <span class="pl-c1">2.0</span>
 <span class="pl-c1">8.0</span> x <span class="pl-k">-</span><span class="pl-c1">14.0</span> from <span class="pl-c1">2.0</span> to <span class="pl-c1">5.999999999999999</span>
 <span class="pl-c1">15.999999999999996</span> x <span class="pl-k">-</span><span class="pl-c1">61.99999999999998</span> from <span class="pl-c1">5.999999999999999</span> to <span class="pl-c1">10.0</span>
</pre></div>
<p dir="auto"><strong>Note:</strong> by default LinA uses the hybrid heuristic algorithm. To use the (slightly slower) exact algorithm simply add <code>ExactLin()</code> as an argument.</p>
<p dir="auto">You can now call <code>pwl</code> as a julia function such as</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; pwl(2)
4.470129472588532"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-c1">pwl</span>(<span class="pl-c1">2</span>)
<span class="pl-c1">4.470129472588532</span></pre></div>
<p dir="auto">But also as an array to get the individual linear segments such as</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; pwl[2]
-8.0 x -14.0 from -6.0 to -2.0

julia&gt; pwl[2].xMax
-2.0"><pre>julia<span class="pl-k">&gt;</span> pwl[<span class="pl-c1">2</span>]
<span class="pl-k">-</span><span class="pl-c1">8.0</span> x <span class="pl-k">-</span><span class="pl-c1">14.0</span> from <span class="pl-k">-</span><span class="pl-c1">6.0</span> to <span class="pl-k">-</span><span class="pl-c1">2.0</span>

julia<span class="pl-k">&gt;</span> pwl[<span class="pl-c1">2</span>]<span class="pl-k">.</span>xMax
<span class="pl-k">-</span><span class="pl-c1">2.0</span></pre></div>
<h3 dir="auto">
<a id="user-content-plotting" class="anchor" aria-hidden="true" href="#plotting"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Plotting</h3>
<p dir="auto">Pwl functions are compatible with Plots.jl. To plot a pwl function simply do</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using Plots

plot(x-&gt;pwl(x),-10,10)
"><pre><span class="pl-k">using</span> Plots

<span class="pl-c1">plot</span>(x<span class="pl-k">-&gt;</span><span class="pl-c1">pwl</span>(x),<span class="pl-k">-</span><span class="pl-c1">10</span>,<span class="pl-c1">10</span>)
</pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://i.imgur.com/7IHj3qp.png"><img src="https://i.imgur.com/7IHj3qp.png" alt="alt text" style="max-width: 100%;"></a></p>
<h2 dir="auto">
<a id="user-content-citing" class="anchor" aria-hidden="true" href="#citing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Citing</h2>
<p dir="auto">If you have used our library and wish to cite our work (which we greatly encourage) use the reference of <a href="https://hal.archives-ouvertes.fr/hal-03336003" rel="nofollow">our paper.</a> Starring the <em>LinA.jl</em> repository on GitHub is also appreciated.</p>
</article></div>