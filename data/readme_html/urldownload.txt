<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-urldownload" class="anchor" aria-hidden="true" href="#urldownload"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>UrlDownload</h1>
<p><a href="https://Arkoniak.github.io/UrlDownload.jl/stable" rel="nofollow"><img src="https://camo.githubusercontent.com/f7b92a177c912c1cc007fc9b40f17ff3ee3bb414/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d737461626c652d626c75652e737667" alt="Stable" data-canonical-src="https://img.shields.io/badge/docs-stable-blue.svg" style="max-width:100%;"></a>
<a href="https://Arkoniak.github.io/UrlDownload.jl/dev" rel="nofollow"><img src="https://camo.githubusercontent.com/3e353c26ddfe819150acbc732248f4f2a37f5175/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d6465762d626c75652e737667" alt="Dev" data-canonical-src="https://img.shields.io/badge/docs-dev-blue.svg" style="max-width:100%;"></a>
<a href="https://travis-ci.com/Arkoniak/UrlDownload.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/ac283e8cbedfcbf29c58e5c36fa70d268c6c5ad0/68747470733a2f2f7472617669732d63692e636f6d2f41726b6f6e69616b2f55726c446f776e6c6f61642e6a6c2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.com/Arkoniak/UrlDownload.jl.svg?branch=master" style="max-width:100%;"></a>
<a href="https://codecov.io/gh/Arkoniak/UrlDownload.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/4d7ccea1276e7423241ad2d9e8dae9e248abc1cc/68747470733a2f2f636f6465636f762e696f2f67682f41726b6f6e69616b2f55726c446f776e6c6f61642e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="Codecov" data-canonical-src="https://codecov.io/gh/Arkoniak/UrlDownload.jl/branch/master/graph/badge.svg" style="max-width:100%;"></a></p>
<p>This is small package aimed to simplify process of data downloading, without intermediate files storing. Additionally <code>UrlDownload.jl</code> provides progress bar for big files with long download time.</p>
<p>Currently these types of data are supported</p>
<ul>
<li>PIC: image files, such as jpeg, png, bmp etc</li>
<li>CSV: files with comma separated values</li>
<li>FEATHER</li>
<li>JSON</li>
</ul>
<p>Unsupported file formats can be processed with the help of custom parsers.</p>
<h1><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h1>
<p>To install <code>UrlDownload</code> either do</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> Pkg
Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-s"><span class="pl-pds">"</span>UrlDownload<span class="pl-pds">"</span></span>)</pre></div>
<p>or switch to <code>Pkg</code> mode with <code>]</code> and issue</p>
<div class="highlight highlight-source-julia"><pre>pkg<span class="pl-k">&gt;</span> add UrlDownload</pre></div>
<h1><a id="user-content-basic-usage" class="anchor" aria-hidden="true" href="#basic-usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Basic usage</h1>
<h2><a id="user-content-download-csv-files" class="anchor" aria-hidden="true" href="#download-csv-files"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Download CSV files</h2>
<p>CSV files are supported with the help of <code>CSV.jl</code></p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> UrlDownload
<span class="pl-k">using</span> DataFrames

url <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>https://raw.githubusercontent.com/Arkoniak/UrlDownload.jl/master/data/ext.csv<span class="pl-pds">"</span></span>
df <span class="pl-k">=</span> <span class="pl-c1">urldownload</span>(url) <span class="pl-k">|&gt;</span> DataFrame
<span class="pl-c"><span class="pl-c">#</span> 2×2 DataFrame</span>
<span class="pl-c"><span class="pl-c">#</span> │ Row │ x     │ y     │</span>
<span class="pl-c"><span class="pl-c">#</span> │     │ Int64 │ Int64 │</span>
<span class="pl-c"><span class="pl-c">#</span> ├─────┼───────┼───────┤</span>
<span class="pl-c"><span class="pl-c">#</span> │ 1   │ 1     │ 2     │</span>
<span class="pl-c"><span class="pl-c">#</span> │ 2   │ 3     │ 4     │</span></pre></div>
<p>For csv and other file formats one can use keyword arguments from the corresponding
library, for example, to process csv with nonstandard delimiters, one can use
<code>delim</code> argument from <code>CSV.jl</code></p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> UrlDownload
<span class="pl-k">using</span> DataFrames

url <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>https://raw.githubusercontent.com/Arkoniak/UrlDownload.jl/master/data/semicolon.csv<span class="pl-pds">"</span></span>
df <span class="pl-k">=</span> <span class="pl-c1">urldownload</span>(url, delim <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>;<span class="pl-pds">'</span></span>) <span class="pl-k">|&gt;</span> DataFrame
<span class="pl-c"><span class="pl-c">#</span> 2×2 DataFrame</span>
<span class="pl-c"><span class="pl-c">#</span> │ Row │ x     │ y     │</span>
<span class="pl-c"><span class="pl-c">#</span> │     │ Int64 │ Int64 │</span>
<span class="pl-c"><span class="pl-c">#</span> ├─────┼───────┼───────┤</span>
<span class="pl-c"><span class="pl-c">#</span> │ 1   │ 1     │ 2     │</span>
<span class="pl-c"><span class="pl-c">#</span> │ 2   │ 3     │ 4     │</span></pre></div>
<h2><a id="user-content-images" class="anchor" aria-hidden="true" href="#images"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Images</h2>
<p>Images are supported through <code>ImageMagick.jl</code></p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> UrlDownload

url <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>https://raw.githubusercontent.com/Arkoniak/UrlDownload.jl/master/data/test.jpg<span class="pl-pds">"</span></span>
img <span class="pl-k">=</span> <span class="pl-c1">urldownload</span>(url);

<span class="pl-c1">typeof</span>(img)
<span class="pl-c"><span class="pl-c">#</span> Array{ColorTypes.RGB{FixedPointNumbers.Normed{UInt8,8}},2}</span></pre></div>
<h2><a id="user-content-json" class="anchor" aria-hidden="true" href="#json"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>JSON</h2>
<p>Json supported with <code>JSON3.jl</code></p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> UrlDownload

url <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>https://raw.githubusercontent.com/Arkoniak/UrlDownload.jl/master/data/test.json<span class="pl-pds">"</span></span>
<span class="pl-c1">urldownload</span>(url)

<span class="pl-c"><span class="pl-c">#</span> JSON3.Object{Array{UInt8,1},Array{UInt64,1}} with 1 entry:</span>
<span class="pl-c"><span class="pl-c">#</span>   :glossary =&gt; {…</span></pre></div>
<h2><a id="user-content-feather" class="anchor" aria-hidden="true" href="#feather"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Feather</h2>
<p>Feather supported with <code>Feather.jl</code></p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> UrlDownload

url <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>https://raw.githubusercontent.com/Arkoniak/UrlDownload.jl/master/data/test.feather<span class="pl-pds">"</span></span>
df <span class="pl-k">=</span> <span class="pl-c1">urldownload</span>(url)

<span class="pl-c"><span class="pl-c">#</span> 2×2 DataFrame</span>
<span class="pl-c"><span class="pl-c">#</span> │ Row │ x     │ y     │</span>
<span class="pl-c"><span class="pl-c">#</span> │     │ Int64 │ Int64 │</span>
<span class="pl-c"><span class="pl-c">#</span> ├─────┼───────┼───────┤</span>
<span class="pl-c"><span class="pl-c">#</span> │ 1   │ 1     │ 2     │</span>
<span class="pl-c"><span class="pl-c">#</span> │ 2   │ 3     │ 4     │</span></pre></div>
<h1><a id="user-content-additional-functionality" class="anchor" aria-hidden="true" href="#additional-functionality"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Additional functionality</h1>
<h2><a id="user-content-progress-meter" class="anchor" aria-hidden="true" href="#progress-meter"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Progress Meter</h2>
<p>By default nothing is shown during data downloading, but it can be changed with passing <code>true</code> as
a second argument to the function <code>urldownload</code></p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> UrlDownload

url <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>https://www.stats.govt.nz/assets/Uploads/Business-price-indexes/Business-price-indexes-December-2019-quarter/Download-data/business-price-indexes-december-2019-quarter-csv.csv<span class="pl-pds">"</span></span>

<span class="pl-c1">urldownload</span>(url, <span class="pl-c1">true</span>)
<span class="pl-c"><span class="pl-c">#</span> Progress: 45%|████████████████████                      | Time: 0:00:01</span></pre></div>
<h2><a id="user-content-custom-parsers" class="anchor" aria-hidden="true" href="#custom-parsers"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom parsers</h2>
<p>If file type is not supported by <code>UrlDownload.jl</code> it is possible to use custom parser
to process the data. Such parser should accept one positional argument, of the type
<code>Vector{UInt8}</code> and can have optional keyword arguments.</p>
<p>It should be used in <code>parser</code> argument of the <code>urldownload</code>.</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> UrlDownload
<span class="pl-k">using</span> DataFrames
<span class="pl-k">using</span> CSV

url <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>https://raw.githubusercontent.com/Arkoniak/UrlDownload.jl/master/data/ext.csv<span class="pl-pds">"</span></span>
res <span class="pl-k">=</span> <span class="pl-c1">urldownload</span>(url, parser <span class="pl-k">=</span> x <span class="pl-k">-&gt;</span> <span class="pl-c1">DataFrame</span>(CSV<span class="pl-k">.</span><span class="pl-c1">File</span>(<span class="pl-c1">IOBuffer</span>(x))))
<span class="pl-c"><span class="pl-c">#</span> 2×2 DataFrame</span>
<span class="pl-c"><span class="pl-c">#</span> │ Row │ x     │ y     │</span>
<span class="pl-c"><span class="pl-c">#</span> │     │ Int64 │ Int64 │</span>
<span class="pl-c"><span class="pl-c">#</span> ├─────┼───────┼───────┤</span>
<span class="pl-c"><span class="pl-c">#</span> │ 1   │ 1     │ 2     │</span>
<span class="pl-c"><span class="pl-c">#</span> │ 2   │ 3     │ 4     │</span></pre></div>
<p>If keywords arguments are used in custom parser they will accept values from
keyword arguments of <code>urldownload</code> function</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> UrlDownload
<span class="pl-k">using</span> DataFrames
<span class="pl-k">using</span> CSV

<span class="pl-en">wrapper</span>(x; kw<span class="pl-k">...</span>) <span class="pl-k">=</span> <span class="pl-c1">DataFrame</span>(CSV<span class="pl-k">.</span><span class="pl-c1">File</span>(<span class="pl-c1">IOBuffer</span>(x); kw<span class="pl-k">...</span>))

url <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>https://raw.githubusercontent.com/Arkoniak/UrlDownload.jl/master/data/semicolon.csv<span class="pl-pds">"</span></span>
res <span class="pl-k">=</span> <span class="pl-c1">urldownload</span>(url, parser <span class="pl-k">=</span> wrapper, delim <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span>;<span class="pl-pds">'</span></span>)
<span class="pl-c"><span class="pl-c">#</span> 2×2 DataFrame</span>
<span class="pl-c"><span class="pl-c">#</span> │ Row │ x     │ y     │</span>
<span class="pl-c"><span class="pl-c">#</span> │     │ Int64 │ Int64 │</span>
<span class="pl-c"><span class="pl-c">#</span> ├─────┼───────┼───────┤</span>
<span class="pl-c"><span class="pl-c">#</span> │ 1   │ 1     │ 2     │</span>
<span class="pl-c"><span class="pl-c">#</span> │ 2   │ 3     │ 4     │</span></pre></div>
<h2><a id="user-content-undetected-file-types" class="anchor" aria-hidden="true" href="#undetected-file-types"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Undetected file types</h2>
<p>Sometimes file type can't be detected from the url, in this case one can supply optional
<code>format</code> argument, to force necessary behavior</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> UrlDownload
<span class="pl-k">using</span> DataFrames

url <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>https://raw.githubusercontent.com/Arkoniak/UrlDownload.jl/master/data/noextcsv<span class="pl-pds">"</span></span>
df <span class="pl-k">=</span> <span class="pl-c1">urldownload</span>(url, format <span class="pl-k">=</span> <span class="pl-c1">:CSV</span>) <span class="pl-k">|&gt;</span> DataFrame

<span class="pl-c"><span class="pl-c">#</span> 2×2 DataFrame</span>
<span class="pl-c"><span class="pl-c">#</span> │ Row │ x     │ y     │</span>
<span class="pl-c"><span class="pl-c">#</span> │     │ Int64 │ Int64 │</span>
<span class="pl-c"><span class="pl-c">#</span> ├─────┼───────┼───────┤</span>
<span class="pl-c"><span class="pl-c">#</span> │ 1   │ 1     │ 2     │</span>
<span class="pl-c"><span class="pl-c">#</span> │ 2   │ 3     │ 4     │</span></pre></div>
</article></div>