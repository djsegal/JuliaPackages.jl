<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-libxcjl" class="anchor" aria-hidden="true" href="#libxcjl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Libxc.jl</h1>
<table>
<thead>
<tr>
<th align="left"><strong>Build Status</strong></th>
<th align="left"><strong>License</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a target="_blank" rel="noopener noreferrer" href="https://github.com/JuliaMolSim/Libxc.jl/workflows/CI/badge.svg"><img src="https://github.com/JuliaMolSim/Libxc.jl/workflows/CI/badge.svg" alt="" style="max-width: 100%;"></a> <a href="https://git.uni-paderborn.de/herbstm/Libxc.jl/-/pipelines" rel="nofollow"><img src="https://camo.githubusercontent.com/a328d950ad30eb14dd8a17e45fe32f921cc6674af1feec938e4a505e8a5af516/68747470733a2f2f6769742e756e692d7061646572626f726e2e64652f6865726273746d2f4c696278632e6a6c2f6261646765732f6d61737465722f706970656c696e652e7376673f6b65795f746578743d4750552532304349" alt="" data-canonical-src="https://git.uni-paderborn.de/herbstm/Libxc.jl/badges/master/pipeline.svg?key_text=GPU%20CI" style="max-width: 100%;"></a> <a href="https://codecov.io/gh/JuliaMolSim/Libxc.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/699c1377626a84af3a413146955dc9d7470755bb9b69b62f8ca772ad4d959bc3/68747470733a2f2f636f6465636f762e696f2f67682f4a756c69614d6f6c53696d2f4c696278632e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e7376673f746f6b656e3d5a4c3752554e44345945" alt="" data-canonical-src="https://codecov.io/gh/JuliaMolSim/Libxc.jl/branch/master/graph/badge.svg?token=ZL7RUND4YE" style="max-width: 100%;"></a></td>
<td align="left"><a href="https://github.com/JuliaMolSim/Libxc.jl/blob/master/LICENSE"><img src="https://camo.githubusercontent.com/21f91bc0f6da95c9c464dc2ca6966820fe9b54e0f80ad81ee48bcfef486e3528/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f4a756c69614d6f6c53696d2f4c696278632e6a6c2e7376673f6d61784167653d32353932303030" alt="" data-canonical-src="https://img.shields.io/github/license/JuliaMolSim/Libxc.jl.svg?maxAge=2592000" style="max-width: 100%;"></a></td>
</tr>
</tbody>
</table>
<p dir="auto">This package provides Julia bindings to the
<a href="https://tddft.org/programs/libxc/" rel="nofollow">libxc</a> library
for common exchange-correlation functionals in density-functional theory.
At least <strong>Julia 1.7</strong> is required.</p>
<h2 dir="auto"><a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Usage</h2>
<p dir="auto">Install the library from Julia as usual:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import Pkg
Pkg.add(&quot;Libxc&quot;)"><pre><span class="pl-k">import</span> Pkg
Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-s"><span class="pl-pds">"</span>Libxc<span class="pl-pds">"</span></span>)</pre></div>
<p dir="auto">and then for example:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using Libxc

rho = [0.1, 0.2, 0.3, 0.4, 0.5]
sigma = [0.2, 0.3, 0.4, 0.5, 0.6]

# LDA exchange
lda_x = Functional(:lda_x)
result = evaluate(lda_x, rho=rho)
@show result
# result = (vrho = [-0.457078 -0.575882 -0.659220 -0.725566 -0.781592],
#           zk = [-0.342808, -0.43191, -0.49441, -0.544174, -0.586194])

# GGA exchange
gga_x = Functional(:gga_x_pbe, n_spin=1)
result = evaluate(gga_x, rho=rho, sigma=sigma, derivative=0)
@show result
# result = (zk = [-0.452597, -0.478877, -0.520674, -0.561427, -0.598661],)"><pre><span class="pl-k">using</span> Libxc

rho <span class="pl-k">=</span> [<span class="pl-c1">0.1</span>, <span class="pl-c1">0.2</span>, <span class="pl-c1">0.3</span>, <span class="pl-c1">0.4</span>, <span class="pl-c1">0.5</span>]
sigma <span class="pl-k">=</span> [<span class="pl-c1">0.2</span>, <span class="pl-c1">0.3</span>, <span class="pl-c1">0.4</span>, <span class="pl-c1">0.5</span>, <span class="pl-c1">0.6</span>]

<span class="pl-c"><span class="pl-c">#</span> LDA exchange</span>
lda_x <span class="pl-k">=</span> <span class="pl-c1">Functional</span>(<span class="pl-c1">:lda_x</span>)
result <span class="pl-k">=</span> <span class="pl-c1">evaluate</span>(lda_x, rho<span class="pl-k">=</span>rho)
<span class="pl-c1">@show</span> result
<span class="pl-c"><span class="pl-c">#</span> result = (vrho = [-0.457078 -0.575882 -0.659220 -0.725566 -0.781592],</span>
<span class="pl-c"><span class="pl-c">#</span>           zk = [-0.342808, -0.43191, -0.49441, -0.544174, -0.586194])</span>

<span class="pl-c"><span class="pl-c">#</span> GGA exchange</span>
gga_x <span class="pl-k">=</span> <span class="pl-c1">Functional</span>(<span class="pl-c1">:gga_x_pbe</span>, n_spin<span class="pl-k">=</span><span class="pl-c1">1</span>)
result <span class="pl-k">=</span> <span class="pl-c1">evaluate</span>(gga_x, rho<span class="pl-k">=</span>rho, sigma<span class="pl-k">=</span>sigma, derivative<span class="pl-k">=</span><span class="pl-c1">0</span>)
<span class="pl-c1">@show</span> result
<span class="pl-c"><span class="pl-c">#</span> result = (zk = [-0.452597, -0.478877, -0.520674, -0.561427, -0.598661],)</span></pre></div>
<h2 dir="auto"><a id="user-content-gpu-support" class="anchor" aria-hidden="true" href="#gpu-support"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>GPU support</h2>
<p dir="auto">Recently GPU support has been added. Whenever <code>evaluate</code> is called
with <code>CuArray</code>s, the computation will automatically be done with the CUDA
version of libxc. Currently only CUDA 11 is supported,
so you need to enforce using CUDA 11 explicitly:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using CUDA
CUDA.set_runtime_version!(v&quot;11.8&quot;)"><pre><span class="pl-k">using</span> CUDA
CUDA<span class="pl-k">.</span><span class="pl-c1">set_runtime_version!</span>(<span class="pl-s"><span class="pl-pds"><span class="pl-c1">v</span>"</span>11.8<span class="pl-pds">"</span></span>)</pre></div>
<h2 dir="auto"><a id="user-content-status" class="anchor" aria-hidden="true" href="#status"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Status</h2>
<p dir="auto">Full support for evaluating LDA, GGA and meta-GGA functionals
on CPUs as shown above.</p>
<p dir="auto">Hybrid or range-separated hybrids and VV10-type functionals
export parameters required in the host programs as properties of the <code>Functional</code>
Julia object. For example</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="b3lyp = Functional(:hyb_gga_xc_b3lyp)
@show b3lyp.exx_coefficient
# b3lyp.exx_coefficient = 0.2"><pre>b3lyp <span class="pl-k">=</span> <span class="pl-c1">Functional</span>(<span class="pl-c1">:hyb_gga_xc_b3lyp</span>)
<span class="pl-c1">@show</span> b3lyp<span class="pl-k">.</span>exx_coefficient
<span class="pl-c"><span class="pl-c">#</span> b3lyp.exx_coefficient = 0.2</span></pre></div>
<p dir="auto">See also the <a href="example/xc-info.jl">xc-info.jl</a> example (modelled after the
<code>xc-info</code> executable shipped with libxc).</p>
<p dir="auto">Some advanced Libxc features (custom functional combinations, setting external
parameters etc.) are not yet supported in the Julia wrapper. If you need those
you can, however, talk to libxc directly using the low-level C-like interface,
see the file <a href="src/gen/api.jl">src/gen/api.jl</a>.
This file is automatically generated from the libxc source code and
offers all functions of the public interface as <code>ccall</code> wrappers.</p>
</article></div>