<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-metalsurfaceimpedance" class="anchor" aria-hidden="true" href="#metalsurfaceimpedance"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>MetalSurfaceImpedance</h1>
<table>
<thead>
<tr>
<th align="center"><strong>Tests</strong></th>
<th align="center"><strong>CodeCov</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><a href="https://github.com/simonp0420/MetalSurfaceImpedance.jl/actions"><img src="https://github.com/simonp0420/MetalSurfaceImpedance.jl/workflows/CI/badge.svg?branch=main" alt="CI" style="max-width: 100%;"></a></td>
<td align="center"><a href="https://codecov.io/github/simonp0420/MetalSurfaceImpedance.jl?branch=main" rel="nofollow"><img src="https://camo.githubusercontent.com/f09655290d8898fbb64e60c2dd4b14bc68357a27d21a10d78955a87935130b64/68747470733a2f2f636f6465636f762e696f2f6769746875622f73696d6f6e70303432302f4d6574616c53757266616365496d706564616e63652e6a6c2f636f7665726167652e7376673f6272616e63683d6d61696e" alt="codecov.io" data-canonical-src="https://codecov.io/github/simonp0420/MetalSurfaceImpedance.jl/coverage.svg?branch=main" style="max-width: 100%;"></a></td>
</tr>
</tbody>
</table>
<p dir="auto">A small Julia package to calculate the surface impedance of rough metallic surfaces, useful in microwave
engineering and computational electromagnetics.  The complex surface impedance (assuming <math-renderer class="js-inline-math" style="display: inline" data-static-url="https://github.githubassets.com/static" data-run-id="3f31beda6e08f5646cbe66dfa48d7a5c">$e^{j\omega t}$</math-renderer> time variation) is computed using a fast rational function-like approximation of the Gradient model.  The approximation is taken from D. N. Grujić, "Simple and Accurate Approximation of Rough Conductor Surface Impedance," IEEE Trans. Microwave Theory Tech., vol. 70, no. 4, pp. 2053-2059, April 2022.</p>
<h2 dir="auto">
<a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<p dir="auto">You can obtain MetalSurfaceImpedance using Julia's Pkg REPL-mode (hitting <code>]</code> as the first character of the command prompt):</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="(@v1.8) pkg&gt; add MetalSurfaceImpedance"><pre>(<span class="pl-c1">@v1</span>.<span class="pl-c1">8</span>) pkg<span class="pl-k">&gt;</span> add MetalSurfaceImpedance</pre></div>
<p dir="auto">or with <code>using Pkg; Pkg.add("MetalSurfaceImpedance")</code>.</p>
<h2 dir="auto">
<a id="user-content-exported-functions" class="anchor" aria-hidden="true" href="#exported-functions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Exported Functions</h2>
<p dir="auto">The package exports two functions: <code>Zsurface</code> and <code>effective_conductivity</code>:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="Zsurface(f, σ₀, Rq, disttype=:normal)"><pre class="notranslate"><code>Zsurface(f, σ₀, Rq, disttype=:normal)
</code></pre></div>
<p dir="auto">Returns the complex surface impedance [Ω/□] for a rough (or smooth) metallic surface that is many skin depths thick.  The input arguments are:</p>
<ul dir="auto">
<li>
<code>f</code>:  The frequency [Hz].</li>
<li>
<code>σ₀</code>: The DC bulk conductivity of the metal [S/m].</li>
<li>
<code>Rq</code>: The RMS surface roughness [m].</li>
<li>
<code>disttype</code>: The type of probability distribution used to model the roughness.  Choices are <code>:normal</code> (the default, used for the "oxide" side of printed conductors) and <code>:rayleigh</code> (used for the "foil" side of printed conductors).</li>
</ul>
<h4 dir="auto"></h4>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="effective_conductivity(f, σ₀, Rq, disttype=:normal)"><pre class="notranslate"><code>effective_conductivity(f, σ₀, Rq, disttype=:normal)
</code></pre></div>
<p dir="auto">Returns the effective conductivity [S/m] due to surface roughness.  Input arguments are the same as those of <code>Zsurface</code>.</p>
<h3 dir="auto">
<a id="user-content-usage-examples" class="anchor" aria-hidden="true" href="#usage-examples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Usage examples</h3>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; using MetalSurfaceImpedance

julia&gt; σ₀ = 58e6 # 58 MS/m (pure Copper)
5.8e7

julia&gt; Zsurface(10e9, σ₀, 0, :rayleigh) # Smooth copper surface
0.02608950694933611 + 0.02608950694933611im

julia&gt; Zsurface(10e9, σ₀, 1e-6, :rayleigh) # 1 μm RMS roughness copper surface
0.07482375631106834 + 0.3177602251933982im

julia&gt; effective_conductivity(10e9, σ₀, 0.5e-6)
2.276056215432205e7

julia&gt; ans/σ₀
0.3924234854193457"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> MetalSurfaceImpedance

julia<span class="pl-k">&gt;</span> σ₀ <span class="pl-k">=</span> <span class="pl-c1">58e6</span> <span class="pl-c"><span class="pl-c">#</span> 58 MS/m (pure Copper)</span>
<span class="pl-c1">5.8e7</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">Zsurface</span>(<span class="pl-c1">10e9</span>, σ₀, <span class="pl-c1">0</span>, <span class="pl-c1">:rayleigh</span>) <span class="pl-c"><span class="pl-c">#</span> Smooth copper surface</span>
<span class="pl-c1">0.02608950694933611</span> <span class="pl-k">+</span> <span class="pl-c1">0.02608950694933611im</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">Zsurface</span>(<span class="pl-c1">10e9</span>, σ₀, <span class="pl-c1">1e-6</span>, <span class="pl-c1">:rayleigh</span>) <span class="pl-c"><span class="pl-c">#</span> 1 μm RMS roughness copper surface</span>
<span class="pl-c1">0.07482375631106834</span> <span class="pl-k">+</span> <span class="pl-c1">0.3177602251933982im</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">effective_conductivity</span>(<span class="pl-c1">10e9</span>, σ₀, <span class="pl-c1">0.5e-6</span>)
<span class="pl-c1">2.276056215432205e7</span>

julia<span class="pl-k">&gt;</span> ans<span class="pl-k">/</span>σ₀
<span class="pl-c1">0.3924234854193457</span></pre></div>
</article></div>