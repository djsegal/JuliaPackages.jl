<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-flamenco" class="anchor" aria-hidden="true" href="#flamenco"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Flamenco</h1>
<table>
<thead>
<tr>
<th align="center"><strong>Build Status</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><a href="https://travis-ci.com/DanceJL/Flamenco.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/7fb1ca9f64fac570c6a83cdc28ce360a8a7c48b939b8ad66ab0bac80d67a3ce7/68747470733a2f2f7472617669732d63692e636f6d2f44616e63654a4c2f466c616d656e636f2e6a6c2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.com/DanceJL/Flamenco.jl.svg?branch=master" style="max-width: 100%;"></a>  <a href="https://codecov.io/gh/DanceJL/Flamenco.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/7670972eb55a47b418bbad4ef7bc8480145b0718bbdc3a9a96133d8ac23dfb01/68747470733a2f2f636f6465636f762e696f2f67682f44616e63654a4c2f466c616d656e636f2e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/DanceJL/Flamenco.jl/branch/master/graph/badge.svg" style="max-width: 100%;"></a></td>
</tr>
</tbody>
</table>
<h2 dir="auto"><a id="user-content-1---introduction" class="anchor" aria-hidden="true" href="#1---introduction"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>1 - Introduction</h2>
<p dir="auto">Simple and fast HTTP parser for CRUD API backend Julia web frameworks.</p>
<p dir="auto">Takes advantage of Julia multi-threading via <a href="https://github.com/tro3/ThreadPools.jl">ThreadPools</a> and parses requests as buffer via <a href="https://github.com/BioJulia/BufferedStreams.jl/">BufferedStreams</a>.</p>
<p dir="auto">Architecture inspired from <a href="https://github.com/h2o/picohttpparser">PicoHTTPParser</a>.</p>
<h2 dir="auto"><a id="user-content-2---setup" class="anchor" aria-hidden="true" href="#2---setup"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>2 - Setup</h2>
<p dir="auto">Simply wrap your routing function inside <code>start_server</code>:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="Flamenco.start_server(&quot;127.0.0.1&quot;, 8000) do request::Flamenco.Server.Request
    routes(; request_headers=request.headers, request_method=request.method, request_path=request.target, request_payload=request.body)
end"><pre>Flamenco<span class="pl-k">.</span><span class="pl-c1">start_server</span>(<span class="pl-s"><span class="pl-pds">"</span>127.0.0.1<span class="pl-pds">"</span></span>, <span class="pl-c1">8000</span>) <span class="pl-k">do</span> request<span class="pl-k">::</span><span class="pl-c1">Flamenco.Server.Request</span>
    <span class="pl-c1">routes</span>(; request_headers<span class="pl-k">=</span>request<span class="pl-k">.</span>headers, request_method<span class="pl-k">=</span>request<span class="pl-k">.</span>method, request_path<span class="pl-k">=</span>request<span class="pl-k">.</span>target, request_payload<span class="pl-k">=</span>request<span class="pl-k">.</span>body)
<span class="pl-k">end</span></pre></div>
<p dir="auto">Your routing function must accept the 4 arguments:</p>
<ul dir="auto">
<li>request.headers ::Dict{String, String}</li>
<li>request.method ::String</li>
<li>request.target ::String</li>
<li>request.body ::String</li>
</ul>
<p dir="auto"><code>Content-Type</code> Header must be set inside your routing function as well. If <code>Content-Length</code> and <code>Date</code> Headers are not set, Flamenco will automatically set these in the HTTP response.</p>
<p dir="auto">If you would prefer this routing logic to be automatically taken care of, see <a href="https://github.com/DanceJL/Dance.jl">DanceJL</a> as an example..</p>
<h1 dir="auto"><a id="user-content-3---supported-http-standards" class="anchor" aria-hidden="true" href="#3---supported-http-standards"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>3 - Supported HTTP Standards</h1>
<p dir="auto">Currently only HTTP 1.1 is supported.</p>
<p dir="auto">Also the incoming request must be one of: DELETE, GET, OPTIONS, POST or PUT.</p>
</article></div>