<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1><a id="user-content-datasciencetutorialsjl" class="anchor" aria-hidden="true" href="#datasciencetutorialsjl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>DataScienceTutorials.jl</h1>
<p>Latest CI build: <a href="https://travis-ci.com/alan-turing-institute/DataScienceTutorials.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/821c1d11126186a33de8e7aa08ba142376fb8674/68747470733a2f2f7472617669732d63692e636f6d2f616c616e2d747572696e672d696e737469747574652f44617461536369656e63655475746f7269616c732e6a6c2e7376673f6272616e63683d6d6173746572" alt="Tutorials status" data-canonical-src="https://travis-ci.com/alan-turing-institute/DataScienceTutorials.jl.svg?branch=master" style="max-width:100%;"></a> with</p>
<pre><code>[336ed68f] CSV v0.6.2
[a93c6f00] DataFrames v0.21.1
[add582a8] MLJ v0.11.4
[a7f614a8] MLJBase v0.13.6
[d491faf4] MLJModels v0.9.11
</code></pre>
<p>This repository contains the source code for a <a href="https://alan-turing-institute.github.io/DataScienceTutorials.jl/" rel="nofollow">set of tutorials</a> introducing the use of Julia and Julia packages such as MLJ (but not only) to do "data science" in Julia.</p>
<h2><a id="user-content-for-readers" class="anchor" aria-hidden="true" href="#for-readers"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>For readers</h2>
<p>You can read the tutorials <a href="https://alan-turing-institute.github.io/DataScienceTutorials.jl/" rel="nofollow">online</a>.</p>
<p>If you want to experiment on the side and make sure you have an identical environment to the one used to generate those tutorials, please <strong>activate</strong> and <strong>instantiate</strong> the environment using <a href="https://raw.githubusercontent.com/alan-turing-institute/DataScienceTutorials.jl/master/Project.toml" rel="nofollow">this Project.toml</a> file and <a href="https://raw.githubusercontent.com/alan-turing-institute/DataScienceTutorials.jl/master/Manifest.toml" rel="nofollow">this Manifest.toml</a> file.</p>
<p>To do so, save both files in an appropriate folder, start Julia, <code>cd</code> to the folder and</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-k">using</span> Pkg
Pkg<span class="pl-k">.</span><span class="pl-c1">activate</span>(<span class="pl-s"><span class="pl-pds">"</span>.<span class="pl-pds">"</span></span>)
Pkg<span class="pl-k">.</span><span class="pl-c1">instantiate</span>()</pre></div>
<p>Each tutorial has a link at the top for a notebook or the raw script which you can download by right-clicking on the link and selecting "<em>Save file as...</em>".</p>
<p><strong>Note</strong>: you are strongly encouraged to <a href="https://github.com/alan-turing-institute/DataScienceTutorials.jl/issues/new">open issues</a> on this repository indicating points that are unclear or could be better explained, help us have great tutorials!</p>
<hr>
<h2><a id="user-content-for-developers" class="anchor" aria-hidden="true" href="#for-developers"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>For developers</h2>
<p>The rest of these instructions assume that you've cloned the package and have <code>cd</code> to it.</p>
<h3><a id="user-content-important-first-steps" class="anchor" aria-hidden="true" href="#important-first-steps"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Important first steps</h3>
<p>Start by running this line in your REPL (<em>always</em>):</p>
<pre lang="julia-repl"><code>julia&gt; include("start.jl")
</code></pre>
<p>When it's time to push updates, <strong>only</strong> use <code>include("deploy.jl")</code> (assuming you have admin rights) as this also re-generates notebooks and scripts and pushes everything at the right place (see <a href="#push-updates">this point</a>).</p>
<p><strong>Note</strong>: keep your tutorials short! if there's a tuning step at some point, do it on a high resolution search locally and only show a rough search in the right area in the tutorial otherwise running tutorials can take a long time.</p>
<h3><a id="user-content-modifying-literate-scripts" class="anchor" aria-hidden="true" href="#modifying-literate-scripts"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Modifying literate scripts</h3>
<ol>
<li>add packages if you need additional ones (<code>] add ...</code>), make sure to update explicit compat requirements in the <code>Project.toml</code> file</li>
<li>add/modify tutorials in the <code>_literate/</code> folder</li>
<li>to help display things neatly on the webpage (no horizontal overflow), prefer <code>pprint</code> from <code>PrettyPrinting.jl</code> to display things like <code>NamedTuple</code></li>
<li>add <code>;</code> at the end of final lines of code blocks if you want to suppress output</li>
</ol>
<h3><a id="user-content-adding-a-page" class="anchor" aria-hidden="true" href="#adding-a-page"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Adding a page</h3>
<p>Say you've added a new script <code>A-my-tutorial.jl</code>, follow these steps to add a corresponding page on the website:</p>
<ol>
<li>copy one of the markdown file available in <code>getting-started</code> and paste it somewhere appropriate e.g.: <code>getting-started/my-tutorial.md</code></li>
<li>modify the title on that page, <code># My tutorial</code></li>
<li>modify the <code>\tutorial</code> command to <code>\tutorial{A-my-tutorial}</code> (no extensions)</li>
</ol>
<p>By now you have at <code>getting-started/my-tutorial.md</code></p>
<div class="highlight highlight-source-gfm"><pre><span class="pl-v">@</span><span class="pl-s">def</span> hascode = true
<span class="pl-v">@</span><span class="pl-s">def</span> showall = true

<span class="pl-mh"><span class="pl-mh">#</span><span class="pl-mh"> </span>My tutorial</span>

<span class="pl-cce">\t</span>utorial{A-my-tutorial}</pre></div>
<p>The last thing to do is to add a link to the page in <code>_layout/head.html</code> so that it can be navigated to, copy paste the appropriate list item modifying the names so for instance:</p>
<div class="highlight highlight-text-html-basic"><pre><span class="pl-kos">&lt;</span><span class="pl-ent">li</span> <span class="pl-c1">class</span>="<span class="pl-s">pure-menu-item {{ispage /getting-started/my-tutorial/index.html}}pure-menu-selected{{end}}</span>"<span class="pl-kos">&gt;</span><span class="pl-kos">&lt;</span><span class="pl-ent">a</span> <span class="pl-c1">href</span>="<span class="pl-s">/getting-started/my-tutorial/index.html</span>" <span class="pl-c1">class</span>="<span class="pl-s">pure-menu-link</span>"<span class="pl-kos">&gt;</span>⊳ My tutorial<span class="pl-kos">&lt;/</span><span class="pl-ent">a</span><span class="pl-kos">&gt;</span><span class="pl-kos">&lt;/</span><span class="pl-ent">li</span><span class="pl-kos">&gt;</span></pre></div>
<h3><a id="user-content-visualise-modifications-locally" class="anchor" aria-hidden="true" href="#visualise-modifications-locally"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Visualise modifications locally</h3>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">cd</span>(<span class="pl-s"><span class="pl-pds">"</span>path/to/DataScienceTutorials<span class="pl-pds">"</span></span>)
<span class="pl-k">using</span> Franklin
<span class="pl-c1">serve</span>()</pre></div>
<p>If you have changed the <em>code</em> of some of the literate scripts, Franklin will need to re-evaluate some of the code which may take some time, progress is indicated in the REPL.</p>
<p>If you decide to change some of the code while <code>serve()</code> is running, this is fine, Franklin will detect it and trigger an update of the relevant web pages (after evaluating the new code).</p>
<p><strong>Notes</strong>:</p>
<ul>
<li>avoid modifying the literate file, killing the Julia session, then calling <code>serve()</code> that sequence can cause weird issues where Julia will complain about the age of the world...</li>
<li>the <code>serve()</code> command above activates the environment.</li>
</ul>
<h3><a id="user-content-plots" class="anchor" aria-hidden="true" href="#plots"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Plots</h3>
<p>For the moment, plots are done with <code>PyPlot.jl</code> (though you're not restricted to use it).
It's best not to use <code>Plots.jl</code> because the loading time would risk making full updates of the webpage annoyingly slow.</p>
<p>In order to display a plot, finish a code block defining a plot with</p>
<pre><code>savefig(joinpath(@OUTPUT, "MyTutorial-Fig1.svg")) # hide

# \figalt{the alt here}{MyTutorial-Fig1.svg}
</code></pre>
<p>Please do not use anything else than SVG; please also stick to this path and start the name of the file with the name of the tutorial (to help keep files organised).</p>
<p>Do not forget to add the <code># hide</code> which will ensure the line is not displayed on the website, notebook, or script.</p>
<h3><a id="user-content-troubleshooting" class="anchor" aria-hidden="true" href="#troubleshooting"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Troubleshooting</h3>
<h4><a id="user-content-stale-files" class="anchor" aria-hidden="true" href="#stale-files"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Stale files</h4>
<p>It can happen that something went wrong and you'd like to force Franklin to re-evaluate everything to clear things up. To do this, head to the parent markdown file (e.g. <code>my-tutorial.md</code>) and add below the other ones:</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">@def</span> reeval <span class="pl-k">=</span> <span class="pl-c1">true</span></pre></div>
<p>save the file, wait for Franklin to complete its update and then remove it (otherwise it will reevaluate the script every single pass which can slow things down a lot).</p>
<p>If you get an "age of the world" error, the <code>reeval</code> steps above usually works as well.</p>
<p>If you want to force the reevaluation of everything once, restart a Julia session and use</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">serve</span>(; eval_all<span class="pl-k">=</span><span class="pl-c1">true</span>)</pre></div>
<p>note that this will take a while.</p>
<h4><a id="user-content-merge-conflicts" class="anchor" aria-hidden="true" href="#merge-conflicts"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Merge conflicts</h4>
<p>If you get merge conflicts, do</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">cleanpull</span>()
<span class="pl-c1">serve</span>()</pre></div>
<p>the first command will remove all stale generated HTML which may conflict with older ones.</p>
<h3><a id="user-content-push-updates" class="anchor" aria-hidden="true" href="#push-updates"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Push updates</h3>
<p><em>Requirements</em>:</p>
<ul>
<li>admin access to the repo</li>
<li><code>] add Literate Franklin NodeJS</code></li>
<li>install <code>highlight.js</code> and <code>gh-pages</code> from within Julia: <code>run(`sudo $(npm_cmd()) i highlight.js gh-pages`)</code></li>
</ul>
<p>Assuming you have all that, just run</p>
<div class="highlight highlight-source-julia"><pre><span class="pl-c1">include</span>(<span class="pl-s"><span class="pl-pds">"</span>deploy.jl<span class="pl-pds">"</span></span>)</pre></div>
<p>This should take ≤ 15 seconds to complete.</p>
<p>If you don't have some of the requirements, or if something failed, just open a PR.</p>
<h3><a id="user-content-continuous-integration" class="anchor" aria-hidden="true" href="#continuous-integration"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Continuous Integration</h3>
<p>To help maintain tutorials, most of them are tested on Travis.
However tutorials that include plotting should <strong>not</strong> be included.
Please adjust the file <code>test/runtests.jl</code> accordingly following the example.</p>
</article></div>