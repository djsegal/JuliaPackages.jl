<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-pathsolverjl" class="anchor" aria-hidden="true" href="#pathsolverjl"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>PATHSolver.jl</h1>
<p dir="auto"><a href="https://github.com/chkwon/PATHSolver.jl/actions?query=workflow%3ACI"><img src="https://github.com/chkwon/PATHSolver.jl/workflows/CI/badge.svg?branch=master" alt="Build Status" style="max-width: 100%;"></a>
<a href="https://codecov.io/gh/chkwon/PATHSolver.jl" rel="nofollow"><img src="https://camo.githubusercontent.com/ae896248e2e51dd5bd2e3ef89718744bef97da18e153fa7d60e342f1bb5397f8/68747470733a2f2f636f6465636f762e696f2f67682f63686b776f6e2f50415448536f6c7665722e6a6c2f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/chkwon/PATHSolver.jl/branch/master/graph/badge.svg" style="max-width: 100%;"></a></p>
<p dir="auto"><a href="https://github.com/chkwon/PATHSolver.jl">PATHSolver.jl</a> is a wrapper for the
<a href="http://pages.cs.wisc.edu/~ferris/path.html" rel="nofollow">PATH solver</a>.</p>
<p dir="auto">The wrapper has two components:</p>
<ul dir="auto">
<li>a thin wrapper around the C API</li>
<li>an interface to <a href="https://github.com/jump-dev/MathOptInterface.jl">MathOptInterface</a></li>
</ul>
<p dir="auto">You can solve any complementarity problem using the wrapper around the C API,
although you must manually provide the callback functions, including the
Jacobian.</p>
<p dir="auto">The MathOptInterface wrapper is more limited, supporting only linear
complementarity problems, but it enables PATHSolver to be used with <a href="https://github.com/jump-dev/JuMP.jl">JuMP</a>.</p>
<h2 dir="auto"><a id="user-content-affiliation" class="anchor" aria-hidden="true" href="#affiliation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Affiliation</h2>
<p dir="auto">This wrapper is maintained by the JuMP community and is not an official wrapper
of PATH. However, we are in close contact with the PATH developers, and they
have given us permission to re-distribute the PATH binaries for automatic
installation.</p>
<h2 dir="auto"><a id="user-content-license" class="anchor" aria-hidden="true" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>License</h2>
<p dir="auto"><code>PATHSolver.jl</code> is licensed under the <a href="https://github.com/chkwon/PATHSolver.jl/blob/master/LICENSE.md">MIT License</a>.</p>
<p dir="auto">The underlying solver, <a href="https://pages.cs.wisc.edu/~ferris/path.html" rel="nofollow">path</a> is
closed source and requires a license.</p>
<p dir="auto">Without a license, the PATH Solver can solve problem instances up to with up
to 300 variables and 2000 non-zeros. For larger problems,
<a href="http://pages.cs.wisc.edu/~ferris/path/julia/LICENSE" rel="nofollow">this web page</a> provides a
temporary license that is valid for a year.</p>
<p dir="auto">You can either store the license in the <code>PATH_LICENSE_STRING</code> environment
variable, or you can use the <code>PATHSolver.c_api_License_SetString</code> function
immediately after importing the <code>PATHSolver</code> package:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="using PATHSolver
PATHSolver.c_api_License_SetString(&quot;&lt;LICENSE STRING&gt;&quot;)"><pre><span class="pl-k">using</span> PATHSolver
PATHSolver<span class="pl-k">.</span><span class="pl-c1">c_api_License_SetString</span>(<span class="pl-s"><span class="pl-pds">"</span>&lt;LICENSE STRING&gt;<span class="pl-pds">"</span></span>)</pre></div>
<p dir="auto">where <code>&lt;LICENSE STRING&gt;</code> is replaced by the current license string.</p>
<h2 dir="auto"><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<p dir="auto">Install <code>PATHSolver.jl</code> as follows:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import Pkg
Pkg.add(&quot;PATHSolver&quot;)"><pre><span class="pl-k">import</span> Pkg
Pkg<span class="pl-k">.</span><span class="pl-c1">add</span>(<span class="pl-s"><span class="pl-pds">"</span>PATHSolver<span class="pl-pds">"</span></span>)</pre></div>
<p dir="auto">By default, <code>PATHSolver.jl</code> will download a copy of the underlying PATH solver.
To use a different version of PATH, see the Manual Installation section below.</p>
<h2 dir="auto"><a id="user-content-use-with-jump" class="anchor" aria-hidden="true" href="#use-with-jump"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Use with JuMP</h2>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; using JuMP, PATHSolver

julia&gt; M = [
           0  0 -1 -1
           0  0  1 -2
           1 -1  2 -2
           1  2 -2  4
       ]
4×4 Array{Int64,2}:
 0   0  -1  -1
 0   0   1  -2
 1  -1   2  -2
 1   2  -2   4

julia&gt; q = [2, 2, -2, -6]
4-element Array{Int64,1}:
  2
  2
 -2
 -6

julia&gt; model = Model(PATHSolver.Optimizer)
A JuMP Model
Feasibility problem with:
Variables: 0
Model mode: AUTOMATIC
CachingOptimizer state: EMPTY_OPTIMIZER
Solver name: Path 5.0.00

julia&gt; set_optimizer_attribute(model, &quot;output&quot;, &quot;no&quot;)

julia&gt; @variable(model, x[1:4] &gt;= 0)
4-element Array{VariableRef,1}:
 x[1]
 x[2]
 x[3]
 x[4]

julia&gt; @constraint(model, M * x .+ q ⟂ x)
[-x[3] - x[4] + 2, x[3] - 2 x[4] + 2, x[1] - x[2] + 2 x[3] - 2 x[4] - 2, x[1] + 2 x[2] - 2 x[3] + 4 x[4] - 6, x[1], x[2], x[3], x[4]] ∈ MOI.Complements(4)

julia&gt; optimize!(model)
Reading options file /var/folders/bg/dzq_hhvx1dxgy6gb5510pxj80000gn/T/tmpiSsCRO
Read of options file complete.

Path 5.0.00 (Mon Aug 19 10:57:18 2019)
Written by Todd Munson, Steven Dirkse, Youngdae Kim, and Michael Ferris

julia&gt; value.(x)
4-element Array{Float64,1}:
 2.8
 0.0
 0.7999999999999998
 1.2

julia&gt; termination_status(model)
LOCALLY_SOLVED::TerminationStatusCode = 4"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> JuMP, PATHSolver

julia<span class="pl-k">&gt;</span> M <span class="pl-k">=</span> [
           <span class="pl-c1">0</span>  <span class="pl-c1">0</span> <span class="pl-k">-</span><span class="pl-c1">1</span> <span class="pl-k">-</span><span class="pl-c1">1</span>
           <span class="pl-c1">0</span>  <span class="pl-c1">0</span>  <span class="pl-c1">1</span> <span class="pl-k">-</span><span class="pl-c1">2</span>
           <span class="pl-c1">1</span> <span class="pl-k">-</span><span class="pl-c1">1</span>  <span class="pl-c1">2</span> <span class="pl-k">-</span><span class="pl-c1">2</span>
           <span class="pl-c1">1</span>  <span class="pl-c1">2</span> <span class="pl-k">-</span><span class="pl-c1">2</span>  <span class="pl-c1">4</span>
       ]
<span class="pl-c1">4</span><span class="pl-k">×</span><span class="pl-c1">4</span> Array{Int64,<span class="pl-c1">2</span>}<span class="pl-k">:</span>
 <span class="pl-c1">0</span>   <span class="pl-c1">0</span>  <span class="pl-k">-</span><span class="pl-c1">1</span>  <span class="pl-k">-</span><span class="pl-c1">1</span>
 <span class="pl-c1">0</span>   <span class="pl-c1">0</span>   <span class="pl-c1">1</span>  <span class="pl-k">-</span><span class="pl-c1">2</span>
 <span class="pl-c1">1</span>  <span class="pl-k">-</span><span class="pl-c1">1</span>   <span class="pl-c1">2</span>  <span class="pl-k">-</span><span class="pl-c1">2</span>
 <span class="pl-c1">1</span>   <span class="pl-c1">2</span>  <span class="pl-k">-</span><span class="pl-c1">2</span>   <span class="pl-c1">4</span>

julia<span class="pl-k">&gt;</span> q <span class="pl-k">=</span> [<span class="pl-c1">2</span>, <span class="pl-c1">2</span>, <span class="pl-k">-</span><span class="pl-c1">2</span>, <span class="pl-k">-</span><span class="pl-c1">6</span>]
<span class="pl-c1">4</span><span class="pl-k">-</span>element Array{Int64,<span class="pl-c1">1</span>}<span class="pl-k">:</span>
  <span class="pl-c1">2</span>
  <span class="pl-c1">2</span>
 <span class="pl-k">-</span><span class="pl-c1">2</span>
 <span class="pl-k">-</span><span class="pl-c1">6</span>

julia<span class="pl-k">&gt;</span> model <span class="pl-k">=</span> <span class="pl-c1">Model</span>(PATHSolver<span class="pl-k">.</span>Optimizer)
A JuMP Model
Feasibility problem with<span class="pl-k">:</span>
Variables<span class="pl-k">:</span> <span class="pl-c1">0</span>
Model mode<span class="pl-k">:</span> AUTOMATIC
CachingOptimizer state<span class="pl-k">:</span> EMPTY_OPTIMIZER
Solver name<span class="pl-k">:</span> Path <span class="pl-c1">5.0</span>.<span class="pl-c1">00</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">set_optimizer_attribute</span>(model, <span class="pl-s"><span class="pl-pds">"</span>output<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>no<span class="pl-pds">"</span></span>)

julia<span class="pl-k">&gt;</span> <span class="pl-c1">@variable</span>(model, x[<span class="pl-c1">1</span><span class="pl-k">:</span><span class="pl-c1">4</span>] <span class="pl-k">&gt;=</span> <span class="pl-c1">0</span>)
<span class="pl-c1">4</span><span class="pl-k">-</span>element Array{VariableRef,<span class="pl-c1">1</span>}<span class="pl-k">:</span>
 x[<span class="pl-c1">1</span>]
 x[<span class="pl-c1">2</span>]
 x[<span class="pl-c1">3</span>]
 x[<span class="pl-c1">4</span>]

julia<span class="pl-k">&gt;</span> <span class="pl-c1">@constraint</span>(model, M <span class="pl-k">*</span> x <span class="pl-k">.+</span> q ⟂ x)
[<span class="pl-k">-</span>x[<span class="pl-c1">3</span>] <span class="pl-k">-</span> x[<span class="pl-c1">4</span>] <span class="pl-k">+</span> <span class="pl-c1">2</span>, x[<span class="pl-c1">3</span>] <span class="pl-k">-</span> <span class="pl-c1">2</span> x[<span class="pl-c1">4</span>] <span class="pl-k">+</span> <span class="pl-c1">2</span>, x[<span class="pl-c1">1</span>] <span class="pl-k">-</span> x[<span class="pl-c1">2</span>] <span class="pl-k">+</span> <span class="pl-c1">2</span> x[<span class="pl-c1">3</span>] <span class="pl-k">-</span> <span class="pl-c1">2</span> x[<span class="pl-c1">4</span>] <span class="pl-k">-</span> <span class="pl-c1">2</span>, x[<span class="pl-c1">1</span>] <span class="pl-k">+</span> <span class="pl-c1">2</span> x[<span class="pl-c1">2</span>] <span class="pl-k">-</span> <span class="pl-c1">2</span> x[<span class="pl-c1">3</span>] <span class="pl-k">+</span> <span class="pl-c1">4</span> x[<span class="pl-c1">4</span>] <span class="pl-k">-</span> <span class="pl-c1">6</span>, x[<span class="pl-c1">1</span>], x[<span class="pl-c1">2</span>], x[<span class="pl-c1">3</span>], x[<span class="pl-c1">4</span>]] <span class="pl-k">∈</span> MOI<span class="pl-k">.</span><span class="pl-c1">Complements</span>(<span class="pl-c1">4</span>)

julia<span class="pl-k">&gt;</span> <span class="pl-c1">optimize!</span>(model)
Reading options file <span class="pl-k">/</span>var<span class="pl-k">/</span>folders<span class="pl-k">/</span>bg<span class="pl-k">/</span>dzq_hhvx1dxgy6gb5510pxj80000gn<span class="pl-k">/</span>T<span class="pl-k">/</span>tmpiSsCRO
Read of options file complete.

Path <span class="pl-c1">5.0</span>.<span class="pl-c1">00</span> (Mon Aug <span class="pl-c1">19</span> <span class="pl-c1">10</span><span class="pl-k">:</span><span class="pl-c1">57</span><span class="pl-k">:</span><span class="pl-c1">18</span> <span class="pl-c1">2019</span>)
Written by Todd Munson, Steven Dirkse, Youngdae Kim, and Michael Ferris

julia<span class="pl-k">&gt;</span> <span class="pl-c1">value</span>.(x)
<span class="pl-c1">4</span><span class="pl-k">-</span>element Array{Float64,<span class="pl-c1">1</span>}<span class="pl-k">:</span>
 <span class="pl-c1">2.8</span>
 <span class="pl-c1">0.0</span>
 <span class="pl-c1">0.7999999999999998</span>
 <span class="pl-c1">1.2</span>

julia<span class="pl-k">&gt;</span> <span class="pl-c1">termination_status</span>(model)
LOCALLY_SOLVED<span class="pl-k">::</span><span class="pl-c1">TerminationStatusCode</span> <span class="pl-k">=</span> <span class="pl-c1">4</span></pre></div>
<p dir="auto">Note that options are set using <code>JuMP.set_optimizer_attribute</code>.</p>
<p dir="auto">The list of options supported by PATH can be found here: <a href="https://pages.cs.wisc.edu/~ferris/path/options.pdf" rel="nofollow">https://pages.cs.wisc.edu/~ferris/path/options.pdf</a></p>
<h2 dir="auto"><a id="user-content-mathoptinterface-api" class="anchor" aria-hidden="true" href="#mathoptinterface-api"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>MathOptInterface API</h2>
<p dir="auto">The Path 5.0.03 optimizer supports the following constraints and attributes.</p>
<p dir="auto">List of supported variable types:</p>
<ul dir="auto">
<li><a href="@ref"><code>MOI.Reals</code></a></li>
</ul>
<p dir="auto">List of supported constraint types:</p>
<ul dir="auto">
<li><a href="@ref"><code>MOI.VariableIndex</code></a> in <a href="@ref"><code>MOI.EqualTo{Float64}</code></a></li>
<li><a href="@ref"><code>MOI.VariableIndex</code></a> in <a href="@ref"><code>MOI.GreaterThan{Float64}</code></a></li>
<li><a href="@ref"><code>MOI.VariableIndex</code></a> in <a href="@ref"><code>MOI.Interval{Float64}</code></a></li>
<li><a href="@ref"><code>MOI.VariableIndex</code></a> in <a href="@ref"><code>MOI.LessThan{Float64}</code></a></li>
<li><a href="@ref"><code>MOI.VectorAffineFunction{Float64}</code></a> in <a href="@ref"><code>MOI.Complements</code></a></li>
</ul>
<p dir="auto">List of supported model attributes:</p>
<ul dir="auto">
<li><a href="@ref"><code>MOI.Name()</code></a></li>
<li><a href="@ref"><code>MOI.ObjectiveSense()</code></a></li>
</ul>
<h2 dir="auto"><a id="user-content-use-with-the-c-api" class="anchor" aria-hidden="true" href="#use-with-the-c-api"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Use with the C API</h2>
<p dir="auto"><code>PATHSolver.jl</code> wraps the PATH C API using <code>PATHSolver.c_api_XXX</code> for the C
method <code>XXX</code>. However, using the C API directly from Julia can be challenging,
particularly with respect to avoiding issues with Julia's garbage collector.</p>
<p dir="auto">Instead, we recommend that you use the <code>PATHSolver.solve_mcp</code> function, which
wrappers the C API into a single call. See the docstring of <code>PATHSolver.solve_mcp</code>
for a detailed description of the arguments.</p>
<p dir="auto">Here is the same example using <code>PATHSolver.solve_mcp</code>. Note that you must
manually construct the sparse Jacobian callback.</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="julia&gt; using PATHSolver

julia&gt; M = [
           0  0 -1 -1
           0  0  1 -2
           1 -1  2 -2
           1  2 -2  4
       ]
4×4 Matrix{Int64}:
 0   0  -1  -1
 0   0   1  -2
 1  -1   2  -2
 1   2  -2   4

julia&gt; q = [2, 2, -2, -6]
4-element Vector{Int64}:
  2
  2
 -2
 -6

julia&gt; function F(n::Cint, x::Vector{Cdouble}, f::Vector{Cdouble})
           @assert n == length(x) == length(f)
           f .= M * x .+ q
           return Cint(0)
       end
F (generic function with 1 method)

julia&gt; function J(
           n::Cint,
           nnz::Cint,
           x::Vector{Cdouble},
           col::Vector{Cint},
           len::Vector{Cint},
           row::Vector{Cint},
           data::Vector{Cdouble},
       )
           @assert n == length(x) == length(col) == length(len) == 4
           @assert nnz == length(row) == length(data)
           i = 1
           for c in 1:n
               col[c], len[c] = i, 0
               for r in 1:n
                   if !iszero(M[r, c])
                       row[i], data[i] = r, M[r, c]
                       len[c] += 1
                       i += 1
                   end
               end
           end
           return Cint(0)
       end
J (generic function with 1 method)

julia&gt; status, z, info = PATHSolver.solve_mcp(
           F,
           J,
           fill(0.0, 4),  # Lower bounds
           fill(Inf, 4),  # Upper bounds
           fill(0.0, 4);  # Starting point
           nnz = 12,      # Number of nonzeros in the Jacobian
           output = &quot;yes&quot;,
       )
Reading options file /var/folders/bg/dzq_hhvx1dxgy6gb5510pxj80000gn/T/jl_iftYBS
 &gt; output yes
Read of options file complete.

Path 5.0.03 (Fri Jun 26 09:58:07 2020)
Written by Todd Munson, Steven Dirkse, Youngdae Kim, and Michael Ferris

Crash Log
major  func  diff  size  residual    step       prox   (label)
    0     0             1.2649e+01             0.0e+00 (f[    4])
    1     2     4     2 1.0535e+01  8.0e-01    0.0e+00 (f[    1])
    2     3     2     4 8.4815e-01  1.0e+00    0.0e+00 (f[    4])
    3     4     0     3 4.4409e-16  1.0e+00    0.0e+00 (f[    3])
pn_search terminated: no basis change.

Major Iteration Log
major minor  func  grad  residual    step  type prox    inorm  (label)
    0     0     5     4 4.4409e-16           I 0.0e+00 4.4e-16 (f[    3])

Major Iterations. . . . 0
Minor Iterations. . . . 0
Restarts. . . . . . . . 0
Crash Iterations. . . . 3
Gradient Steps. . . . . 0
Function Evaluations. . 5
Gradient Evaluations. . 4
Basis Time. . . . . . . 0.000016
Total Time. . . . . . . 0.044383
Residual. . . . . . . . 4.440892e-16
(PATHSolver.MCP_Solved, [2.8, 0.0, 0.8, 1.2], PATHSolver.Information(4.4408920985006247e-16, 0.0, 0.0, 0.044383, 1.6e-5, 0.0, 0, 0, 3, 5, 4, 0, 0, 0, 0, false, false, false, true, false, false, false))

julia&gt; status
MCP_Solved::MCP_Termination = 1

julia&gt; z
4-element Vector{Float64}:
 2.8
 0.0
 0.8
 1.2"><pre>julia<span class="pl-k">&gt;</span> <span class="pl-k">using</span> PATHSolver

julia<span class="pl-k">&gt;</span> M <span class="pl-k">=</span> [
           <span class="pl-c1">0</span>  <span class="pl-c1">0</span> <span class="pl-k">-</span><span class="pl-c1">1</span> <span class="pl-k">-</span><span class="pl-c1">1</span>
           <span class="pl-c1">0</span>  <span class="pl-c1">0</span>  <span class="pl-c1">1</span> <span class="pl-k">-</span><span class="pl-c1">2</span>
           <span class="pl-c1">1</span> <span class="pl-k">-</span><span class="pl-c1">1</span>  <span class="pl-c1">2</span> <span class="pl-k">-</span><span class="pl-c1">2</span>
           <span class="pl-c1">1</span>  <span class="pl-c1">2</span> <span class="pl-k">-</span><span class="pl-c1">2</span>  <span class="pl-c1">4</span>
       ]
<span class="pl-c1">4</span><span class="pl-k">×</span><span class="pl-c1">4</span> Matrix{Int64}<span class="pl-k">:</span>
 <span class="pl-c1">0</span>   <span class="pl-c1">0</span>  <span class="pl-k">-</span><span class="pl-c1">1</span>  <span class="pl-k">-</span><span class="pl-c1">1</span>
 <span class="pl-c1">0</span>   <span class="pl-c1">0</span>   <span class="pl-c1">1</span>  <span class="pl-k">-</span><span class="pl-c1">2</span>
 <span class="pl-c1">1</span>  <span class="pl-k">-</span><span class="pl-c1">1</span>   <span class="pl-c1">2</span>  <span class="pl-k">-</span><span class="pl-c1">2</span>
 <span class="pl-c1">1</span>   <span class="pl-c1">2</span>  <span class="pl-k">-</span><span class="pl-c1">2</span>   <span class="pl-c1">4</span>

julia<span class="pl-k">&gt;</span> q <span class="pl-k">=</span> [<span class="pl-c1">2</span>, <span class="pl-c1">2</span>, <span class="pl-k">-</span><span class="pl-c1">2</span>, <span class="pl-k">-</span><span class="pl-c1">6</span>]
<span class="pl-c1">4</span><span class="pl-k">-</span>element Vector{Int64}<span class="pl-k">:</span>
  <span class="pl-c1">2</span>
  <span class="pl-c1">2</span>
 <span class="pl-k">-</span><span class="pl-c1">2</span>
 <span class="pl-k">-</span><span class="pl-c1">6</span>

julia<span class="pl-k">&gt;</span> <span class="pl-k">function</span> <span class="pl-en">F</span>(n<span class="pl-k">::</span><span class="pl-c1">Cint</span>, x<span class="pl-k">::</span><span class="pl-c1">Vector{Cdouble}</span>, f<span class="pl-k">::</span><span class="pl-c1">Vector{Cdouble}</span>)
           <span class="pl-c1">@assert</span> n <span class="pl-k">==</span> <span class="pl-c1">length</span>(x) <span class="pl-k">==</span> <span class="pl-c1">length</span>(f)
           f <span class="pl-k">.=</span> M <span class="pl-k">*</span> x <span class="pl-k">.+</span> q
           <span class="pl-k">return</span> <span class="pl-c1">Cint</span>(<span class="pl-c1">0</span>)
       <span class="pl-k">end</span>
F (generic <span class="pl-k">function</span> with <span class="pl-c1">1</span> method)

julia<span class="pl-k">&gt;</span> <span class="pl-k">function</span> <span class="pl-en">J</span>(
           n<span class="pl-k">::</span><span class="pl-c1">Cint</span>,
           nnz<span class="pl-k">::</span><span class="pl-c1">Cint</span>,
           x<span class="pl-k">::</span><span class="pl-c1">Vector{Cdouble}</span>,
           col<span class="pl-k">::</span><span class="pl-c1">Vector{Cint}</span>,
           len<span class="pl-k">::</span><span class="pl-c1">Vector{Cint}</span>,
           row<span class="pl-k">::</span><span class="pl-c1">Vector{Cint}</span>,
           data<span class="pl-k">::</span><span class="pl-c1">Vector{Cdouble}</span>,
       )
           <span class="pl-c1">@assert</span> n <span class="pl-k">==</span> <span class="pl-c1">length</span>(x) <span class="pl-k">==</span> <span class="pl-c1">length</span>(col) <span class="pl-k">==</span> <span class="pl-c1">length</span>(len) <span class="pl-k">==</span> <span class="pl-c1">4</span>
           <span class="pl-c1">@assert</span> nnz <span class="pl-k">==</span> <span class="pl-c1">length</span>(row) <span class="pl-k">==</span> <span class="pl-c1">length</span>(data)
           i <span class="pl-k">=</span> <span class="pl-c1">1</span>
           <span class="pl-k">for</span> c <span class="pl-k">in</span> <span class="pl-c1">1</span><span class="pl-k">:</span>n
               col[c], len[c] <span class="pl-k">=</span> i, <span class="pl-c1">0</span>
               <span class="pl-k">for</span> r <span class="pl-k">in</span> <span class="pl-c1">1</span><span class="pl-k">:</span>n
                   <span class="pl-k">if</span> <span class="pl-k">!</span><span class="pl-c1">iszero</span>(M[r, c])
                       row[i], data[i] <span class="pl-k">=</span> r, M[r, c]
                       len[c] <span class="pl-k">+=</span> <span class="pl-c1">1</span>
                       i <span class="pl-k">+=</span> <span class="pl-c1">1</span>
                   <span class="pl-k">end</span>
               <span class="pl-k">end</span>
           <span class="pl-k">end</span>
           <span class="pl-k">return</span> <span class="pl-c1">Cint</span>(<span class="pl-c1">0</span>)
       <span class="pl-k">end</span>
J (generic <span class="pl-k">function</span> with <span class="pl-c1">1</span> method)

julia<span class="pl-k">&gt;</span> status, z, info <span class="pl-k">=</span> PATHSolver<span class="pl-k">.</span><span class="pl-c1">solve_mcp</span>(
           F,
           J,
           <span class="pl-c1">fill</span>(<span class="pl-c1">0.0</span>, <span class="pl-c1">4</span>),  <span class="pl-c"><span class="pl-c">#</span> Lower bounds</span>
           <span class="pl-c1">fill</span>(<span class="pl-c1">Inf</span>, <span class="pl-c1">4</span>),  <span class="pl-c"><span class="pl-c">#</span> Upper bounds</span>
           <span class="pl-c1">fill</span>(<span class="pl-c1">0.0</span>, <span class="pl-c1">4</span>);  <span class="pl-c"><span class="pl-c">#</span> Starting point</span>
           nnz <span class="pl-k">=</span> <span class="pl-c1">12</span>,      <span class="pl-c"><span class="pl-c">#</span> Number of nonzeros in the Jacobian</span>
           output <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>yes<span class="pl-pds">"</span></span>,
       )
Reading options file <span class="pl-k">/</span>var<span class="pl-k">/</span>folders<span class="pl-k">/</span>bg<span class="pl-k">/</span>dzq_hhvx1dxgy6gb5510pxj80000gn<span class="pl-k">/</span>T<span class="pl-k">/</span>jl_iftYBS
 <span class="pl-k">&gt;</span> output yes
Read of options file complete.

Path <span class="pl-c1">5.0</span>.<span class="pl-c1">03</span> (Fri Jun <span class="pl-c1">26</span> <span class="pl-c1">09</span><span class="pl-k">:</span><span class="pl-c1">58</span><span class="pl-k">:</span><span class="pl-c1">07</span> <span class="pl-c1">2020</span>)
Written by Todd Munson, Steven Dirkse, Youngdae Kim, and Michael Ferris

Crash Log
major  func  diff  size  residual    step       prox   (label)
    <span class="pl-c1">0</span>     <span class="pl-c1">0</span>             <span class="pl-c1">1.2649e+01</span>             <span class="pl-c1">0.0e+00</span> (f[    <span class="pl-c1">4</span>])
    <span class="pl-c1">1</span>     <span class="pl-c1">2</span>     <span class="pl-c1">4</span>     <span class="pl-c1">2</span> <span class="pl-c1">1.0535e+01</span>  <span class="pl-c1">8.0e-01</span>    <span class="pl-c1">0.0e+00</span> (f[    <span class="pl-c1">1</span>])
    <span class="pl-c1">2</span>     <span class="pl-c1">3</span>     <span class="pl-c1">2</span>     <span class="pl-c1">4</span> <span class="pl-c1">8.4815e-01</span>  <span class="pl-c1">1.0e+00</span>    <span class="pl-c1">0.0e+00</span> (f[    <span class="pl-c1">4</span>])
    <span class="pl-c1">3</span>     <span class="pl-c1">4</span>     <span class="pl-c1">0</span>     <span class="pl-c1">3</span> <span class="pl-c1">4.4409e-16</span>  <span class="pl-c1">1.0e+00</span>    <span class="pl-c1">0.0e+00</span> (f[    <span class="pl-c1">3</span>])
pn_search terminated<span class="pl-k">:</span> no basis change.

Major Iteration Log
major minor  func  grad  residual    step  type prox    inorm  (label)
    <span class="pl-c1">0</span>     <span class="pl-c1">0</span>     <span class="pl-c1">5</span>     <span class="pl-c1">4</span> <span class="pl-c1">4.4409e-16</span>           I <span class="pl-c1">0.0e+00</span> <span class="pl-c1">4.4e-16</span> (f[    <span class="pl-c1">3</span>])

Major Iterations. . . . <span class="pl-c1">0</span>
Minor Iterations. . . . <span class="pl-c1">0</span>
Restarts. . . . . . . . <span class="pl-c1">0</span>
Crash Iterations. . . . <span class="pl-c1">3</span>
Gradient Steps. . . . . <span class="pl-c1">0</span>
Function Evaluations. . <span class="pl-c1">5</span>
Gradient Evaluations. . <span class="pl-c1">4</span>
Basis Time. . . . . . . <span class="pl-c1">0.000016</span>
Total Time. . . . . . . <span class="pl-c1">0.044383</span>
Residual. . . . . . . . <span class="pl-c1">4.440892e-16</span>
(PATHSolver<span class="pl-k">.</span>MCP_Solved, [<span class="pl-c1">2.8</span>, <span class="pl-c1">0.0</span>, <span class="pl-c1">0.8</span>, <span class="pl-c1">1.2</span>], PATHSolver<span class="pl-k">.</span><span class="pl-c1">Information</span>(<span class="pl-c1">4.4408920985006247e-16</span>, <span class="pl-c1">0.0</span>, <span class="pl-c1">0.0</span>, <span class="pl-c1">0.044383</span>, <span class="pl-c1">1.6e-5</span>, <span class="pl-c1">0.0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">3</span>, <span class="pl-c1">5</span>, <span class="pl-c1">4</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">false</span>, <span class="pl-c1">false</span>, <span class="pl-c1">false</span>, <span class="pl-c1">true</span>, <span class="pl-c1">false</span>, <span class="pl-c1">false</span>, <span class="pl-c1">false</span>))

julia<span class="pl-k">&gt;</span> status
MCP_Solved<span class="pl-k">::</span><span class="pl-c1">MCP_Termination</span> <span class="pl-k">=</span> <span class="pl-c1">1</span>

julia<span class="pl-k">&gt;</span> z
<span class="pl-c1">4</span><span class="pl-k">-</span>element Vector{Float64}<span class="pl-k">:</span>
 <span class="pl-c1">2.8</span>
 <span class="pl-c1">0.0</span>
 <span class="pl-c1">0.8</span>
 <span class="pl-c1">1.2</span></pre></div>
<h2 dir="auto"><a id="user-content-thread-safety" class="anchor" aria-hidden="true" href="#thread-safety"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Thread safety</h2>
<p dir="auto">PATH is not thread-safe and there are no known work-arounds. Do not run it in
parallel using <code>Threads.@threads</code>. See
<a href="https://github.com/chkwon/PATHSolver.jl/issues/62" data-hovercard-type="issue" data-hovercard-url="/chkwon/PATHSolver.jl/issues/62/hovercard">issue #62</a> for more details.</p>
<h2 dir="auto"><a id="user-content-factorization-methods" class="anchor" aria-hidden="true" href="#factorization-methods"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Factorization methods</h2>
<p dir="auto">By default, <code>PATHSolver.jl</code> will download the <a href="https://web.stanford.edu/group/SOL/software/lusol/" rel="nofollow">LUSOL</a>
shared library. To use LUSOL, set the following options:</p>
<div class="highlight highlight-source-julia notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="model = Model(PATHSolver.Optimizer)
set_optimizer_attribute(model, &quot;factorization_method&quot;, &quot;blu_lusol&quot;)
set_optimizer_attribute(model, &quot;factorization_library_name&quot;, PATHSolver.LUSOL_LIBRARY_PATH)"><pre>model <span class="pl-k">=</span> <span class="pl-c1">Model</span>(PATHSolver<span class="pl-k">.</span>Optimizer)
<span class="pl-c1">set_optimizer_attribute</span>(model, <span class="pl-s"><span class="pl-pds">"</span>factorization_method<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>blu_lusol<span class="pl-pds">"</span></span>)
<span class="pl-c1">set_optimizer_attribute</span>(model, <span class="pl-s"><span class="pl-pds">"</span>factorization_library_name<span class="pl-pds">"</span></span>, PATHSolver<span class="pl-k">.</span>LUSOL_LIBRARY_PATH)</pre></div>
<p dir="auto">To use <code>factorization_method umfpack</code> you will need the <code>umfpack</code> shared library that
is available directly from the <a href="http://faculty.cse.tamu.edu/davis/suitesparse.html" rel="nofollow">developers of that code for academic use</a>.</p>
<h2 dir="auto"><a id="user-content-manual-installation" class="anchor" aria-hidden="true" href="#manual-installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Manual installation</h2>
<p dir="auto">By default <code>PATHSolver.jl</code> will download a copy of the <code>libpath</code> library. If you
already have one installed and want to use that, set the <code>PATH_JL_LOCATION</code>
environment variable to point to the <code>libpath50.xx</code> library.</p>
</article></div>